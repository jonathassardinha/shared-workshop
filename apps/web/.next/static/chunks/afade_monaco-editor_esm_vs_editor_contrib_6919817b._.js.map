{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/keybindingCancellation.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorCommand, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { localize } from '../../../../nls.js';\nconst IEditorCancellationTokens = createDecorator('IEditorCancelService');\nconst ctxCancellableOperation = new RawContextKey('cancellableOperation', false, localize('cancellableOperation', 'Whether the editor runs a cancellable operation, e.g. like \\'Peek References\\''));\nregisterSingleton(IEditorCancellationTokens, class {\n    constructor() {\n        this._tokens = new WeakMap();\n    }\n    add(editor, cts) {\n        let data = this._tokens.get(editor);\n        if (!data) {\n            data = editor.invokeWithinContext(accessor => {\n                const key = ctxCancellableOperation.bindTo(accessor.get(IContextKeyService));\n                const tokens = new LinkedList();\n                return { key, tokens };\n            });\n            this._tokens.set(editor, data);\n        }\n        let removeFn;\n        data.key.set(true);\n        removeFn = data.tokens.push(cts);\n        return () => {\n            // remove w/o cancellation\n            if (removeFn) {\n                removeFn();\n                data.key.set(!data.tokens.isEmpty());\n                removeFn = undefined;\n            }\n        };\n    }\n    cancel(editor) {\n        const data = this._tokens.get(editor);\n        if (!data) {\n            return;\n        }\n        // remove with cancellation\n        const cts = data.tokens.pop();\n        if (cts) {\n            cts.cancel();\n            data.key.set(!data.tokens.isEmpty());\n        }\n    }\n}, 1 /* InstantiationType.Delayed */);\nexport class EditorKeybindingCancellationTokenSource extends CancellationTokenSource {\n    constructor(editor, parent) {\n        super(parent);\n        this.editor = editor;\n        this._unregister = editor.invokeWithinContext(accessor => accessor.get(IEditorCancellationTokens).add(editor, this));\n    }\n    dispose() {\n        this._unregister();\n        super.dispose();\n    }\n}\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: 'editor.cancelOperation',\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 9 /* KeyCode.Escape */\n            },\n            precondition: ctxCancellableOperation\n        });\n    }\n    runEditorCommand(accessor, editor) {\n        accessor.get(IEditorCancellationTokens).cancel(editor);\n    }\n});\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;AACA,MAAM,4BAA4B,CAAA,GAAA,sQAAA,CAAA,kBAAe,AAAD,EAAE;AAClD,MAAM,0BAA0B,IAAI,gQAAA,CAAA,gBAAa,CAAC,wBAAwB,OAAO,CAAA,GAAA,qOAAA,CAAA,WAAQ,AAAD,EAAE,wBAAwB;AAClH,CAAA,GAAA,mQAAA,CAAA,oBAAiB,AAAD,EAAE,2BAA2B;IAIzC,IAAI,MAAM,EAAE,GAAG,EAAE;QACb,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;QAC5B,IAAI,CAAC,MAAM;YACP,OAAO,OAAO,mBAAmB,CAAC,CAAA;gBAC9B,MAAM,MAAM,wBAAwB,MAAM,CAAC,SAAS,GAAG,CAAC,gQAAA,CAAA,qBAAkB;gBAC1E,MAAM,SAAS,IAAI,8OAAA,CAAA,aAAU;gBAC7B,OAAO;oBAAE;oBAAK;gBAAO;YACzB;YACA,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ;QAC7B;QACA,IAAI;QACJ,KAAK,GAAG,CAAC,GAAG,CAAC;QACb,WAAW,KAAK,MAAM,CAAC,IAAI,CAAC;QAC5B,OAAO;YACH,0BAA0B;YAC1B,IAAI,UAAU;gBACV;gBACA,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO;gBACjC,WAAW;YACf;QACJ;IACJ;IACA,OAAO,MAAM,EAAE;QACX,MAAM,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;QAC9B,IAAI,CAAC,MAAM;YACP;QACJ;QACA,2BAA2B;QAC3B,MAAM,MAAM,KAAK,MAAM,CAAC,GAAG;QAC3B,IAAI,KAAK;YACL,IAAI,MAAM;YACV,KAAK,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM,CAAC,OAAO;QACrC;IACJ;IApCA,aAAc;QACV,IAAI,CAAC,OAAO,GAAG,IAAI;IACvB;AAmCJ,GAAG,EAAE,6BAA6B;AAC3B,MAAM,gDAAgD,gPAAA,CAAA,0BAAuB;IAMhF,UAAU;QACN,IAAI,CAAC,WAAW;QAChB,KAAK,CAAC;IACV;IARA,YAAY,MAAM,EAAE,MAAM,CAAE;QACxB,KAAK,CAAC;QACN,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,WAAW,GAAG,OAAO,mBAAmB,CAAC,CAAA,WAAY,SAAS,GAAG,CAAC,2BAA2B,GAAG,CAAC,QAAQ,IAAI;IACtH;AAKJ;AACA,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI,cAAc,uPAAA,CAAA,gBAAa;IAWjD,iBAAiB,QAAQ,EAAE,MAAM,EAAE;QAC/B,SAAS,GAAG,CAAC,2BAA2B,MAAM,CAAC;IACnD;IAZA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,QAAQ;gBACJ,QAAQ,IAAI,kCAAkC;gBAC9C,SAAS,EAAE,kBAAkB;YACjC;YACA,cAAc;QAClB;IACJ;AAIJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/editorState/browser/editorState.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorKeybindingCancellationTokenSource } from './keybindingCancellation.js';\nexport class EditorState {\n    constructor(editor, flags) {\n        this.flags = flags;\n        if ((this.flags & 1 /* CodeEditorStateFlag.Value */) !== 0) {\n            const model = editor.getModel();\n            this.modelVersionId = model ? strings.format('{0}#{1}', model.uri.toString(), model.getVersionId()) : null;\n        }\n        else {\n            this.modelVersionId = null;\n        }\n        if ((this.flags & 4 /* CodeEditorStateFlag.Position */) !== 0) {\n            this.position = editor.getPosition();\n        }\n        else {\n            this.position = null;\n        }\n        if ((this.flags & 2 /* CodeEditorStateFlag.Selection */) !== 0) {\n            this.selection = editor.getSelection();\n        }\n        else {\n            this.selection = null;\n        }\n        if ((this.flags & 8 /* CodeEditorStateFlag.Scroll */) !== 0) {\n            this.scrollLeft = editor.getScrollLeft();\n            this.scrollTop = editor.getScrollTop();\n        }\n        else {\n            this.scrollLeft = -1;\n            this.scrollTop = -1;\n        }\n    }\n    _equals(other) {\n        if (!(other instanceof EditorState)) {\n            return false;\n        }\n        const state = other;\n        if (this.modelVersionId !== state.modelVersionId) {\n            return false;\n        }\n        if (this.scrollLeft !== state.scrollLeft || this.scrollTop !== state.scrollTop) {\n            return false;\n        }\n        if (!this.position && state.position || this.position && !state.position || this.position && state.position && !this.position.equals(state.position)) {\n            return false;\n        }\n        if (!this.selection && state.selection || this.selection && !state.selection || this.selection && state.selection && !this.selection.equalsRange(state.selection)) {\n            return false;\n        }\n        return true;\n    }\n    validate(editor) {\n        return this._equals(new EditorState(editor, this.flags));\n    }\n}\n/**\n * A cancellation token source that cancels when the editor changes as expressed\n * by the provided flags\n * @param range If provided, changes in position and selection within this range will not trigger cancellation\n */\nexport class EditorStateCancellationTokenSource extends EditorKeybindingCancellationTokenSource {\n    constructor(editor, flags, range, parent) {\n        super(editor, parent);\n        this._listener = new DisposableStore();\n        if (flags & 4 /* CodeEditorStateFlag.Position */) {\n            this._listener.add(editor.onDidChangeCursorPosition(e => {\n                if (!range || !Range.containsPosition(range, e.position)) {\n                    this.cancel();\n                }\n            }));\n        }\n        if (flags & 2 /* CodeEditorStateFlag.Selection */) {\n            this._listener.add(editor.onDidChangeCursorSelection(e => {\n                if (!range || !Range.containsRange(range, e.selection)) {\n                    this.cancel();\n                }\n            }));\n        }\n        if (flags & 8 /* CodeEditorStateFlag.Scroll */) {\n            this._listener.add(editor.onDidScrollChange(_ => this.cancel()));\n        }\n        if (flags & 1 /* CodeEditorStateFlag.Value */) {\n            this._listener.add(editor.onDidChangeModel(_ => this.cancel()));\n            this._listener.add(editor.onDidChangeModelContent(_ => this.cancel()));\n        }\n    }\n    dispose() {\n        this._listener.dispose();\n        super.dispose();\n    }\n}\n/**\n * A cancellation token source that cancels when the provided model changes\n */\nexport class TextModelCancellationTokenSource extends CancellationTokenSource {\n    constructor(model, parent) {\n        super(parent);\n        this._listener = model.onDidChangeContent(() => this.cancel());\n    }\n    dispose() {\n        this._listener.dispose();\n        super.dispose();\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/format/browser/formattingEdit.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\nexport class FormattingEdit {\n    static _handleEolEdits(editor, edits) {\n        let newEol = undefined;\n        const singleEdits = [];\n        for (const edit of edits) {\n            if (typeof edit.eol === 'number') {\n                newEol = edit.eol;\n            }\n            if (edit.range && typeof edit.text === 'string') {\n                singleEdits.push(edit);\n            }\n        }\n        if (typeof newEol === 'number') {\n            if (editor.hasModel()) {\n                editor.getModel().pushEOL(newEol);\n            }\n        }\n        return singleEdits;\n    }\n    static _isFullModelReplaceEdit(editor, edit) {\n        if (!editor.hasModel()) {\n            return false;\n        }\n        const model = editor.getModel();\n        const editRange = model.validateRange(edit.range);\n        const fullModelRange = model.getFullModelRange();\n        return fullModelRange.equalsRange(editRange);\n    }\n    static execute(editor, _edits, addUndoStops) {\n        if (addUndoStops) {\n            editor.pushUndoStop();\n        }\n        const scrollState = StableEditorScrollState.capture(editor);\n        const edits = FormattingEdit._handleEolEdits(editor, _edits);\n        if (edits.length === 1 && FormattingEdit._isFullModelReplaceEdit(editor, edits[0])) {\n            // We use replace semantics and hope that markers stay put...\n            editor.executeEdits('formatEditsCommand', edits.map(edit => EditOperation.replace(Range.lift(edit.range), edit.text)));\n        }\n        else {\n            editor.executeEdits('formatEditsCommand', edits.map(edit => EditOperation.replaceMove(Range.lift(edit.range), edit.text)));\n        }\n        if (addUndoStops) {\n            editor.pushUndoStop();\n        }\n        scrollState.restoreRelativeVerticalPositionOfCursor(editor);\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;;;;AACO,MAAM;IACT,OAAO,gBAAgB,MAAM,EAAE,KAAK,EAAE;QAClC,IAAI,SAAS;QACb,MAAM,cAAc,EAAE;QACtB,KAAK,MAAM,QAAQ,MAAO;YACtB,IAAI,OAAO,KAAK,GAAG,KAAK,UAAU;gBAC9B,SAAS,KAAK,GAAG;YACrB;YACA,IAAI,KAAK,KAAK,IAAI,OAAO,KAAK,IAAI,KAAK,UAAU;gBAC7C,YAAY,IAAI,CAAC;YACrB;QACJ;QACA,IAAI,OAAO,WAAW,UAAU;YAC5B,IAAI,OAAO,QAAQ,IAAI;gBACnB,OAAO,QAAQ,GAAG,OAAO,CAAC;YAC9B;QACJ;QACA,OAAO;IACX;IACA,OAAO,wBAAwB,MAAM,EAAE,IAAI,EAAE;QACzC,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB,OAAO;QACX;QACA,MAAM,QAAQ,OAAO,QAAQ;QAC7B,MAAM,YAAY,MAAM,aAAa,CAAC,KAAK,KAAK;QAChD,MAAM,iBAAiB,MAAM,iBAAiB;QAC9C,OAAO,eAAe,WAAW,CAAC;IACtC;IACA,OAAO,QAAQ,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE;QACzC,IAAI,cAAc;YACd,OAAO,YAAY;QACvB;QACA,MAAM,cAAc,yPAAA,CAAA,0BAAuB,CAAC,OAAO,CAAC;QACpD,MAAM,QAAQ,eAAe,eAAe,CAAC,QAAQ;QACrD,IAAI,MAAM,MAAM,KAAK,KAAK,eAAe,uBAAuB,CAAC,QAAQ,KAAK,CAAC,EAAE,GAAG;YAChF,6DAA6D;YAC7D,OAAO,YAAY,CAAC,sBAAsB,MAAM,GAAG,CAAC,CAAA,OAAQ,2PAAA,CAAA,gBAAa,CAAC,OAAO,CAAC,mPAAA,CAAA,QAAK,CAAC,IAAI,CAAC,KAAK,KAAK,GAAG,KAAK,IAAI;QACvH,OACK;YACD,OAAO,YAAY,CAAC,sBAAsB,MAAM,GAAG,CAAC,CAAA,OAAQ,2PAAA,CAAA,gBAAa,CAAC,WAAW,CAAC,mPAAA,CAAA,QAAK,CAAC,IAAI,CAAC,KAAK,KAAK,GAAG,KAAK,IAAI;QAC3H;QACA,IAAI,cAAc;YACd,OAAO,YAAY;QACvB;QACA,YAAY,uCAAuC,CAAC;IACxD;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/format/browser/format.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { asArray, isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorStateCancellationTokenSource, TextModelCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { FormattingEdit } from './formattingEdit.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ExtensionIdentifierSet } from '../../../../platform/extensions/common/extensions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nexport function getRealAndSyntheticDocumentFormattersOrdered(documentFormattingEditProvider, documentRangeFormattingEditProvider, model) {\n    const result = [];\n    const seen = new ExtensionIdentifierSet();\n    // (1) add all document formatter\n    const docFormatter = documentFormattingEditProvider.ordered(model);\n    for (const formatter of docFormatter) {\n        result.push(formatter);\n        if (formatter.extensionId) {\n            seen.add(formatter.extensionId);\n        }\n    }\n    // (2) add all range formatter as document formatter (unless the same extension already did that)\n    const rangeFormatter = documentRangeFormattingEditProvider.ordered(model);\n    for (const formatter of rangeFormatter) {\n        if (formatter.extensionId) {\n            if (seen.has(formatter.extensionId)) {\n                continue;\n            }\n            seen.add(formatter.extensionId);\n        }\n        result.push({\n            displayName: formatter.displayName,\n            extensionId: formatter.extensionId,\n            provideDocumentFormattingEdits(model, options, token) {\n                return formatter.provideDocumentRangeFormattingEdits(model, model.getFullModelRange(), options, token);\n            }\n        });\n    }\n    return result;\n}\nexport class FormattingConflicts {\n    static { this._selectors = new LinkedList(); }\n    static setFormatterSelector(selector) {\n        const remove = FormattingConflicts._selectors.unshift(selector);\n        return { dispose: remove };\n    }\n    static async select(formatter, document, mode, kind) {\n        if (formatter.length === 0) {\n            return undefined;\n        }\n        const selector = Iterable.first(FormattingConflicts._selectors);\n        if (selector) {\n            return await selector(formatter, document, mode, kind);\n        }\n        return undefined;\n    }\n}\nexport async function formatDocumentRangesWithSelectedProvider(accessor, editorOrModel, rangeOrRanges, mode, progress, token, userGesture) {\n    const instaService = accessor.get(IInstantiationService);\n    const { documentRangeFormattingEditProvider: documentRangeFormattingEditProviderRegistry } = accessor.get(ILanguageFeaturesService);\n    const model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\n    const provider = documentRangeFormattingEditProviderRegistry.ordered(model);\n    const selected = await FormattingConflicts.select(provider, model, mode, 2 /* FormattingKind.Selection */);\n    if (selected) {\n        progress.report(selected);\n        await instaService.invokeFunction(formatDocumentRangesWithProvider, selected, editorOrModel, rangeOrRanges, token, userGesture);\n    }\n}\nexport async function formatDocumentRangesWithProvider(accessor, provider, editorOrModel, rangeOrRanges, token, userGesture) {\n    const workerService = accessor.get(IEditorWorkerService);\n    const logService = accessor.get(ILogService);\n    const accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n    let model;\n    let cts;\n    if (isCodeEditor(editorOrModel)) {\n        model = editorOrModel.getModel();\n        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */, undefined, token);\n    }\n    else {\n        model = editorOrModel;\n        cts = new TextModelCancellationTokenSource(editorOrModel, token);\n    }\n    // make sure that ranges don't overlap nor touch each other\n    const ranges = [];\n    let len = 0;\n    for (const range of asArray(rangeOrRanges).sort(Range.compareRangesUsingStarts)) {\n        if (len > 0 && Range.areIntersectingOrTouching(ranges[len - 1], range)) {\n            ranges[len - 1] = Range.fromPositions(ranges[len - 1].getStartPosition(), range.getEndPosition());\n        }\n        else {\n            len = ranges.push(range);\n        }\n    }\n    const computeEdits = async (range) => {\n        logService.trace(`[format][provideDocumentRangeFormattingEdits] (request)`, provider.extensionId?.value, range);\n        const result = (await provider.provideDocumentRangeFormattingEdits(model, range, model.getFormattingOptions(), cts.token)) || [];\n        logService.trace(`[format][provideDocumentRangeFormattingEdits] (response)`, provider.extensionId?.value, result);\n        return result;\n    };\n    const hasIntersectingEdit = (a, b) => {\n        if (!a.length || !b.length) {\n            return false;\n        }\n        // quick exit if the list of ranges are completely unrelated [O(n)]\n        const mergedA = a.reduce((acc, val) => { return Range.plusRange(acc, val.range); }, a[0].range);\n        if (!b.some(x => { return Range.intersectRanges(mergedA, x.range); })) {\n            return false;\n        }\n        // fallback to a complete check [O(n^2)]\n        for (const edit of a) {\n            for (const otherEdit of b) {\n                if (Range.intersectRanges(edit.range, otherEdit.range)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    };\n    const allEdits = [];\n    const rawEditsList = [];\n    try {\n        if (typeof provider.provideDocumentRangesFormattingEdits === 'function') {\n            logService.trace(`[format][provideDocumentRangeFormattingEdits] (request)`, provider.extensionId?.value, ranges);\n            const result = (await provider.provideDocumentRangesFormattingEdits(model, ranges, model.getFormattingOptions(), cts.token)) || [];\n            logService.trace(`[format][provideDocumentRangeFormattingEdits] (response)`, provider.extensionId?.value, result);\n            rawEditsList.push(result);\n        }\n        else {\n            for (const range of ranges) {\n                if (cts.token.isCancellationRequested) {\n                    return true;\n                }\n                rawEditsList.push(await computeEdits(range));\n            }\n            for (let i = 0; i < ranges.length; ++i) {\n                for (let j = i + 1; j < ranges.length; ++j) {\n                    if (cts.token.isCancellationRequested) {\n                        return true;\n                    }\n                    if (hasIntersectingEdit(rawEditsList[i], rawEditsList[j])) {\n                        // Merge ranges i and j into a single range, recompute the associated edits\n                        const mergedRange = Range.plusRange(ranges[i], ranges[j]);\n                        const edits = await computeEdits(mergedRange);\n                        ranges.splice(j, 1);\n                        ranges.splice(i, 1);\n                        ranges.push(mergedRange);\n                        rawEditsList.splice(j, 1);\n                        rawEditsList.splice(i, 1);\n                        rawEditsList.push(edits);\n                        // Restart scanning\n                        i = 0;\n                        j = 0;\n                    }\n                }\n            }\n        }\n        for (const rawEdits of rawEditsList) {\n            if (cts.token.isCancellationRequested) {\n                return true;\n            }\n            const minimalEdits = await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n            if (minimalEdits) {\n                allEdits.push(...minimalEdits);\n            }\n        }\n    }\n    finally {\n        cts.dispose();\n    }\n    if (allEdits.length === 0) {\n        return false;\n    }\n    if (isCodeEditor(editorOrModel)) {\n        // use editor to apply edits\n        FormattingEdit.execute(editorOrModel, allEdits, true);\n        editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* ScrollType.Immediate */);\n    }\n    else {\n        // use model to apply edits\n        const [{ range }] = allEdits;\n        const initialSelection = new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n        model.pushEditOperations([initialSelection], allEdits.map(edit => {\n            return {\n                text: edit.text,\n                range: Range.lift(edit.range),\n                forceMoveMarkers: true\n            };\n        }), undoEdits => {\n            for (const { range } of undoEdits) {\n                if (Range.areIntersectingOrTouching(range, initialSelection)) {\n                    return [new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn)];\n                }\n            }\n            return null;\n        });\n    }\n    accessibilitySignalService.playSignal(AccessibilitySignal.format, { userGesture });\n    return true;\n}\nexport async function formatDocumentWithSelectedProvider(accessor, editorOrModel, mode, progress, token, userGesture) {\n    const instaService = accessor.get(IInstantiationService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const model = isCodeEditor(editorOrModel) ? editorOrModel.getModel() : editorOrModel;\n    const provider = getRealAndSyntheticDocumentFormattersOrdered(languageFeaturesService.documentFormattingEditProvider, languageFeaturesService.documentRangeFormattingEditProvider, model);\n    const selected = await FormattingConflicts.select(provider, model, mode, 1 /* FormattingKind.File */);\n    if (selected) {\n        progress.report(selected);\n        await instaService.invokeFunction(formatDocumentWithProvider, selected, editorOrModel, mode, token, userGesture);\n    }\n}\nexport async function formatDocumentWithProvider(accessor, provider, editorOrModel, mode, token, userGesture) {\n    const workerService = accessor.get(IEditorWorkerService);\n    const accessibilitySignalService = accessor.get(IAccessibilitySignalService);\n    let model;\n    let cts;\n    if (isCodeEditor(editorOrModel)) {\n        model = editorOrModel.getModel();\n        cts = new EditorStateCancellationTokenSource(editorOrModel, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */, undefined, token);\n    }\n    else {\n        model = editorOrModel;\n        cts = new TextModelCancellationTokenSource(editorOrModel, token);\n    }\n    let edits;\n    try {\n        const rawEdits = await provider.provideDocumentFormattingEdits(model, model.getFormattingOptions(), cts.token);\n        edits = await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n        if (cts.token.isCancellationRequested) {\n            return true;\n        }\n    }\n    finally {\n        cts.dispose();\n    }\n    if (!edits || edits.length === 0) {\n        return false;\n    }\n    if (isCodeEditor(editorOrModel)) {\n        // use editor to apply edits\n        FormattingEdit.execute(editorOrModel, edits, mode !== 2 /* FormattingMode.Silent */);\n        if (mode !== 2 /* FormattingMode.Silent */) {\n            editorOrModel.revealPositionInCenterIfOutsideViewport(editorOrModel.getPosition(), 1 /* ScrollType.Immediate */);\n        }\n    }\n    else {\n        // use model to apply edits\n        const [{ range }] = edits;\n        const initialSelection = new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n        model.pushEditOperations([initialSelection], edits.map(edit => {\n            return {\n                text: edit.text,\n                range: Range.lift(edit.range),\n                forceMoveMarkers: true\n            };\n        }), undoEdits => {\n            for (const { range } of undoEdits) {\n                if (Range.areIntersectingOrTouching(range, initialSelection)) {\n                    return [new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn)];\n                }\n            }\n            return null;\n        });\n    }\n    accessibilitySignalService.playSignal(AccessibilitySignal.format, { userGesture });\n    return true;\n}\nexport async function getDocumentRangeFormattingEditsUntilResult(workerService, languageFeaturesService, model, range, options, token) {\n    const providers = languageFeaturesService.documentRangeFormattingEditProvider.ordered(model);\n    for (const provider of providers) {\n        const rawEdits = await Promise.resolve(provider.provideDocumentRangeFormattingEdits(model, range, options, token)).catch(onUnexpectedExternalError);\n        if (isNonEmptyArray(rawEdits)) {\n            return await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n        }\n    }\n    return undefined;\n}\nexport async function getDocumentFormattingEditsUntilResult(workerService, languageFeaturesService, model, options, token) {\n    const providers = getRealAndSyntheticDocumentFormattersOrdered(languageFeaturesService.documentFormattingEditProvider, languageFeaturesService.documentRangeFormattingEditProvider, model);\n    for (const provider of providers) {\n        const rawEdits = await Promise.resolve(provider.provideDocumentFormattingEdits(model, options, token)).catch(onUnexpectedExternalError);\n        if (isNonEmptyArray(rawEdits)) {\n            return await workerService.computeMoreMinimalEdits(model.uri, rawEdits);\n        }\n    }\n    return undefined;\n}\nexport function getOnTypeFormattingEdits(workerService, languageFeaturesService, model, position, ch, options, token) {\n    const providers = languageFeaturesService.onTypeFormattingEditProvider.ordered(model);\n    if (providers.length === 0) {\n        return Promise.resolve(undefined);\n    }\n    if (providers[0].autoFormatTriggerCharacters.indexOf(ch) < 0) {\n        return Promise.resolve(undefined);\n    }\n    return Promise.resolve(providers[0].provideOnTypeFormattingEdits(model, position, ch, options, token)).catch(onUnexpectedExternalError).then(edits => {\n        return workerService.computeMoreMinimalEdits(model.uri, edits);\n    });\n}\nCommandsRegistry.registerCommand('_executeFormatRangeProvider', async function (accessor, ...args) {\n    const [resource, range, options] = args;\n    assertType(URI.isUri(resource));\n    assertType(Range.isIRange(range));\n    const resolverService = accessor.get(ITextModelService);\n    const workerService = accessor.get(IEditorWorkerService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const reference = await resolverService.createModelReference(resource);\n    try {\n        return getDocumentRangeFormattingEditsUntilResult(workerService, languageFeaturesService, reference.object.textEditorModel, Range.lift(range), options, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\nCommandsRegistry.registerCommand('_executeFormatDocumentProvider', async function (accessor, ...args) {\n    const [resource, options] = args;\n    assertType(URI.isUri(resource));\n    const resolverService = accessor.get(ITextModelService);\n    const workerService = accessor.get(IEditorWorkerService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const reference = await resolverService.createModelReference(resource);\n    try {\n        return getDocumentFormattingEditsUntilResult(workerService, languageFeaturesService, reference.object.textEditorModel, options, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\nCommandsRegistry.registerCommand('_executeFormatOnTypeProvider', async function (accessor, ...args) {\n    const [resource, position, ch, options] = args;\n    assertType(URI.isUri(resource));\n    assertType(Position.isIPosition(position));\n    assertType(typeof ch === 'string');\n    const resolverService = accessor.get(ITextModelService);\n    const workerService = accessor.get(IEditorWorkerService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const reference = await resolverService.createModelReference(resource);\n    try {\n        return getOnTypeFormattingEdits(workerService, languageFeaturesService, reference.object.textEditorModel, Position.lift(position), ch, options, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 686, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/format/browser/formatActions.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { formatDocumentRangesWithSelectedProvider, formatDocumentWithSelectedProvider, getOnTypeFormattingEdits } from './format.js';\nimport { FormattingEdit } from './formattingEdit.js';\nimport * as nls from '../../../../nls.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IEditorProgressService, Progress } from '../../../../platform/progress/common/progress.js';\nlet FormatOnType = class FormatOnType {\n    static { this.ID = 'editor.contrib.autoFormat'; }\n    constructor(_editor, _languageFeaturesService, _workerService, _accessibilitySignalService) {\n        this._editor = _editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._workerService = _workerService;\n        this._accessibilitySignalService = _accessibilitySignalService;\n        this._disposables = new DisposableStore();\n        this._sessionDisposables = new DisposableStore();\n        this._disposables.add(_languageFeaturesService.onTypeFormattingEditProvider.onDidChange(this._update, this));\n        this._disposables.add(_editor.onDidChangeModel(() => this._update()));\n        this._disposables.add(_editor.onDidChangeModelLanguage(() => this._update()));\n        this._disposables.add(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(56 /* EditorOption.formatOnType */)) {\n                this._update();\n            }\n        }));\n        this._update();\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._sessionDisposables.dispose();\n    }\n    _update() {\n        // clean up\n        this._sessionDisposables.clear();\n        // we are disabled\n        if (!this._editor.getOption(56 /* EditorOption.formatOnType */)) {\n            return;\n        }\n        // no model\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        // no support\n        const [support] = this._languageFeaturesService.onTypeFormattingEditProvider.ordered(model);\n        if (!support || !support.autoFormatTriggerCharacters) {\n            return;\n        }\n        // register typing listeners that will trigger the format\n        const triggerChars = new CharacterSet();\n        for (const ch of support.autoFormatTriggerCharacters) {\n            triggerChars.add(ch.charCodeAt(0));\n        }\n        this._sessionDisposables.add(this._editor.onDidType((text) => {\n            const lastCharCode = text.charCodeAt(text.length - 1);\n            if (triggerChars.has(lastCharCode)) {\n                this._trigger(String.fromCharCode(lastCharCode));\n            }\n        }));\n    }\n    _trigger(ch) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (this._editor.getSelections().length > 1 || !this._editor.getSelection().isEmpty()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        const position = this._editor.getPosition();\n        const cts = new CancellationTokenSource();\n        // install a listener that checks if edits happens before the\n        // position on which we format right now. If so, we won't\n        // apply the format edits\n        const unbind = this._editor.onDidChangeModelContent((e) => {\n            if (e.isFlush) {\n                // a model.setValue() was called\n                // cancel only once\n                cts.cancel();\n                unbind.dispose();\n                return;\n            }\n            for (let i = 0, len = e.changes.length; i < len; i++) {\n                const change = e.changes[i];\n                if (change.range.endLineNumber <= position.lineNumber) {\n                    // cancel only once\n                    cts.cancel();\n                    unbind.dispose();\n                    return;\n                }\n            }\n        });\n        getOnTypeFormattingEdits(this._workerService, this._languageFeaturesService, model, position, ch, model.getFormattingOptions(), cts.token).then(edits => {\n            if (cts.token.isCancellationRequested) {\n                return;\n            }\n            if (isNonEmptyArray(edits)) {\n                this._accessibilitySignalService.playSignal(AccessibilitySignal.format, { userGesture: false });\n                FormattingEdit.execute(this._editor, edits, true);\n            }\n        }).finally(() => {\n            unbind.dispose();\n        });\n    }\n};\nFormatOnType = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, IEditorWorkerService),\n    __param(3, IAccessibilitySignalService)\n], FormatOnType);\nexport { FormatOnType };\nlet FormatOnPaste = class FormatOnPaste {\n    static { this.ID = 'editor.contrib.formatOnPaste'; }\n    constructor(editor, _languageFeaturesService, _instantiationService) {\n        this.editor = editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._instantiationService = _instantiationService;\n        this._callOnDispose = new DisposableStore();\n        this._callOnModel = new DisposableStore();\n        this._callOnDispose.add(editor.onDidChangeConfiguration(() => this._update()));\n        this._callOnDispose.add(editor.onDidChangeModel(() => this._update()));\n        this._callOnDispose.add(editor.onDidChangeModelLanguage(() => this._update()));\n        this._callOnDispose.add(_languageFeaturesService.documentRangeFormattingEditProvider.onDidChange(this._update, this));\n    }\n    dispose() {\n        this._callOnDispose.dispose();\n        this._callOnModel.dispose();\n    }\n    _update() {\n        // clean up\n        this._callOnModel.clear();\n        // we are disabled\n        if (!this.editor.getOption(55 /* EditorOption.formatOnPaste */)) {\n            return;\n        }\n        // no model\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        // no formatter\n        if (!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())) {\n            return;\n        }\n        this._callOnModel.add(this.editor.onDidPaste(({ range }) => this._trigger(range)));\n    }\n    _trigger(range) {\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        if (this.editor.getSelections().length > 1) {\n            return;\n        }\n        this._instantiationService.invokeFunction(formatDocumentRangesWithSelectedProvider, this.editor, range, 2 /* FormattingMode.Silent */, Progress.None, CancellationToken.None, false).catch(onUnexpectedError);\n    }\n};\nFormatOnPaste = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, IInstantiationService)\n], FormatOnPaste);\nclass FormatDocumentAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.formatDocument',\n            label: nls.localize('formatDocument.label', \"Format Document\"),\n            alias: 'Format Document',\n            precondition: ContextKeyExpr.and(EditorContextKeys.notInCompositeEditor, EditorContextKeys.writable, EditorContextKeys.hasDocumentFormattingProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 36 /* KeyCode.KeyF */,\n                linux: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 39 /* KeyCode.KeyI */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: '1_modification',\n                order: 1.3\n            }\n        });\n    }\n    async run(accessor, editor) {\n        if (editor.hasModel()) {\n            const instaService = accessor.get(IInstantiationService);\n            const progressService = accessor.get(IEditorProgressService);\n            await progressService.showWhile(instaService.invokeFunction(formatDocumentWithSelectedProvider, editor, 1 /* FormattingMode.Explicit */, Progress.None, CancellationToken.None, true), 250);\n        }\n    }\n}\nclass FormatSelectionAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.formatSelection',\n            label: nls.localize('formatSelection.label', \"Format Selection\"),\n            alias: 'Format Selection',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasDocumentSelectionFormattingProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 36 /* KeyCode.KeyF */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                when: EditorContextKeys.hasNonEmptySelection,\n                group: '1_modification',\n                order: 1.31\n            }\n        });\n    }\n    async run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const instaService = accessor.get(IInstantiationService);\n        const model = editor.getModel();\n        const ranges = editor.getSelections().map(range => {\n            return range.isEmpty()\n                ? new Range(range.startLineNumber, 1, range.startLineNumber, model.getLineMaxColumn(range.startLineNumber))\n                : range;\n        });\n        const progressService = accessor.get(IEditorProgressService);\n        await progressService.showWhile(instaService.invokeFunction(formatDocumentRangesWithSelectedProvider, editor, ranges, 1 /* FormattingMode.Explicit */, Progress.None, CancellationToken.None, true), 250);\n    }\n}\nregisterEditorContribution(FormatOnType.ID, FormatOnType, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorContribution(FormatOnPaste.ID, FormatOnPaste, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(FormatDocumentAction);\nregisterEditorAction(FormatSelectionAction);\n// this is the old format action that does both (format document OR format selection)\n// and we keep it here such that existing keybinding configurations etc will still work\nCommandsRegistry.registerCommand('editor.action.format', async (accessor) => {\n    const editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (!editor || !editor.hasModel()) {\n        return;\n    }\n    const commandService = accessor.get(ICommandService);\n    if (editor.getSelection().isEmpty()) {\n        await commandService.executeCommand('editor.action.formatDocument');\n    }\n    else {\n        await commandService.executeCommand('editor.action.formatSelection');\n    }\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 981, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/anchorSelect/browser/anchorSelect.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SelectionAnchorController_1;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport './anchorSelect.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const SelectionAnchorSet = new RawContextKey('selectionAnchorSet', false);\nlet SelectionAnchorController = class SelectionAnchorController {\n    static { SelectionAnchorController_1 = this; }\n    static { this.ID = 'editor.contrib.selectionAnchorController'; }\n    static get(editor) {\n        return editor.getContribution(SelectionAnchorController_1.ID);\n    }\n    constructor(editor, contextKeyService) {\n        this.editor = editor;\n        this.selectionAnchorSetContextKey = SelectionAnchorSet.bindTo(contextKeyService);\n        this.modelChangeListener = editor.onDidChangeModel(() => this.selectionAnchorSetContextKey.reset());\n    }\n    setSelectionAnchor() {\n        if (this.editor.hasModel()) {\n            const position = this.editor.getPosition();\n            this.editor.changeDecorations((accessor) => {\n                if (this.decorationId) {\n                    accessor.removeDecoration(this.decorationId);\n                }\n                this.decorationId = accessor.addDecoration(Selection.fromPositions(position, position), {\n                    description: 'selection-anchor',\n                    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n                    hoverMessage: new MarkdownString().appendText(localize('selectionAnchor', \"Selection Anchor\")),\n                    className: 'selection-anchor'\n                });\n            });\n            this.selectionAnchorSetContextKey.set(!!this.decorationId);\n            alert(localize('anchorSet', \"Anchor set at {0}:{1}\", position.lineNumber, position.column));\n        }\n    }\n    goToSelectionAnchor() {\n        if (this.editor.hasModel() && this.decorationId) {\n            const anchorPosition = this.editor.getModel().getDecorationRange(this.decorationId);\n            if (anchorPosition) {\n                this.editor.setPosition(anchorPosition.getStartPosition());\n            }\n        }\n    }\n    selectFromAnchorToCursor() {\n        if (this.editor.hasModel() && this.decorationId) {\n            const start = this.editor.getModel().getDecorationRange(this.decorationId);\n            if (start) {\n                const end = this.editor.getPosition();\n                this.editor.setSelection(Selection.fromPositions(start.getStartPosition(), end));\n                this.cancelSelectionAnchor();\n            }\n        }\n    }\n    cancelSelectionAnchor() {\n        if (this.decorationId) {\n            const decorationId = this.decorationId;\n            this.editor.changeDecorations((accessor) => {\n                accessor.removeDecoration(decorationId);\n                this.decorationId = undefined;\n            });\n            this.selectionAnchorSetContextKey.set(false);\n        }\n    }\n    dispose() {\n        this.cancelSelectionAnchor();\n        this.modelChangeListener.dispose();\n    }\n};\nSelectionAnchorController = SelectionAnchorController_1 = __decorate([\n    __param(1, IContextKeyService)\n], SelectionAnchorController);\nclass SetSelectionAnchor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.setSelectionAnchor',\n            label: localize('setSelectionAnchor', \"Set Selection Anchor\"),\n            alias: 'Set Selection Anchor',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 32 /* KeyCode.KeyB */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    async run(_accessor, editor) {\n        SelectionAnchorController.get(editor)?.setSelectionAnchor();\n    }\n}\nclass GoToSelectionAnchor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.goToSelectionAnchor',\n            label: localize('goToSelectionAnchor', \"Go to Selection Anchor\"),\n            alias: 'Go to Selection Anchor',\n            precondition: SelectionAnchorSet,\n        });\n    }\n    async run(_accessor, editor) {\n        SelectionAnchorController.get(editor)?.goToSelectionAnchor();\n    }\n}\nclass SelectFromAnchorToCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectFromAnchorToCursor',\n            label: localize('selectFromAnchorToCursor', \"Select from Anchor to Cursor\"),\n            alias: 'Select from Anchor to Cursor',\n            precondition: SelectionAnchorSet,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    async run(_accessor, editor) {\n        SelectionAnchorController.get(editor)?.selectFromAnchorToCursor();\n    }\n}\nclass CancelSelectionAnchor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.cancelSelectionAnchor',\n            label: localize('cancelSelectionAnchor', \"Cancel Selection Anchor\"),\n            alias: 'Cancel Selection Anchor',\n            precondition: SelectionAnchorSet,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 9 /* KeyCode.Escape */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    async run(_accessor, editor) {\n        SelectionAnchorController.get(editor)?.cancelSelectionAnchor();\n    }\n}\nregisterEditorContribution(SelectionAnchorController.ID, SelectionAnchorController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(SetSelectionAnchor);\nregisterEditorAction(GoToSelectionAnchor);\nregisterEditorAction(SelectFromAnchorToCursor);\nregisterEditorAction(CancelSelectionAnchor);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1162, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/bracketMatching/browser/bracketMatching.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport './bracketMatching.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst overviewRulerBracketMatchForeground = registerColor('editorOverviewRuler.bracketMatchForeground', '#A0A0A0', nls.localize('overviewRulerBracketMatchForeground', 'Overview ruler marker color for matching brackets.'));\nclass JumpToBracketAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.jumpToBracket',\n            label: nls.localize('smartSelect.jumpBracket', \"Go to Bracket\"),\n            alias: 'Go to Bracket',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 93 /* KeyCode.Backslash */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        BracketMatchingController.get(editor)?.jumpToBracket();\n    }\n}\nclass SelectToBracketAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectToBracket',\n            label: nls.localize('smartSelect.selectToBracket', \"Select to Bracket\"),\n            alias: 'Select to Bracket',\n            precondition: undefined,\n            metadata: {\n                description: nls.localize2('smartSelect.selectToBracketDescription', \"Select the text inside and including the brackets or curly braces\"),\n                args: [{\n                        name: 'args',\n                        schema: {\n                            type: 'object',\n                            properties: {\n                                'selectBrackets': {\n                                    type: 'boolean',\n                                    default: true\n                                }\n                            },\n                        }\n                    }]\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        let selectBrackets = true;\n        if (args && args.selectBrackets === false) {\n            selectBrackets = false;\n        }\n        BracketMatchingController.get(editor)?.selectToBracket(selectBrackets);\n    }\n}\nclass RemoveBracketsAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.removeBrackets',\n            label: nls.localize('smartSelect.removeBrackets', \"Remove Brackets\"),\n            alias: 'Remove Brackets',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        BracketMatchingController.get(editor)?.removeBrackets(this.id);\n    }\n}\nclass BracketsData {\n    constructor(position, brackets, options) {\n        this.position = position;\n        this.brackets = brackets;\n        this.options = options;\n    }\n}\nexport class BracketMatchingController extends Disposable {\n    static { this.ID = 'editor.contrib.bracketMatchingController'; }\n    static get(editor) {\n        return editor.getContribution(BracketMatchingController.ID);\n    }\n    constructor(editor) {\n        super();\n        this._editor = editor;\n        this._lastBracketsData = [];\n        this._lastVersionId = 0;\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateBracketsSoon = this._register(new RunOnceScheduler(() => this._updateBrackets(), 50));\n        this._matchBrackets = this._editor.getOption(72 /* EditorOption.matchBrackets */);\n        this._updateBracketsSoon.schedule();\n        this._register(editor.onDidChangeCursorPosition((e) => {\n            if (this._matchBrackets === 'never') {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeModel((e) => {\n            this._lastBracketsData = [];\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeModelLanguageConfiguration((e) => {\n            this._lastBracketsData = [];\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(72 /* EditorOption.matchBrackets */)) {\n                this._matchBrackets = this._editor.getOption(72 /* EditorOption.matchBrackets */);\n                this._decorations.clear();\n                this._lastBracketsData = [];\n                this._lastVersionId = 0;\n                this._updateBracketsSoon.schedule();\n            }\n        }));\n        this._register(editor.onDidBlurEditorWidget(() => {\n            this._updateBracketsSoon.schedule();\n        }));\n        this._register(editor.onDidFocusEditorWidget(() => {\n            this._updateBracketsSoon.schedule();\n        }));\n    }\n    jumpToBracket() {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        const newSelections = this._editor.getSelections().map(selection => {\n            const position = selection.getStartPosition();\n            // find matching brackets if position is on a bracket\n            const brackets = model.bracketPairs.matchBracket(position);\n            let newCursorPosition = null;\n            if (brackets) {\n                if (brackets[0].containsPosition(position) && !brackets[1].containsPosition(position)) {\n                    newCursorPosition = brackets[1].getStartPosition();\n                }\n                else if (brackets[1].containsPosition(position)) {\n                    newCursorPosition = brackets[0].getStartPosition();\n                }\n            }\n            else {\n                // find the enclosing brackets if the position isn't on a matching bracket\n                const enclosingBrackets = model.bracketPairs.findEnclosingBrackets(position);\n                if (enclosingBrackets) {\n                    newCursorPosition = enclosingBrackets[1].getStartPosition();\n                }\n                else {\n                    // no enclosing brackets, try the very first next bracket\n                    const nextBracket = model.bracketPairs.findNextBracket(position);\n                    if (nextBracket && nextBracket.range) {\n                        newCursorPosition = nextBracket.range.getStartPosition();\n                    }\n                }\n            }\n            if (newCursorPosition) {\n                return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n            }\n            return new Selection(position.lineNumber, position.column, position.lineNumber, position.column);\n        });\n        this._editor.setSelections(newSelections);\n        this._editor.revealRange(newSelections[0]);\n    }\n    selectToBracket(selectBrackets) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        const newSelections = [];\n        this._editor.getSelections().forEach(selection => {\n            const position = selection.getStartPosition();\n            let brackets = model.bracketPairs.matchBracket(position);\n            if (!brackets) {\n                brackets = model.bracketPairs.findEnclosingBrackets(position);\n                if (!brackets) {\n                    const nextBracket = model.bracketPairs.findNextBracket(position);\n                    if (nextBracket && nextBracket.range) {\n                        brackets = model.bracketPairs.matchBracket(nextBracket.range.getStartPosition());\n                    }\n                }\n            }\n            let selectFrom = null;\n            let selectTo = null;\n            if (brackets) {\n                brackets.sort(Range.compareRangesUsingStarts);\n                const [open, close] = brackets;\n                selectFrom = selectBrackets ? open.getStartPosition() : open.getEndPosition();\n                selectTo = selectBrackets ? close.getEndPosition() : close.getStartPosition();\n                if (close.containsPosition(position)) {\n                    // select backwards if the cursor was on the closing bracket\n                    const tmp = selectFrom;\n                    selectFrom = selectTo;\n                    selectTo = tmp;\n                }\n            }\n            if (selectFrom && selectTo) {\n                newSelections.push(new Selection(selectFrom.lineNumber, selectFrom.column, selectTo.lineNumber, selectTo.column));\n            }\n        });\n        if (newSelections.length > 0) {\n            this._editor.setSelections(newSelections);\n            this._editor.revealRange(newSelections[0]);\n        }\n    }\n    removeBrackets(editSource) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        this._editor.getSelections().forEach((selection) => {\n            const position = selection.getPosition();\n            let brackets = model.bracketPairs.matchBracket(position);\n            if (!brackets) {\n                brackets = model.bracketPairs.findEnclosingBrackets(position);\n            }\n            if (brackets) {\n                this._editor.pushUndoStop();\n                this._editor.executeEdits(editSource, [\n                    { range: brackets[0], text: '' },\n                    { range: brackets[1], text: '' }\n                ]);\n                this._editor.pushUndoStop();\n            }\n        });\n    }\n    static { this._DECORATION_OPTIONS_WITH_OVERVIEW_RULER = ModelDecorationOptions.register({\n        description: 'bracket-match-overview',\n        stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n        className: 'bracket-match',\n        overviewRuler: {\n            color: themeColorFromId(overviewRulerBracketMatchForeground),\n            position: OverviewRulerLane.Center\n        }\n    }); }\n    static { this._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER = ModelDecorationOptions.register({\n        description: 'bracket-match-no-overview',\n        stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n        className: 'bracket-match'\n    }); }\n    _updateBrackets() {\n        if (this._matchBrackets === 'never') {\n            return;\n        }\n        this._recomputeBrackets();\n        const newDecorations = [];\n        let newDecorationsLen = 0;\n        for (const bracketData of this._lastBracketsData) {\n            const brackets = bracketData.brackets;\n            if (brackets) {\n                newDecorations[newDecorationsLen++] = { range: brackets[0], options: bracketData.options };\n                newDecorations[newDecorationsLen++] = { range: brackets[1], options: bracketData.options };\n            }\n        }\n        this._decorations.set(newDecorations);\n    }\n    _recomputeBrackets() {\n        if (!this._editor.hasModel() || !this._editor.hasWidgetFocus()) {\n            // no model or no focus => no brackets!\n            this._lastBracketsData = [];\n            this._lastVersionId = 0;\n            return;\n        }\n        const selections = this._editor.getSelections();\n        if (selections.length > 100) {\n            // no bracket matching for high numbers of selections\n            this._lastBracketsData = [];\n            this._lastVersionId = 0;\n            return;\n        }\n        const model = this._editor.getModel();\n        const versionId = model.getVersionId();\n        let previousData = [];\n        if (this._lastVersionId === versionId) {\n            // use the previous data only if the model is at the same version id\n            previousData = this._lastBracketsData;\n        }\n        const positions = [];\n        let positionsLen = 0;\n        for (let i = 0, len = selections.length; i < len; i++) {\n            const selection = selections[i];\n            if (selection.isEmpty()) {\n                // will bracket match a cursor only if the selection is collapsed\n                positions[positionsLen++] = selection.getStartPosition();\n            }\n        }\n        // sort positions for `previousData` cache hits\n        if (positions.length > 1) {\n            positions.sort(Position.compare);\n        }\n        const newData = [];\n        let newDataLen = 0;\n        let previousIndex = 0;\n        const previousLen = previousData.length;\n        for (let i = 0, len = positions.length; i < len; i++) {\n            const position = positions[i];\n            while (previousIndex < previousLen && previousData[previousIndex].position.isBefore(position)) {\n                previousIndex++;\n            }\n            if (previousIndex < previousLen && previousData[previousIndex].position.equals(position)) {\n                newData[newDataLen++] = previousData[previousIndex];\n            }\n            else {\n                let brackets = model.bracketPairs.matchBracket(position, 20 /* give at most 20ms to compute */);\n                let options = BracketMatchingController._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;\n                if (!brackets && this._matchBrackets === 'always') {\n                    brackets = model.bracketPairs.findEnclosingBrackets(position, 20 /* give at most 20ms to compute */);\n                    options = BracketMatchingController._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER;\n                }\n                newData[newDataLen++] = new BracketsData(position, brackets, options);\n            }\n        }\n        this._lastBracketsData = newData;\n        this._lastVersionId = versionId;\n    }\n}\nregisterEditorContribution(BracketMatchingController.ID, BracketMatchingController, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(SelectToBracketAction);\nregisterEditorAction(JumpToBracketAction);\nregisterEditorAction(RemoveBracketsAction);\n// Go to menu\nMenuRegistry.appendMenuItem(MenuId.MenubarGoMenu, {\n    group: '5_infile_nav',\n    command: {\n        id: 'editor.action.jumpToBracket',\n        title: nls.localize({ key: 'miGoToBracket', comment: ['&& denotes a mnemonic'] }, \"Go to &&Bracket\")\n    },\n    order: 2\n});\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;;;;AACA,MAAM,sCAAsC,CAAA,GAAA,2PAAA,CAAA,gBAAa,AAAD,EAAE,8CAA8C,WAAW,qOAAA,CAAA,WAAY,CAAC,uCAAuC;AACvK,MAAM,4BAA4B,uPAAA,CAAA,eAAY;IAc1C,IAAI,QAAQ,EAAE,MAAM,EAAE;YAClB;SAAA,iCAAA,0BAA0B,GAAG,CAAC,qBAA9B,qDAAA,+BAAuC,aAAa;IACxD;IAfA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,2BAA2B;YAC/C,OAAO;YACP,cAAc;YACd,QAAQ;gBACJ,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,eAAe;gBACzC,SAAS,KAAK,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,qBAAqB;gBACvF,QAAQ,IAAI,kCAAkC;YAClD;QACJ;IACJ;AAIJ;AACA,MAAM,8BAA8B,uPAAA,CAAA,eAAY;IAwB5C,IAAI,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;YAKxB;QAJA,IAAI,iBAAiB;QACrB,IAAI,QAAQ,KAAK,cAAc,KAAK,OAAO;YACvC,iBAAiB;QACrB;SACA,iCAAA,0BAA0B,GAAG,CAAC,qBAA9B,qDAAA,+BAAuC,eAAe,CAAC;IAC3D;IA7BA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,+BAA+B;YACnD,OAAO;YACP,cAAc;YACd,UAAU;gBACN,aAAa,qOAAA,CAAA,YAAa,CAAC,0CAA0C;gBACrE,MAAM;oBAAC;wBACC,MAAM;wBACN,QAAQ;4BACJ,MAAM;4BACN,YAAY;gCACR,kBAAkB;oCACd,MAAM;oCACN,SAAS;gCACb;4BACJ;wBACJ;oBACJ;iBAAE;YACV;QACJ;IACJ;AAQJ;AACA,MAAM,6BAA6B,uPAAA,CAAA,eAAY;IAc3C,IAAI,QAAQ,EAAE,MAAM,EAAE;YAClB;SAAA,iCAAA,0BAA0B,GAAG,CAAC,qBAA9B,qDAAA,+BAAuC,cAAc,CAAC,IAAI,CAAC,EAAE;IACjE;IAfA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,8BAA8B;YAClD,OAAO;YACP,cAAc;YACd,QAAQ;gBACJ,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,eAAe;gBACzC,SAAS,KAAK,kBAAkB,MAAK,IAAI,cAAc,MAAK,EAAE,qBAAqB;gBACnF,QAAQ,IAAI,kCAAkC;YAClD;QACJ;IACJ;AAIJ;AACA,MAAM;IACF,YAAY,QAAQ,EAAE,QAAQ,EAAE,OAAO,CAAE;QACrC,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,OAAO,GAAG;IACnB;AACJ;AACO,MAAM,kCAAkC,6OAAA,CAAA,aAAU;IAErD,OAAO,IAAI,MAAM,EAAE;QACf,OAAO,OAAO,eAAe,CAAC,0BAA0B,EAAE;IAC9D;IA6CA,gBAAgB;QACZ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;YAC1B;QACJ;QACA,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,MAAM,gBAAgB,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,CAAC,CAAA;YACnD,MAAM,WAAW,UAAU,gBAAgB;YAC3C,qDAAqD;YACrD,MAAM,WAAW,MAAM,YAAY,CAAC,YAAY,CAAC;YACjD,IAAI,oBAAoB;YACxB,IAAI,UAAU;gBACV,IAAI,QAAQ,CAAC,EAAE,CAAC,gBAAgB,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE,CAAC,gBAAgB,CAAC,WAAW;oBACnF,oBAAoB,QAAQ,CAAC,EAAE,CAAC,gBAAgB;gBACpD,OACK,IAAI,QAAQ,CAAC,EAAE,CAAC,gBAAgB,CAAC,WAAW;oBAC7C,oBAAoB,QAAQ,CAAC,EAAE,CAAC,gBAAgB;gBACpD;YACJ,OACK;gBACD,0EAA0E;gBAC1E,MAAM,oBAAoB,MAAM,YAAY,CAAC,qBAAqB,CAAC;gBACnE,IAAI,mBAAmB;oBACnB,oBAAoB,iBAAiB,CAAC,EAAE,CAAC,gBAAgB;gBAC7D,OACK;oBACD,yDAAyD;oBACzD,MAAM,cAAc,MAAM,YAAY,CAAC,eAAe,CAAC;oBACvD,IAAI,eAAe,YAAY,KAAK,EAAE;wBAClC,oBAAoB,YAAY,KAAK,CAAC,gBAAgB;oBAC1D;gBACJ;YACJ;YACA,IAAI,mBAAmB;gBACnB,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,kBAAkB,UAAU,EAAE,kBAAkB,MAAM,EAAE,kBAAkB,UAAU,EAAE,kBAAkB,MAAM;YACvI;YACA,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,SAAS,UAAU,EAAE,SAAS,MAAM,EAAE,SAAS,UAAU,EAAE,SAAS,MAAM;QACnG;QACA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE;IAC7C;IACA,gBAAgB,cAAc,EAAE;QAC5B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;YAC1B;QACJ;QACA,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,MAAM,gBAAgB,EAAE;QACxB,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,CAAA;YACjC,MAAM,WAAW,UAAU,gBAAgB;YAC3C,IAAI,WAAW,MAAM,YAAY,CAAC,YAAY,CAAC;YAC/C,IAAI,CAAC,UAAU;gBACX,WAAW,MAAM,YAAY,CAAC,qBAAqB,CAAC;gBACpD,IAAI,CAAC,UAAU;oBACX,MAAM,cAAc,MAAM,YAAY,CAAC,eAAe,CAAC;oBACvD,IAAI,eAAe,YAAY,KAAK,EAAE;wBAClC,WAAW,MAAM,YAAY,CAAC,YAAY,CAAC,YAAY,KAAK,CAAC,gBAAgB;oBACjF;gBACJ;YACJ;YACA,IAAI,aAAa;YACjB,IAAI,WAAW;YACf,IAAI,UAAU;gBACV,SAAS,IAAI,CAAC,mPAAA,CAAA,QAAK,CAAC,wBAAwB;gBAC5C,MAAM,CAAC,MAAM,MAAM,GAAG;gBACtB,aAAa,iBAAiB,KAAK,gBAAgB,KAAK,KAAK,cAAc;gBAC3E,WAAW,iBAAiB,MAAM,cAAc,KAAK,MAAM,gBAAgB;gBAC3E,IAAI,MAAM,gBAAgB,CAAC,WAAW;oBAClC,4DAA4D;oBAC5D,MAAM,MAAM;oBACZ,aAAa;oBACb,WAAW;gBACf;YACJ;YACA,IAAI,cAAc,UAAU;gBACxB,cAAc,IAAI,CAAC,IAAI,uPAAA,CAAA,YAAS,CAAC,WAAW,UAAU,EAAE,WAAW,MAAM,EAAE,SAAS,UAAU,EAAE,SAAS,MAAM;YACnH;QACJ;QACA,IAAI,cAAc,MAAM,GAAG,GAAG;YAC1B,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YAC3B,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE;QAC7C;IACJ;IACA,eAAe,UAAU,EAAE;QACvB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;YAC1B;QACJ;QACA,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,OAAO,CAAC,CAAC;YAClC,MAAM,WAAW,UAAU,WAAW;YACtC,IAAI,WAAW,MAAM,YAAY,CAAC,YAAY,CAAC;YAC/C,IAAI,CAAC,UAAU;gBACX,WAAW,MAAM,YAAY,CAAC,qBAAqB,CAAC;YACxD;YACA,IAAI,UAAU;gBACV,IAAI,CAAC,OAAO,CAAC,YAAY;gBACzB,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,YAAY;oBAClC;wBAAE,OAAO,QAAQ,CAAC,EAAE;wBAAE,MAAM;oBAAG;oBAC/B;wBAAE,OAAO,QAAQ,CAAC,EAAE;wBAAE,MAAM;oBAAG;iBAClC;gBACD,IAAI,CAAC,OAAO,CAAC,YAAY;YAC7B;QACJ;IACJ;IAeA,kBAAkB;QACd,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS;YACjC;QACJ;QACA,IAAI,CAAC,kBAAkB;QACvB,MAAM,iBAAiB,EAAE;QACzB,IAAI,oBAAoB;QACxB,KAAK,MAAM,eAAe,IAAI,CAAC,iBAAiB,CAAE;YAC9C,MAAM,WAAW,YAAY,QAAQ;YACrC,IAAI,UAAU;gBACV,cAAc,CAAC,oBAAoB,GAAG;oBAAE,OAAO,QAAQ,CAAC,EAAE;oBAAE,SAAS,YAAY,OAAO;gBAAC;gBACzF,cAAc,CAAC,oBAAoB,GAAG;oBAAE,OAAO,QAAQ,CAAC,EAAE;oBAAE,SAAS,YAAY,OAAO;gBAAC;YAC7F;QACJ;QACA,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;IAC1B;IACA,qBAAqB;QACjB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,cAAc,IAAI;YAC5D,uCAAuC;YACvC,IAAI,CAAC,iBAAiB,GAAG,EAAE;YAC3B,IAAI,CAAC,cAAc,GAAG;YACtB;QACJ;QACA,MAAM,aAAa,IAAI,CAAC,OAAO,CAAC,aAAa;QAC7C,IAAI,WAAW,MAAM,GAAG,KAAK;YACzB,qDAAqD;YACrD,IAAI,CAAC,iBAAiB,GAAG,EAAE;YAC3B,IAAI,CAAC,cAAc,GAAG;YACtB;QACJ;QACA,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,MAAM,YAAY,MAAM,YAAY;QACpC,IAAI,eAAe,EAAE;QACrB,IAAI,IAAI,CAAC,cAAc,KAAK,WAAW;YACnC,oEAAoE;YACpE,eAAe,IAAI,CAAC,iBAAiB;QACzC;QACA,MAAM,YAAY,EAAE;QACpB,IAAI,eAAe;QACnB,IAAK,IAAI,IAAI,GAAG,MAAM,WAAW,MAAM,EAAE,IAAI,KAAK,IAAK;YACnD,MAAM,YAAY,UAAU,CAAC,EAAE;YAC/B,IAAI,UAAU,OAAO,IAAI;gBACrB,iEAAiE;gBACjE,SAAS,CAAC,eAAe,GAAG,UAAU,gBAAgB;YAC1D;QACJ;QACA,+CAA+C;QAC/C,IAAI,UAAU,MAAM,GAAG,GAAG;YACtB,UAAU,IAAI,CAAC,sPAAA,CAAA,WAAQ,CAAC,OAAO;QACnC;QACA,MAAM,UAAU,EAAE;QAClB,IAAI,aAAa;QACjB,IAAI,gBAAgB;QACpB,MAAM,cAAc,aAAa,MAAM;QACvC,IAAK,IAAI,IAAI,GAAG,MAAM,UAAU,MAAM,EAAE,IAAI,KAAK,IAAK;YAClD,MAAM,WAAW,SAAS,CAAC,EAAE;YAC7B,MAAO,gBAAgB,eAAe,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAW;gBAC3F;YACJ;YACA,IAAI,gBAAgB,eAAe,YAAY,CAAC,cAAc,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW;gBACtF,OAAO,CAAC,aAAa,GAAG,YAAY,CAAC,cAAc;YACvD,OACK;gBACD,IAAI,WAAW,MAAM,YAAY,CAAC,YAAY,CAAC,UAAU,GAAG,gCAAgC;gBAC5F,IAAI,UAAU,0BAA0B,uCAAuC;gBAC/E,IAAI,CAAC,YAAY,IAAI,CAAC,cAAc,KAAK,UAAU;oBAC/C,WAAW,MAAM,YAAY,CAAC,qBAAqB,CAAC,UAAU,GAAG,gCAAgC;oBACjG,UAAU,0BAA0B,0CAA0C;gBAClF;gBACA,OAAO,CAAC,aAAa,GAAG,IAAI,aAAa,UAAU,UAAU;YACjE;QACJ;QACA,IAAI,CAAC,iBAAiB,GAAG;QACzB,IAAI,CAAC,cAAc,GAAG;IAC1B;IA1OA,YAAY,MAAM,CAAE;QAChB,KAAK;QACL,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,iBAAiB,GAAG,EAAE;QAC3B,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,2BAA2B;QAC5D,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,yOAAA,CAAA,mBAAgB,CAAC,IAAM,IAAI,CAAC,eAAe,IAAI;QAC7F,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,8BAA8B;QAC9E,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACjC,IAAI,CAAC,SAAS,CAAC,OAAO,yBAAyB,CAAC,CAAC;YAC7C,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS;gBACjC,0CAA0C;gBAC1C,8GAA8G;gBAC9G;YACJ;YACA,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACrC;QACA,IAAI,CAAC,SAAS,CAAC,OAAO,uBAAuB,CAAC,CAAC;YAC3C,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACrC;QACA,IAAI,CAAC,SAAS,CAAC,OAAO,gBAAgB,CAAC,CAAC;YACpC,IAAI,CAAC,iBAAiB,GAAG,EAAE;YAC3B,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACrC;QACA,IAAI,CAAC,SAAS,CAAC,OAAO,qCAAqC,CAAC,CAAC;YACzD,IAAI,CAAC,iBAAiB,GAAG,EAAE;YAC3B,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACrC;QACA,IAAI,CAAC,SAAS,CAAC,OAAO,wBAAwB,CAAC,CAAC;YAC5C,IAAI,EAAE,UAAU,CAAC,GAAG,8BAA8B,MAAK;gBACnD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,8BAA8B;gBAC9E,IAAI,CAAC,YAAY,CAAC,KAAK;gBACvB,IAAI,CAAC,iBAAiB,GAAG,EAAE;gBAC3B,IAAI,CAAC,cAAc,GAAG;gBACtB,IAAI,CAAC,mBAAmB,CAAC,QAAQ;YACrC;QACJ;QACA,IAAI,CAAC,SAAS,CAAC,OAAO,qBAAqB,CAAC;YACxC,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACrC;QACA,IAAI,CAAC,SAAS,CAAC,OAAO,sBAAsB,CAAC;YACzC,IAAI,CAAC,mBAAmB,CAAC,QAAQ;QACrC;IACJ;AAgMJ;AAhPa,0BACK,EAAE,GAAG;AADV,0BAuJK,uCAAuC,GAAG,wPAAA,CAAA,yBAAsB,CAAC,QAAQ,CAAC;IACpF,aAAa;IACb,YAAY,EAAE,sDAAsD;IACpE,WAAW;IACX,eAAe;QACX,OAAO,CAAA,GAAA,6PAAA,CAAA,mBAAgB,AAAD,EAAE;QACxB,UAAU,2OAAA,CAAA,oBAAiB,CAAC,MAAM;IACtC;AACJ;AA/JS,0BAgKK,0CAA0C,GAAG,wPAAA,CAAA,yBAAsB,CAAC,QAAQ,CAAC;IACvF,aAAa;IACb,YAAY,EAAE,sDAAsD;IACpE,WAAW;AACf;AA6EJ,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,0BAA0B,EAAE,EAAE,2BAA2B,EAAE,oDAAoD;AAC1I,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,aAAa;AACb,0PAAA,CAAA,eAAY,CAAC,cAAc,CAAC,0PAAA,CAAA,SAAM,CAAC,aAAa,EAAE;IAC9C,OAAO;IACP,SAAS;QACL,IAAI;QACJ,OAAO,qOAAA,CAAA,WAAY,CAAC;YAAE,KAAK;YAAiB,SAAS;gBAAC;aAAwB;QAAC,GAAG;IACtF;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1549, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/browser/moveCaretCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nexport class MoveCaretCommand {\n    constructor(selection, isMovingLeft) {\n        this._selection = selection;\n        this._isMovingLeft = isMovingLeft;\n    }\n    getEditOperations(model, builder) {\n        if (this._selection.startLineNumber !== this._selection.endLineNumber || this._selection.isEmpty()) {\n            return;\n        }\n        const lineNumber = this._selection.startLineNumber;\n        const startColumn = this._selection.startColumn;\n        const endColumn = this._selection.endColumn;\n        if (this._isMovingLeft && startColumn === 1) {\n            return;\n        }\n        if (!this._isMovingLeft && endColumn === model.getLineMaxColumn(lineNumber)) {\n            return;\n        }\n        if (this._isMovingLeft) {\n            const rangeBefore = new Range(lineNumber, startColumn - 1, lineNumber, startColumn);\n            const charBefore = model.getValueInRange(rangeBefore);\n            builder.addEditOperation(rangeBefore, null);\n            builder.addEditOperation(new Range(lineNumber, endColumn, lineNumber, endColumn), charBefore);\n        }\n        else {\n            const rangeAfter = new Range(lineNumber, endColumn, lineNumber, endColumn + 1);\n            const charAfter = model.getValueInRange(rangeAfter);\n            builder.addEditOperation(rangeAfter, null);\n            builder.addEditOperation(new Range(lineNumber, startColumn, lineNumber, startColumn), charAfter);\n        }\n    }\n    computeCursorState(model, helper) {\n        if (this._isMovingLeft) {\n            return new Selection(this._selection.startLineNumber, this._selection.startColumn - 1, this._selection.endLineNumber, this._selection.endColumn - 1);\n        }\n        else {\n            return new Selection(this._selection.startLineNumber, this._selection.startColumn + 1, this._selection.endLineNumber, this._selection.endColumn + 1);\n        }\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;;;AACO,MAAM;IAKT,kBAAkB,KAAK,EAAE,OAAO,EAAE;QAC9B,IAAI,IAAI,CAAC,UAAU,CAAC,eAAe,KAAK,IAAI,CAAC,UAAU,CAAC,aAAa,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,IAAI;YAChG;QACJ;QACA,MAAM,aAAa,IAAI,CAAC,UAAU,CAAC,eAAe;QAClD,MAAM,cAAc,IAAI,CAAC,UAAU,CAAC,WAAW;QAC/C,MAAM,YAAY,IAAI,CAAC,UAAU,CAAC,SAAS;QAC3C,IAAI,IAAI,CAAC,aAAa,IAAI,gBAAgB,GAAG;YACzC;QACJ;QACA,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,cAAc,MAAM,gBAAgB,CAAC,aAAa;YACzE;QACJ;QACA,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,MAAM,cAAc,IAAI,mPAAA,CAAA,QAAK,CAAC,YAAY,cAAc,GAAG,YAAY;YACvE,MAAM,aAAa,MAAM,eAAe,CAAC;YACzC,QAAQ,gBAAgB,CAAC,aAAa;YACtC,QAAQ,gBAAgB,CAAC,IAAI,mPAAA,CAAA,QAAK,CAAC,YAAY,WAAW,YAAY,YAAY;QACtF,OACK;YACD,MAAM,aAAa,IAAI,mPAAA,CAAA,QAAK,CAAC,YAAY,WAAW,YAAY,YAAY;YAC5E,MAAM,YAAY,MAAM,eAAe,CAAC;YACxC,QAAQ,gBAAgB,CAAC,YAAY;YACrC,QAAQ,gBAAgB,CAAC,IAAI,mPAAA,CAAA,QAAK,CAAC,YAAY,aAAa,YAAY,cAAc;QAC1F;IACJ;IACA,mBAAmB,KAAK,EAAE,MAAM,EAAE;QAC9B,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG;QACtJ,OACK;YACD,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,IAAI,CAAC,UAAU,CAAC,eAAe,EAAE,IAAI,CAAC,UAAU,CAAC,WAAW,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,CAAC,UAAU,CAAC,SAAS,GAAG;QACtJ;IACJ;IArCA,YAAY,SAAS,EAAE,YAAY,CAAE;QACjC,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,aAAa,GAAG;IACzB;AAmCJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1601, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/browser/caretOperations.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { MoveCaretCommand } from './moveCaretCommand.js';\nimport * as nls from '../../../../nls.js';\nclass MoveCaretAction extends EditorAction {\n    constructor(left, opts) {\n        super(opts);\n        this.left = left;\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const commands = [];\n        const selections = editor.getSelections();\n        for (const selection of selections) {\n            commands.push(new MoveCaretCommand(selection, this.left));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nclass MoveCaretLeftAction extends MoveCaretAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.moveCarretLeftAction',\n            label: nls.localize('caret.moveLeft', \"Move Selected Text Left\"),\n            alias: 'Move Selected Text Left',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nclass MoveCaretRightAction extends MoveCaretAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.moveCarretRightAction',\n            label: nls.localize('caret.moveRight', \"Move Selected Text Right\"),\n            alias: 'Move Selected Text Right',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nregisterEditorAction(MoveCaretLeftAction);\nregisterEditorAction(MoveCaretRightAction);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;AACA;AAAA;;;;;AACA,MAAM,wBAAwB,uPAAA,CAAA,eAAY;IAKtC,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB;QACJ;QACA,MAAM,WAAW,EAAE;QACnB,MAAM,aAAa,OAAO,aAAa;QACvC,KAAK,MAAM,aAAa,WAAY;YAChC,SAAS,IAAI,CAAC,IAAI,qRAAA,CAAA,mBAAgB,CAAC,WAAW,IAAI,CAAC,IAAI;QAC3D;QACA,OAAO,YAAY;QACnB,OAAO,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE;QAChC,OAAO,YAAY;IACvB;IAhBA,YAAY,IAAI,EAAE,IAAI,CAAE;QACpB,KAAK,CAAC;QACN,IAAI,CAAC,IAAI,GAAG;IAChB;AAcJ;AACA,MAAM,4BAA4B;IAC9B,aAAc;QACV,KAAK,CAAC,MAAM;YACR,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,kBAAkB;YACtC,OAAO;YACP,cAAc,uPAAA,CAAA,oBAAiB,CAAC,QAAQ;QAC5C;IACJ;AACJ;AACA,MAAM,6BAA6B;IAC/B,aAAc;QACV,KAAK,CAAC,OAAO;YACT,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,mBAAmB;YACvC,OAAO;YACP,cAAc,uPAAA,CAAA,oBAAiB,CAAC,QAAQ;QAC5C;IACJ;AACJ;AACA,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1659, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/caretOperations/browser/transpose.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { MoveOperations } from '../../../common/cursor/cursorMoveOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as nls from '../../../../nls.js';\nclass TransposeLettersAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.transposeLetters',\n            label: nls.localize('transposeLetters.label', \"Transpose Letters\"),\n            alias: 'Transpose Letters',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: {\n                    primary: 256 /* KeyMod.WinCtrl */ | 50 /* KeyCode.KeyT */\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        const commands = [];\n        const selections = editor.getSelections();\n        for (const selection of selections) {\n            if (!selection.isEmpty()) {\n                continue;\n            }\n            const lineNumber = selection.startLineNumber;\n            const column = selection.startColumn;\n            const lastColumn = model.getLineMaxColumn(lineNumber);\n            if (lineNumber === 1 && (column === 1 || (column === 2 && lastColumn === 2))) {\n                // at beginning of file, nothing to do\n                continue;\n            }\n            // handle special case: when at end of line, transpose left two chars\n            // otherwise, transpose left and right chars\n            const endPosition = (column === lastColumn) ?\n                selection.getPosition() :\n                MoveOperations.rightPosition(model, selection.getPosition().lineNumber, selection.getPosition().column);\n            const middlePosition = MoveOperations.leftPosition(model, endPosition);\n            const beginPosition = MoveOperations.leftPosition(model, middlePosition);\n            const leftChar = model.getValueInRange(Range.fromPositions(beginPosition, middlePosition));\n            const rightChar = model.getValueInRange(Range.fromPositions(middlePosition, endPosition));\n            const replaceRange = Range.fromPositions(beginPosition, endPosition);\n            commands.push(new ReplaceCommand(replaceRange, rightChar + leftChar));\n        }\n        if (commands.length > 0) {\n            editor.pushUndoStop();\n            editor.executeCommands(this.id, commands);\n            editor.pushUndoStop();\n        }\n    }\n}\nregisterEditorAction(TransposeLettersAction);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;AACA,MAAM,+BAA+B,uPAAA,CAAA,eAAY;IAiB7C,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB;QACJ;QACA,MAAM,QAAQ,OAAO,QAAQ;QAC7B,MAAM,WAAW,EAAE;QACnB,MAAM,aAAa,OAAO,aAAa;QACvC,KAAK,MAAM,aAAa,WAAY;YAChC,IAAI,CAAC,UAAU,OAAO,IAAI;gBACtB;YACJ;YACA,MAAM,aAAa,UAAU,eAAe;YAC5C,MAAM,SAAS,UAAU,WAAW;YACpC,MAAM,aAAa,MAAM,gBAAgB,CAAC;YAC1C,IAAI,eAAe,KAAK,CAAC,WAAW,KAAM,WAAW,KAAK,eAAe,CAAE,GAAG;gBAE1E;YACJ;YACA,qEAAqE;YACrE,4CAA4C;YAC5C,MAAM,cAAc,AAAC,WAAW,aAC5B,UAAU,WAAW,KACrB,oQAAA,CAAA,iBAAc,CAAC,aAAa,CAAC,OAAO,UAAU,WAAW,GAAG,UAAU,EAAE,UAAU,WAAW,GAAG,MAAM;YAC1G,MAAM,iBAAiB,oQAAA,CAAA,iBAAc,CAAC,YAAY,CAAC,OAAO;YAC1D,MAAM,gBAAgB,oQAAA,CAAA,iBAAc,CAAC,YAAY,CAAC,OAAO;YACzD,MAAM,WAAW,MAAM,eAAe,CAAC,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,eAAe;YAC1E,MAAM,YAAY,MAAM,eAAe,CAAC,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,gBAAgB;YAC5E,MAAM,eAAe,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,eAAe;YACxD,SAAS,IAAI,CAAC,IAAI,gQAAA,CAAA,iBAAc,CAAC,cAAc,YAAY;QAC/D;QACA,IAAI,SAAS,MAAM,GAAG,GAAG;YACrB,OAAO,YAAY;YACnB,OAAO,eAAe,CAAC,IAAI,CAAC,EAAE,EAAE;YAChC,OAAO,YAAY;QACvB;IACJ;IAnDA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,0BAA0B;YAC9C,OAAO;YACP,cAAc,uPAAA,CAAA,oBAAiB,CAAC,QAAQ;YACxC,QAAQ;gBACJ,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,cAAc;gBACxC,SAAS;gBACT,KAAK;oBACD,SAAS,IAAI,kBAAkB,MAAK,GAAG,gBAAgB;gBAC3D;gBACA,QAAQ,IAAI,kCAAkC;YAClD;QACJ;IACJ;AAqCJ;AACA,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1732, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineProgress/browser/inlineProgress.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { disposableTimeout } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport './inlineProgressWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nconst inlineProgressDecoration = ModelDecorationOptions.register({\n    description: 'inline-progress-widget',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    showIfCollapsed: true,\n    after: {\n        content: noBreakWhitespace,\n        inlineClassName: 'inline-editor-progress-decoration',\n        inlineClassNameAffectsLetterSpacing: true,\n    }\n});\nclass InlineProgressWidget extends Disposable {\n    static { this.baseId = 'editor.widget.inlineProgressWidget'; }\n    constructor(typeId, editor, range, title, delegate) {\n        super();\n        this.typeId = typeId;\n        this.editor = editor;\n        this.range = range;\n        this.delegate = delegate;\n        this.allowEditorOverflow = false;\n        this.suppressMouseDown = true;\n        this.create(title);\n        this.editor.addContentWidget(this);\n        this.editor.layoutContentWidget(this);\n    }\n    create(title) {\n        this.domNode = dom.$('.inline-progress-widget');\n        this.domNode.role = 'button';\n        this.domNode.title = title;\n        const iconElement = dom.$('span.icon');\n        this.domNode.append(iconElement);\n        iconElement.classList.add(...ThemeIcon.asClassNameArray(Codicon.loading), 'codicon-modifier-spin');\n        const updateSize = () => {\n            const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n            this.domNode.style.height = `${lineHeight}px`;\n            this.domNode.style.width = `${Math.ceil(0.8 * lineHeight)}px`;\n        };\n        updateSize();\n        this._register(this.editor.onDidChangeConfiguration(c => {\n            if (c.hasChanged(52 /* EditorOption.fontSize */) || c.hasChanged(67 /* EditorOption.lineHeight */)) {\n                updateSize();\n            }\n        }));\n        this._register(dom.addDisposableListener(this.domNode, dom.EventType.CLICK, e => {\n            this.delegate.cancel();\n        }));\n    }\n    getId() {\n        return InlineProgressWidget.baseId + '.' + this.typeId;\n    }\n    getDomNode() {\n        return this.domNode;\n    }\n    getPosition() {\n        return {\n            position: { lineNumber: this.range.startLineNumber, column: this.range.startColumn },\n            preference: [0 /* ContentWidgetPositionPreference.EXACT */]\n        };\n    }\n    dispose() {\n        super.dispose();\n        this.editor.removeContentWidget(this);\n    }\n}\nlet InlineProgressManager = class InlineProgressManager extends Disposable {\n    constructor(id, _editor, _instantiationService) {\n        super();\n        this.id = id;\n        this._editor = _editor;\n        this._instantiationService = _instantiationService;\n        /** Delay before showing the progress widget */\n        this._showDelay = 500; // ms\n        this._showPromise = this._register(new MutableDisposable());\n        this._currentWidget = this._register(new MutableDisposable());\n        this._operationIdPool = 0;\n        this._currentDecorations = _editor.createDecorationsCollection();\n    }\n    dispose() {\n        super.dispose();\n        this._currentDecorations.clear();\n    }\n    async showWhile(position, title, promise, delegate, delayOverride) {\n        const operationId = this._operationIdPool++;\n        this._currentOperation = operationId;\n        this.clear();\n        this._showPromise.value = disposableTimeout(() => {\n            const range = Range.fromPositions(position);\n            const decorationIds = this._currentDecorations.set([{\n                    range: range,\n                    options: inlineProgressDecoration,\n                }]);\n            if (decorationIds.length > 0) {\n                this._currentWidget.value = this._instantiationService.createInstance(InlineProgressWidget, this.id, this._editor, range, title, delegate);\n            }\n        }, delayOverride ?? this._showDelay);\n        try {\n            return await promise;\n        }\n        finally {\n            if (this._currentOperation === operationId) {\n                this.clear();\n                this._currentOperation = undefined;\n            }\n        }\n    }\n    clear() {\n        this._showPromise.clear();\n        this._currentDecorations.clear();\n        this._currentWidget.clear();\n    }\n};\nInlineProgressManager = __decorate([\n    __param(2, IInstantiationService)\n], InlineProgressManager);\nexport { InlineProgressManager };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1891, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/message/browser/messageController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar MessageController_1;\nimport { renderMarkdown } from '../../../../base/browser/markdownRenderer.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { isMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport './messageController.css';\nimport { EditorCommand, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { openLinkFromMarkdown } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport * as dom from '../../../../base/browser/dom.js';\nlet MessageController = class MessageController {\n    static { MessageController_1 = this; }\n    static { this.ID = 'editor.contrib.messageController'; }\n    static { this.MESSAGE_VISIBLE = new RawContextKey('messageVisible', false, nls.localize('messageVisible', 'Whether the editor is currently showing an inline message')); }\n    static get(editor) {\n        return editor.getContribution(MessageController_1.ID);\n    }\n    constructor(editor, contextKeyService, _openerService) {\n        this._openerService = _openerService;\n        this._messageWidget = new MutableDisposable();\n        this._messageListeners = new DisposableStore();\n        this._mouseOverMessage = false;\n        this._editor = editor;\n        this._visible = MessageController_1.MESSAGE_VISIBLE.bindTo(contextKeyService);\n    }\n    dispose() {\n        this._message?.dispose();\n        this._messageListeners.dispose();\n        this._messageWidget.dispose();\n        this._visible.reset();\n    }\n    showMessage(message, position) {\n        alert(isMarkdownString(message) ? message.value : message);\n        this._visible.set(true);\n        this._messageWidget.clear();\n        this._messageListeners.clear();\n        this._message = isMarkdownString(message) ? renderMarkdown(message, {\n            actionHandler: {\n                callback: (url) => {\n                    this.closeMessage();\n                    openLinkFromMarkdown(this._openerService, url, isMarkdownString(message) ? message.isTrusted : undefined);\n                },\n                disposables: this._messageListeners\n            },\n        }) : undefined;\n        this._messageWidget.value = new MessageWidget(this._editor, position, typeof message === 'string' ? message : this._message.element);\n        // close on blur (debounced to allow to tab into the message), cursor, model change, dispose\n        this._messageListeners.add(Event.debounce(this._editor.onDidBlurEditorText, (last, event) => event, 0)(() => {\n            if (this._mouseOverMessage) {\n                return; // override when mouse over message\n            }\n            if (this._messageWidget.value && dom.isAncestor(dom.getActiveElement(), this._messageWidget.value.getDomNode())) {\n                return; // override when focus is inside the message\n            }\n            this.closeMessage();\n        }));\n        this._messageListeners.add(this._editor.onDidChangeCursorPosition(() => this.closeMessage()));\n        this._messageListeners.add(this._editor.onDidDispose(() => this.closeMessage()));\n        this._messageListeners.add(this._editor.onDidChangeModel(() => this.closeMessage()));\n        this._messageListeners.add(dom.addDisposableListener(this._messageWidget.value.getDomNode(), dom.EventType.MOUSE_ENTER, () => this._mouseOverMessage = true, true));\n        this._messageListeners.add(dom.addDisposableListener(this._messageWidget.value.getDomNode(), dom.EventType.MOUSE_LEAVE, () => this._mouseOverMessage = false, true));\n        // close on mouse move\n        let bounds;\n        this._messageListeners.add(this._editor.onMouseMove(e => {\n            // outside the text area\n            if (!e.target.position) {\n                return;\n            }\n            if (!bounds) {\n                // define bounding box around position and first mouse occurance\n                bounds = new Range(position.lineNumber - 3, 1, e.target.position.lineNumber + 3, 1);\n            }\n            else if (!bounds.containsPosition(e.target.position)) {\n                // check if position is still in bounds\n                this.closeMessage();\n            }\n        }));\n    }\n    closeMessage() {\n        this._visible.reset();\n        this._messageListeners.clear();\n        if (this._messageWidget.value) {\n            this._messageListeners.add(MessageWidget.fadeOut(this._messageWidget.value));\n        }\n    }\n};\nMessageController = MessageController_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, IOpenerService)\n], MessageController);\nexport { MessageController };\nconst MessageCommand = EditorCommand.bindToContribution(MessageController.get);\nregisterEditorCommand(new MessageCommand({\n    id: 'leaveEditorMessage',\n    precondition: MessageController.MESSAGE_VISIBLE,\n    handler: c => c.closeMessage(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 30,\n        primary: 9 /* KeyCode.Escape */\n    }\n}));\nclass MessageWidget {\n    static fadeOut(messageWidget) {\n        const dispose = () => {\n            messageWidget.dispose();\n            clearTimeout(handle);\n            messageWidget.getDomNode().removeEventListener('animationend', dispose);\n        };\n        const handle = setTimeout(dispose, 110);\n        messageWidget.getDomNode().addEventListener('animationend', dispose);\n        messageWidget.getDomNode().classList.add('fadeOut');\n        return { dispose };\n    }\n    constructor(editor, { lineNumber, column }, text) {\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.suppressMouseDown = false;\n        this._editor = editor;\n        this._editor.revealLinesInCenterIfOutsideViewport(lineNumber, lineNumber, 0 /* ScrollType.Smooth */);\n        this._position = { lineNumber, column };\n        this._domNode = document.createElement('div');\n        this._domNode.classList.add('monaco-editor-overlaymessage');\n        this._domNode.style.marginLeft = '-6px';\n        const anchorTop = document.createElement('div');\n        anchorTop.classList.add('anchor', 'top');\n        this._domNode.appendChild(anchorTop);\n        const message = document.createElement('div');\n        if (typeof text === 'string') {\n            message.classList.add('message');\n            message.textContent = text;\n        }\n        else {\n            text.classList.add('message');\n            message.appendChild(text);\n        }\n        this._domNode.appendChild(message);\n        const anchorBottom = document.createElement('div');\n        anchorBottom.classList.add('anchor', 'below');\n        this._domNode.appendChild(anchorBottom);\n        this._editor.addContentWidget(this);\n        this._domNode.classList.add('fadeIn');\n    }\n    dispose() {\n        this._editor.removeContentWidget(this);\n    }\n    getId() {\n        return 'messageoverlay';\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return {\n            position: this._position,\n            preference: [\n                1 /* ContentWidgetPositionPreference.ABOVE */,\n                2 /* ContentWidgetPositionPreference.BELOW */,\n            ],\n            positionAffinity: 1 /* PositionAffinity.Right */,\n        };\n    }\n    afterRender(position) {\n        this._domNode.classList.toggle('below', position === 2 /* ContentWidgetPositionPreference.BELOW */);\n    }\n}\nregisterEditorContribution(MessageController.ID, MessageController, 4 /* EditorContributionInstantiation.Lazy */);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAW9F;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;AAtBA,IAAI,aAAa,4CAAS,yCAAK,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACjF,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,4CAAS,yCAAK,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IACnE,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;AACA,IAAI;;;;;;;;;;;;;;AAcJ,IAAI,0CAAoB,MAAM;IAI1B,OAAO,IAAI,MAAM,EAAE;QACf,OAAO,OAAO,eAAe,CAAC,oBAAoB,EAAE;IACxD;IASA,UAAU;YACN;SAAA,iBAAA,IAAI,CAAC,QAAQ,cAAb,qCAAA,eAAe,OAAO;QACtB,IAAI,CAAC,iBAAiB,CAAC,OAAO;QAC9B,IAAI,CAAC,cAAc,CAAC,OAAO;QAC3B,IAAI,CAAC,QAAQ,CAAC,KAAK;IACvB;IACA,YAAY,OAAO,EAAE,QAAQ,EAAE;QAC3B,CAAA,GAAA,uPAAA,CAAA,QAAK,AAAD,EAAE,CAAA,GAAA,+OAAA,CAAA,mBAAgB,AAAD,EAAE,WAAW,QAAQ,KAAK,GAAG;QAClD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;QAClB,IAAI,CAAC,cAAc,CAAC,KAAK;QACzB,IAAI,CAAC,iBAAiB,CAAC,KAAK;QAC5B,IAAI,CAAC,QAAQ,GAAG,CAAA,GAAA,+OAAA,CAAA,mBAAgB,AAAD,EAAE,WAAW,CAAA,GAAA,qPAAA,CAAA,iBAAc,AAAD,EAAE,SAAS;YAChE,eAAe;gBACX,UAAU,CAAC;oBACP,IAAI,CAAC,YAAY;oBACjB,CAAA,GAAA,gSAAA,CAAA,uBAAoB,AAAD,EAAE,IAAI,CAAC,cAAc,EAAE,KAAK,CAAA,GAAA,+OAAA,CAAA,mBAAgB,AAAD,EAAE,WAAW,QAAQ,SAAS,GAAG;gBACnG;gBACA,aAAa,IAAI,CAAC,iBAAiB;YACvC;QACJ,KAAK;QACL,IAAI,CAAC,cAAc,CAAC,KAAK,GAAG,IAAI,cAAc,IAAI,CAAC,OAAO,EAAE,UAAU,OAAO,YAAY,WAAW,UAAU,IAAI,CAAC,QAAQ,CAAC,OAAO;QACnI,4FAA4F;QAC5F,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,yOAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,CAAC,MAAM,QAAU,OAAO,GAAG;YACnG,IAAI,IAAI,CAAC,iBAAiB,EAAE;gBACxB,QAAQ,mCAAmC;YAC/C;YACA,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,IAAI,wOAAA,CAAA,aAAc,CAAC,wOAAA,CAAA,mBAAoB,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,KAAK;gBAC7G,QAAQ,4CAA4C;YACxD;YACA,IAAI,CAAC,YAAY;QACrB;QACA,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,IAAM,IAAI,CAAC,YAAY;QACzF,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAM,IAAI,CAAC,YAAY;QAC5E,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAM,IAAI,CAAC,YAAY;QAChF,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,wOAAA,CAAA,wBAAyB,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,IAAI,wOAAA,CAAA,YAAa,CAAC,WAAW,EAAE,IAAM,IAAI,CAAC,iBAAiB,GAAG,MAAM;QAC7J,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,wOAAA,CAAA,wBAAyB,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,UAAU,IAAI,wOAAA,CAAA,YAAa,CAAC,WAAW,EAAE,IAAM,IAAI,CAAC,iBAAiB,GAAG,OAAO;QAC9J,sBAAsB;QACtB,IAAI;QACJ,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;YAChD,wBAAwB;YACxB,IAAI,CAAC,EAAE,MAAM,CAAC,QAAQ,EAAE;gBACpB;YACJ;YACA,IAAI,CAAC,QAAQ;gBACT,gEAAgE;gBAChE,SAAS,IAAI,mPAAA,CAAA,QAAK,CAAC,SAAS,UAAU,GAAG,GAAG,GAAG,EAAE,MAAM,CAAC,QAAQ,CAAC,UAAU,GAAG,GAAG;YACrF,OACK,IAAI,CAAC,OAAO,gBAAgB,CAAC,EAAE,MAAM,CAAC,QAAQ,GAAG;gBAClD,uCAAuC;gBACvC,IAAI,CAAC,YAAY;YACrB;QACJ;IACJ;IACA,eAAe;QACX,IAAI,CAAC,QAAQ,CAAC,KAAK;QACnB,IAAI,CAAC,iBAAiB,CAAC,KAAK;QAC5B,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE;YAC3B,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,cAAc,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK;QAC9E;IACJ;IAnEA,YAAY,MAAM,EAAE,iBAAiB,EAAE,cAAc,CAAE;QACnD,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,cAAc,GAAG,IAAI,6OAAA,CAAA,oBAAiB;QAC3C,IAAI,CAAC,iBAAiB,GAAG,IAAI,6OAAA,CAAA,kBAAe;QAC5C,IAAI,CAAC,iBAAiB,GAAG;QACzB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,QAAQ,GAAG,oBAAoB,eAAe,CAAC,MAAM,CAAC;IAC/D;AA6DJ,GA1Ea,0CACA,mBAAK,EAAE,GAAG,oCACV,mBAAK,eAAe,GAAG,IAAI,gQAAA,CAAA,gBAAa,CAAC,kBAAkB,OAAO,qOAAA,CAAA,WAAY,CAAC,kBAAkB;AAyE9G,oBAAoB,sBAAsB,WAAW;IACjD,QAAQ,GAAG,gQAAA,CAAA,qBAAkB;IAC7B,QAAQ,GAAG,wPAAA,CAAA,iBAAc;CAC5B,EAAE;;AAEH,MAAM,iBAAiB,uPAAA,CAAA,gBAAa,CAAC,kBAAkB,CAAC,kBAAkB,GAAG;AAC7E,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI,eAAe;IACrC,IAAI;IACJ,cAAc,kBAAkB,eAAe;IAC/C,SAAS,CAAA,IAAK,EAAE,YAAY;IAC5B,QAAQ;QACJ,QAAQ,IAAI,kCAAkC,MAAK;QACnD,SAAS,EAAE,kBAAkB;IACjC;AACJ;AACA,MAAM;IACF,OAAO,QAAQ,aAAa,EAAE;QAC1B,MAAM,UAAU;YACZ,cAAc,OAAO;YACrB,aAAa;YACb,cAAc,UAAU,GAAG,mBAAmB,CAAC,gBAAgB;QACnE;QACA,MAAM,SAAS,WAAW,SAAS;QACnC,cAAc,UAAU,GAAG,gBAAgB,CAAC,gBAAgB;QAC5D,cAAc,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC;QACzC,OAAO;YAAE;QAAQ;IACrB;IA8BA,UAAU;QACN,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI;IACzC;IACA,QAAQ;QACJ,OAAO;IACX;IACA,aAAa;QACT,OAAO,IAAI,CAAC,QAAQ;IACxB;IACA,cAAc;QACV,OAAO;YACH,UAAU,IAAI,CAAC,SAAS;YACxB,YAAY;gBACR,EAAE,yCAAyC;gBAC3C,EAAE,yCAAyC;aAC9C;YACD,kBAAkB,EAAE,0BAA0B;QAClD;IACJ;IACA,YAAY,QAAQ,EAAE;QAClB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,aAAa,EAAE,yCAAyC;IACpG;IAlDA,YAAY,MAAM,EAAE,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,IAAI,CAAE;QAC9C,4CAA4C;QAC5C,IAAI,CAAC,mBAAmB,GAAG;QAC3B,IAAI,CAAC,iBAAiB,GAAG;QACzB,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,CAAC,oCAAoC,CAAC,YAAY,YAAY,EAAE,qBAAqB;QACjG,IAAI,CAAC,SAAS,GAAG;YAAE;YAAY;QAAO;QACtC,IAAI,CAAC,QAAQ,GAAG,SAAS,aAAa,CAAC;QACvC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,GAAG;QACjC,MAAM,YAAY,SAAS,aAAa,CAAC;QACzC,UAAU,SAAS,CAAC,GAAG,CAAC,UAAU;QAClC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QAC1B,MAAM,UAAU,SAAS,aAAa,CAAC;QACvC,IAAI,OAAO,SAAS,UAAU;YAC1B,QAAQ,SAAS,CAAC,GAAG,CAAC;YACtB,QAAQ,WAAW,GAAG;QAC1B,OACK;YACD,KAAK,SAAS,CAAC,GAAG,CAAC;YACnB,QAAQ,WAAW,CAAC;QACxB;QACA,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QAC1B,MAAM,eAAe,SAAS,aAAa,CAAC;QAC5C,aAAa,SAAS,CAAC,GAAG,CAAC,UAAU;QACrC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI;QAClC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC;IAChC;AAuBJ;AACA,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,kBAAkB,EAAE,EAAE,mBAAmB,EAAE,wCAAwC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2097, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/clipboard/browser/clipboard.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as browser from '../../../../base/browser/browser.js';\nimport { getActiveDocument } from '../../../../base/browser/dom.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { CopyOptions, InMemoryClipboardMetadataManager } from '../../../browser/controller/textAreaInput.js';\nimport { EditorAction, MultiCommand, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { CopyPasteController } from '../../dropOrPasteInto/browser/copyPasteController.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nconst CLIPBOARD_CONTEXT_MENU_GROUP = '9_cutcopypaste';\nconst supportsCut = (platform.isNative || document.queryCommandSupported('cut'));\nconst supportsCopy = (platform.isNative || document.queryCommandSupported('copy'));\n// Firefox only supports navigator.clipboard.readText() in browser extensions.\n// See https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/readText#Browser_compatibility\n// When loading over http, navigator.clipboard can be undefined. See https://github.com/microsoft/monaco-editor/issues/2313\nconst supportsPaste = (typeof navigator.clipboard === 'undefined' || browser.isFirefox) ? document.queryCommandSupported('paste') : true;\nfunction registerCommand(command) {\n    command.register();\n    return command;\n}\nexport const CutAction = supportsCut ? registerCommand(new MultiCommand({\n    id: 'editor.action.clipboardCutAction',\n    precondition: undefined,\n    kbOpts: (\n    // Do not bind cut keybindings in the browser,\n    // since browsers do that for us and it avoids security prompts\n    platform.isNative ? {\n        primary: 2048 /* KeyMod.CtrlCmd */ | 54 /* KeyCode.KeyX */,\n        win: { primary: 2048 /* KeyMod.CtrlCmd */ | 54 /* KeyCode.KeyX */, secondary: [1024 /* KeyMod.Shift */ | 20 /* KeyCode.Delete */] },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n    } : undefined),\n    menuOpts: [{\n            menuId: MenuId.MenubarEditMenu,\n            group: '2_ccp',\n            title: nls.localize({ key: 'miCut', comment: ['&& denotes a mnemonic'] }, \"Cu&&t\"),\n            order: 1\n        }, {\n            menuId: MenuId.EditorContext,\n            group: CLIPBOARD_CONTEXT_MENU_GROUP,\n            title: nls.localize('actions.clipboard.cutLabel', \"Cut\"),\n            when: EditorContextKeys.writable,\n            order: 1,\n        }, {\n            menuId: MenuId.CommandPalette,\n            group: '',\n            title: nls.localize('actions.clipboard.cutLabel', \"Cut\"),\n            order: 1\n        }, {\n            menuId: MenuId.SimpleEditorContext,\n            group: CLIPBOARD_CONTEXT_MENU_GROUP,\n            title: nls.localize('actions.clipboard.cutLabel', \"Cut\"),\n            when: EditorContextKeys.writable,\n            order: 1,\n        }]\n})) : undefined;\nexport const CopyAction = supportsCopy ? registerCommand(new MultiCommand({\n    id: 'editor.action.clipboardCopyAction',\n    precondition: undefined,\n    kbOpts: (\n    // Do not bind copy keybindings in the browser,\n    // since browsers do that for us and it avoids security prompts\n    platform.isNative ? {\n        primary: 2048 /* KeyMod.CtrlCmd */ | 33 /* KeyCode.KeyC */,\n        win: { primary: 2048 /* KeyMod.CtrlCmd */ | 33 /* KeyCode.KeyC */, secondary: [2048 /* KeyMod.CtrlCmd */ | 19 /* KeyCode.Insert */] },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n    } : undefined),\n    menuOpts: [{\n            menuId: MenuId.MenubarEditMenu,\n            group: '2_ccp',\n            title: nls.localize({ key: 'miCopy', comment: ['&& denotes a mnemonic'] }, \"&&Copy\"),\n            order: 2\n        }, {\n            menuId: MenuId.EditorContext,\n            group: CLIPBOARD_CONTEXT_MENU_GROUP,\n            title: nls.localize('actions.clipboard.copyLabel', \"Copy\"),\n            order: 2,\n        }, {\n            menuId: MenuId.CommandPalette,\n            group: '',\n            title: nls.localize('actions.clipboard.copyLabel', \"Copy\"),\n            order: 1\n        }, {\n            menuId: MenuId.SimpleEditorContext,\n            group: CLIPBOARD_CONTEXT_MENU_GROUP,\n            title: nls.localize('actions.clipboard.copyLabel', \"Copy\"),\n            order: 2,\n        }]\n})) : undefined;\nMenuRegistry.appendMenuItem(MenuId.MenubarEditMenu, { submenu: MenuId.MenubarCopy, title: nls.localize2('copy as', \"Copy As\"), group: '2_ccp', order: 3 });\nMenuRegistry.appendMenuItem(MenuId.EditorContext, { submenu: MenuId.EditorContextCopy, title: nls.localize2('copy as', \"Copy As\"), group: CLIPBOARD_CONTEXT_MENU_GROUP, order: 3 });\nMenuRegistry.appendMenuItem(MenuId.EditorContext, { submenu: MenuId.EditorContextShare, title: nls.localize2('share', \"Share\"), group: '11_share', order: -1, when: ContextKeyExpr.and(ContextKeyExpr.notEquals('resourceScheme', 'output'), EditorContextKeys.editorTextFocus) });\nMenuRegistry.appendMenuItem(MenuId.ExplorerContext, { submenu: MenuId.ExplorerContextShare, title: nls.localize2('share', \"Share\"), group: '11_share', order: -1 });\nexport const PasteAction = supportsPaste ? registerCommand(new MultiCommand({\n    id: 'editor.action.clipboardPasteAction',\n    precondition: undefined,\n    kbOpts: (\n    // Do not bind paste keybindings in the browser,\n    // since browsers do that for us and it avoids security prompts\n    platform.isNative ? {\n        primary: 2048 /* KeyMod.CtrlCmd */ | 52 /* KeyCode.KeyV */,\n        win: { primary: 2048 /* KeyMod.CtrlCmd */ | 52 /* KeyCode.KeyV */, secondary: [1024 /* KeyMod.Shift */ | 19 /* KeyCode.Insert */] },\n        linux: { primary: 2048 /* KeyMod.CtrlCmd */ | 52 /* KeyCode.KeyV */, secondary: [1024 /* KeyMod.Shift */ | 19 /* KeyCode.Insert */] },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n    } : undefined),\n    menuOpts: [{\n            menuId: MenuId.MenubarEditMenu,\n            group: '2_ccp',\n            title: nls.localize({ key: 'miPaste', comment: ['&& denotes a mnemonic'] }, \"&&Paste\"),\n            order: 4\n        }, {\n            menuId: MenuId.EditorContext,\n            group: CLIPBOARD_CONTEXT_MENU_GROUP,\n            title: nls.localize('actions.clipboard.pasteLabel', \"Paste\"),\n            when: EditorContextKeys.writable,\n            order: 4,\n        }, {\n            menuId: MenuId.CommandPalette,\n            group: '',\n            title: nls.localize('actions.clipboard.pasteLabel', \"Paste\"),\n            order: 1\n        }, {\n            menuId: MenuId.SimpleEditorContext,\n            group: CLIPBOARD_CONTEXT_MENU_GROUP,\n            title: nls.localize('actions.clipboard.pasteLabel', \"Paste\"),\n            when: EditorContextKeys.writable,\n            order: 4,\n        }]\n})) : undefined;\nclass ExecCommandCopyWithSyntaxHighlightingAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.clipboardCopyWithSyntaxHighlightingAction',\n            label: nls.localize('actions.clipboard.copyWithSyntaxHighlightingLabel', \"Copy With Syntax Highlighting\"),\n            alias: 'Copy With Syntax Highlighting',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const emptySelectionClipboard = editor.getOption(37 /* EditorOption.emptySelectionClipboard */);\n        if (!emptySelectionClipboard && editor.getSelection().isEmpty()) {\n            return;\n        }\n        CopyOptions.forceCopyWithSyntaxHighlighting = true;\n        editor.focus();\n        editor.getContainerDomNode().ownerDocument.execCommand('copy');\n        CopyOptions.forceCopyWithSyntaxHighlighting = false;\n    }\n}\nfunction registerExecCommandImpl(target, browserCommand) {\n    if (!target) {\n        return;\n    }\n    // 1. handle case when focus is in editor.\n    target.addImplementation(10000, 'code-editor', (accessor, args) => {\n        // Only if editor text focus (i.e. not if editor has widget focus).\n        const focusedEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n        if (focusedEditor && focusedEditor.hasTextFocus()) {\n            // Do not execute if there is no selection and empty selection clipboard is off\n            const emptySelectionClipboard = focusedEditor.getOption(37 /* EditorOption.emptySelectionClipboard */);\n            const selection = focusedEditor.getSelection();\n            if (selection && selection.isEmpty() && !emptySelectionClipboard) {\n                return true;\n            }\n            focusedEditor.getContainerDomNode().ownerDocument.execCommand(browserCommand);\n            return true;\n        }\n        return false;\n    });\n    // 2. (default) handle case when focus is somewhere else.\n    target.addImplementation(0, 'generic-dom', (accessor, args) => {\n        getActiveDocument().execCommand(browserCommand);\n        return true;\n    });\n}\nregisterExecCommandImpl(CutAction, 'cut');\nregisterExecCommandImpl(CopyAction, 'copy');\nif (PasteAction) {\n    // 1. Paste: handle case when focus is in editor.\n    PasteAction.addImplementation(10000, 'code-editor', (accessor, args) => {\n        const codeEditorService = accessor.get(ICodeEditorService);\n        const clipboardService = accessor.get(IClipboardService);\n        // Only if editor text focus (i.e. not if editor has widget focus).\n        const focusedEditor = codeEditorService.getFocusedCodeEditor();\n        if (focusedEditor && focusedEditor.hasTextFocus()) {\n            const result = focusedEditor.getContainerDomNode().ownerDocument.execCommand('paste');\n            if (result) {\n                return CopyPasteController.get(focusedEditor)?.finishedPaste() ?? Promise.resolve();\n            }\n            else if (platform.isWeb) {\n                // Use the clipboard service if document.execCommand('paste') was not successful\n                return (async () => {\n                    const clipboardText = await clipboardService.readText();\n                    if (clipboardText !== '') {\n                        const metadata = InMemoryClipboardMetadataManager.INSTANCE.get(clipboardText);\n                        let pasteOnNewLine = false;\n                        let multicursorText = null;\n                        let mode = null;\n                        if (metadata) {\n                            pasteOnNewLine = (focusedEditor.getOption(37 /* EditorOption.emptySelectionClipboard */) && !!metadata.isFromEmptySelection);\n                            multicursorText = (typeof metadata.multicursorText !== 'undefined' ? metadata.multicursorText : null);\n                            mode = metadata.mode;\n                        }\n                        focusedEditor.trigger('keyboard', \"paste\" /* Handler.Paste */, {\n                            text: clipboardText,\n                            pasteOnNewLine,\n                            multicursorText,\n                            mode\n                        });\n                    }\n                })();\n            }\n            return true;\n        }\n        return false;\n    });\n    // 2. Paste: (default) handle case when focus is somewhere else.\n    PasteAction.addImplementation(0, 'generic-dom', (accessor, args) => {\n        getActiveDocument().execCommand('paste');\n        return true;\n    });\n}\nif (supportsCopy) {\n    registerEditorAction(ExecCommandCopyWithSyntaxHighlightingAction);\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2426, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/symbolIcons/browser/symbolIcons.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './symbolIcons.css';\nimport { localize } from '../../../../nls.js';\nimport { foreground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nexport const SYMBOL_ICON_ARRAY_FOREGROUND = registerColor('symbolIcon.arrayForeground', foreground, localize('symbolIcon.arrayForeground', 'The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_BOOLEAN_FOREGROUND = registerColor('symbolIcon.booleanForeground', foreground, localize('symbolIcon.booleanForeground', 'The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_CLASS_FOREGROUND = registerColor('symbolIcon.classForeground', {\n    dark: '#EE9D28',\n    light: '#D67E00',\n    hcDark: '#EE9D28',\n    hcLight: '#D67E00'\n}, localize('symbolIcon.classForeground', 'The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_COLOR_FOREGROUND = registerColor('symbolIcon.colorForeground', foreground, localize('symbolIcon.colorForeground', 'The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_CONSTANT_FOREGROUND = registerColor('symbolIcon.constantForeground', foreground, localize('symbolIcon.constantForeground', 'The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_CONSTRUCTOR_FOREGROUND = registerColor('symbolIcon.constructorForeground', {\n    dark: '#B180D7',\n    light: '#652D90',\n    hcDark: '#B180D7',\n    hcLight: '#652D90'\n}, localize('symbolIcon.constructorForeground', 'The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_ENUMERATOR_FOREGROUND = registerColor('symbolIcon.enumeratorForeground', {\n    dark: '#EE9D28',\n    light: '#D67E00',\n    hcDark: '#EE9D28',\n    hcLight: '#D67E00'\n}, localize('symbolIcon.enumeratorForeground', 'The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND = registerColor('symbolIcon.enumeratorMemberForeground', {\n    dark: '#75BEFF',\n    light: '#007ACC',\n    hcDark: '#75BEFF',\n    hcLight: '#007ACC'\n}, localize('symbolIcon.enumeratorMemberForeground', 'The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_EVENT_FOREGROUND = registerColor('symbolIcon.eventForeground', {\n    dark: '#EE9D28',\n    light: '#D67E00',\n    hcDark: '#EE9D28',\n    hcLight: '#D67E00'\n}, localize('symbolIcon.eventForeground', 'The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_FIELD_FOREGROUND = registerColor('symbolIcon.fieldForeground', {\n    dark: '#75BEFF',\n    light: '#007ACC',\n    hcDark: '#75BEFF',\n    hcLight: '#007ACC'\n}, localize('symbolIcon.fieldForeground', 'The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_FILE_FOREGROUND = registerColor('symbolIcon.fileForeground', foreground, localize('symbolIcon.fileForeground', 'The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_FOLDER_FOREGROUND = registerColor('symbolIcon.folderForeground', foreground, localize('symbolIcon.folderForeground', 'The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_FUNCTION_FOREGROUND = registerColor('symbolIcon.functionForeground', {\n    dark: '#B180D7',\n    light: '#652D90',\n    hcDark: '#B180D7',\n    hcLight: '#652D90'\n}, localize('symbolIcon.functionForeground', 'The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_INTERFACE_FOREGROUND = registerColor('symbolIcon.interfaceForeground', {\n    dark: '#75BEFF',\n    light: '#007ACC',\n    hcDark: '#75BEFF',\n    hcLight: '#007ACC'\n}, localize('symbolIcon.interfaceForeground', 'The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_KEY_FOREGROUND = registerColor('symbolIcon.keyForeground', foreground, localize('symbolIcon.keyForeground', 'The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_KEYWORD_FOREGROUND = registerColor('symbolIcon.keywordForeground', foreground, localize('symbolIcon.keywordForeground', 'The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_METHOD_FOREGROUND = registerColor('symbolIcon.methodForeground', {\n    dark: '#B180D7',\n    light: '#652D90',\n    hcDark: '#B180D7',\n    hcLight: '#652D90'\n}, localize('symbolIcon.methodForeground', 'The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_MODULE_FOREGROUND = registerColor('symbolIcon.moduleForeground', foreground, localize('symbolIcon.moduleForeground', 'The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_NAMESPACE_FOREGROUND = registerColor('symbolIcon.namespaceForeground', foreground, localize('symbolIcon.namespaceForeground', 'The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_NULL_FOREGROUND = registerColor('symbolIcon.nullForeground', foreground, localize('symbolIcon.nullForeground', 'The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_NUMBER_FOREGROUND = registerColor('symbolIcon.numberForeground', foreground, localize('symbolIcon.numberForeground', 'The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_OBJECT_FOREGROUND = registerColor('symbolIcon.objectForeground', foreground, localize('symbolIcon.objectForeground', 'The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_OPERATOR_FOREGROUND = registerColor('symbolIcon.operatorForeground', foreground, localize('symbolIcon.operatorForeground', 'The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_PACKAGE_FOREGROUND = registerColor('symbolIcon.packageForeground', foreground, localize('symbolIcon.packageForeground', 'The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_PROPERTY_FOREGROUND = registerColor('symbolIcon.propertyForeground', foreground, localize('symbolIcon.propertyForeground', 'The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_REFERENCE_FOREGROUND = registerColor('symbolIcon.referenceForeground', foreground, localize('symbolIcon.referenceForeground', 'The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_SNIPPET_FOREGROUND = registerColor('symbolIcon.snippetForeground', foreground, localize('symbolIcon.snippetForeground', 'The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_STRING_FOREGROUND = registerColor('symbolIcon.stringForeground', foreground, localize('symbolIcon.stringForeground', 'The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_STRUCT_FOREGROUND = registerColor('symbolIcon.structForeground', foreground, localize('symbolIcon.structForeground', 'The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_TEXT_FOREGROUND = registerColor('symbolIcon.textForeground', foreground, localize('symbolIcon.textForeground', 'The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_TYPEPARAMETER_FOREGROUND = registerColor('symbolIcon.typeParameterForeground', foreground, localize('symbolIcon.typeParameterForeground', 'The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_UNIT_FOREGROUND = registerColor('symbolIcon.unitForeground', foreground, localize('symbolIcon.unitForeground', 'The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\nexport const SYMBOL_ICON_VARIABLE_FOREGROUND = registerColor('symbolIcon.variableForeground', {\n    dark: '#75BEFF',\n    light: '#007ACC',\n    hcDark: '#75BEFF',\n    hcLight: '#007ACC',\n}, localize('symbolIcon.variableForeground', 'The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget.'));\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2559, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/browser/codelens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class CodeLensModel {\n    constructor() {\n        this.lenses = [];\n        this._disposables = new DisposableStore();\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n    get isDisposed() {\n        return this._disposables.isDisposed;\n    }\n    add(list, provider) {\n        this._disposables.add(list);\n        for (const symbol of list.lenses) {\n            this.lenses.push({ symbol, provider });\n        }\n    }\n}\nexport async function getCodeLensModel(registry, model, token) {\n    const provider = registry.ordered(model);\n    const providerRanks = new Map();\n    const result = new CodeLensModel();\n    const promises = provider.map(async (provider, i) => {\n        providerRanks.set(provider, i);\n        try {\n            const list = await Promise.resolve(provider.provideCodeLenses(model, token));\n            if (list) {\n                result.add(list, provider);\n            }\n        }\n        catch (err) {\n            onUnexpectedExternalError(err);\n        }\n    });\n    await Promise.all(promises);\n    result.lenses = result.lenses.sort((a, b) => {\n        // sort by lineNumber, provider-rank, and column\n        if (a.symbol.range.startLineNumber < b.symbol.range.startLineNumber) {\n            return -1;\n        }\n        else if (a.symbol.range.startLineNumber > b.symbol.range.startLineNumber) {\n            return 1;\n        }\n        else if ((providerRanks.get(a.provider)) < (providerRanks.get(b.provider))) {\n            return -1;\n        }\n        else if ((providerRanks.get(a.provider)) > (providerRanks.get(b.provider))) {\n            return 1;\n        }\n        else if (a.symbol.range.startColumn < b.symbol.range.startColumn) {\n            return -1;\n        }\n        else if (a.symbol.range.startColumn > b.symbol.range.startColumn) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    });\n    return result;\n}\nCommandsRegistry.registerCommand('_executeCodeLensProvider', function (accessor, ...args) {\n    let [uri, itemResolveCount] = args;\n    assertType(URI.isUri(uri));\n    assertType(typeof itemResolveCount === 'number' || !itemResolveCount);\n    const { codeLensProvider } = accessor.get(ILanguageFeaturesService);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        throw illegalArgument();\n    }\n    const result = [];\n    const disposables = new DisposableStore();\n    return getCodeLensModel(codeLensProvider, model, CancellationToken.None).then(value => {\n        disposables.add(value);\n        const resolve = [];\n        for (const item of value.lenses) {\n            if (itemResolveCount === undefined || itemResolveCount === null || Boolean(item.symbol.command)) {\n                result.push(item.symbol);\n            }\n            else if (itemResolveCount-- > 0 && item.provider.resolveCodeLens) {\n                resolve.push(Promise.resolve(item.provider.resolveCodeLens(model, item.symbol, CancellationToken.None)).then(symbol => result.push(symbol || item.symbol)));\n            }\n        }\n        return Promise.all(resolve);\n    }).then(() => {\n        return result;\n    }).finally(() => {\n        // make sure to return results, then (on next tick)\n        // dispose the results\n        setTimeout(() => disposables.dispose(), 100);\n    });\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2676, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/browser/codeLensCache.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Event } from '../../../../base/common/event.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Range } from '../../../common/core/range.js';\nimport { CodeLensModel } from './codelens.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService, WillSaveStateReason } from '../../../../platform/storage/common/storage.js';\nimport { mainWindow } from '../../../../base/browser/window.js';\nimport { runWhenWindowIdle } from '../../../../base/browser/dom.js';\nexport const ICodeLensCache = createDecorator('ICodeLensCache');\nclass CacheItem {\n    constructor(lineCount, data) {\n        this.lineCount = lineCount;\n        this.data = data;\n    }\n}\nlet CodeLensCache = class CodeLensCache {\n    constructor(storageService) {\n        this._fakeProvider = new class {\n            provideCodeLenses() {\n                throw new Error('not supported');\n            }\n        };\n        this._cache = new LRUCache(20, 0.75);\n        // remove old data\n        const oldkey = 'codelens/cache';\n        runWhenWindowIdle(mainWindow, () => storageService.remove(oldkey, 1 /* StorageScope.WORKSPACE */));\n        // restore lens data on start\n        const key = 'codelens/cache2';\n        const raw = storageService.get(key, 1 /* StorageScope.WORKSPACE */, '{}');\n        this._deserialize(raw);\n        // store lens data on shutdown\n        const onWillSaveStateBecauseOfShutdown = Event.filter(storageService.onWillSaveState, e => e.reason === WillSaveStateReason.SHUTDOWN);\n        Event.once(onWillSaveStateBecauseOfShutdown)(e => {\n            storageService.store(key, this._serialize(), 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        });\n    }\n    put(model, data) {\n        // create a copy of the model that is without command-ids\n        // but with comand-labels\n        const copyItems = data.lenses.map((item) => {\n            return {\n                range: item.symbol.range,\n                command: item.symbol.command && { id: '', title: item.symbol.command?.title },\n            };\n        });\n        const copyModel = new CodeLensModel();\n        copyModel.add({ lenses: copyItems, dispose: () => { } }, this._fakeProvider);\n        const item = new CacheItem(model.getLineCount(), copyModel);\n        this._cache.set(model.uri.toString(), item);\n    }\n    get(model) {\n        const item = this._cache.get(model.uri.toString());\n        return item && item.lineCount === model.getLineCount() ? item.data : undefined;\n    }\n    delete(model) {\n        this._cache.delete(model.uri.toString());\n    }\n    // --- persistence\n    _serialize() {\n        const data = Object.create(null);\n        for (const [key, value] of this._cache) {\n            const lines = new Set();\n            for (const d of value.data.lenses) {\n                lines.add(d.symbol.range.startLineNumber);\n            }\n            data[key] = {\n                lineCount: value.lineCount,\n                lines: [...lines.values()]\n            };\n        }\n        return JSON.stringify(data);\n    }\n    _deserialize(raw) {\n        try {\n            const data = JSON.parse(raw);\n            for (const key in data) {\n                const element = data[key];\n                const lenses = [];\n                for (const line of element.lines) {\n                    lenses.push({ range: new Range(line, 1, line, 11) });\n                }\n                const model = new CodeLensModel();\n                model.add({ lenses, dispose() { } }, this._fakeProvider);\n                this._cache.set(key, new CacheItem(element.lineCount, model));\n            }\n        }\n        catch {\n            // ignore...\n        }\n    }\n};\nCodeLensCache = __decorate([\n    __param(0, IStorageService)\n], CodeLensCache);\nexport { CodeLensCache };\nregisterSingleton(ICodeLensCache, CodeLensCache, 1 /* InstantiationType.Delayed */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2817, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/browser/codelensWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { renderLabelWithIcons } from '../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport './codelensWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nclass CodeLensViewZone {\n    constructor(afterLineNumber, heightInPx, onHeight) {\n        /**\n         * We want that this view zone, which reserves space for a code lens appears\n         * as close as possible to the next line, so we use a very large value here.\n         */\n        this.afterColumn = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n        this.afterLineNumber = afterLineNumber;\n        this.heightInPx = heightInPx;\n        this._onHeight = onHeight;\n        this.suppressMouseDown = true;\n        this.domNode = document.createElement('div');\n    }\n    onComputedHeight(height) {\n        if (this._lastHeight === undefined) {\n            this._lastHeight = height;\n        }\n        else if (this._lastHeight !== height) {\n            this._lastHeight = height;\n            this._onHeight();\n        }\n    }\n    isVisible() {\n        return this._lastHeight !== 0\n            && this.domNode.hasAttribute('monaco-visible-view-zone');\n    }\n}\nclass CodeLensContentWidget {\n    static { this._idPool = 0; }\n    constructor(editor, line) {\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = false;\n        this.suppressMouseDown = true;\n        this._commands = new Map();\n        this._isEmpty = true;\n        this._editor = editor;\n        this._id = `codelens.widget-${(CodeLensContentWidget._idPool++)}`;\n        this.updatePosition(line);\n        this._domNode = document.createElement('span');\n        this._domNode.className = `codelens-decoration`;\n    }\n    withCommands(lenses, animate) {\n        this._commands.clear();\n        const children = [];\n        let hasSymbol = false;\n        for (let i = 0; i < lenses.length; i++) {\n            const lens = lenses[i];\n            if (!lens) {\n                continue;\n            }\n            hasSymbol = true;\n            if (lens.command) {\n                const title = renderLabelWithIcons(lens.command.title.trim());\n                if (lens.command.id) {\n                    const id = `c${(CodeLensContentWidget._idPool++)}`;\n                    children.push(dom.$('a', { id, title: lens.command.tooltip, role: 'button' }, ...title));\n                    this._commands.set(id, lens.command);\n                }\n                else {\n                    children.push(dom.$('span', { title: lens.command.tooltip }, ...title));\n                }\n                if (i + 1 < lenses.length) {\n                    children.push(dom.$('span', undefined, '\\u00a0|\\u00a0'));\n                }\n            }\n        }\n        if (!hasSymbol) {\n            // symbols but no commands\n            dom.reset(this._domNode, dom.$('span', undefined, 'no commands'));\n        }\n        else {\n            // symbols and commands\n            dom.reset(this._domNode, ...children);\n            if (this._isEmpty && animate) {\n                this._domNode.classList.add('fadein');\n            }\n            this._isEmpty = false;\n        }\n    }\n    getCommand(link) {\n        return link.parentElement === this._domNode\n            ? this._commands.get(link.id)\n            : undefined;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    updatePosition(line) {\n        const column = this._editor.getModel().getLineFirstNonWhitespaceColumn(line);\n        this._widgetPosition = {\n            position: { lineNumber: line, column: column },\n            preference: [1 /* ContentWidgetPositionPreference.ABOVE */]\n        };\n    }\n    getPosition() {\n        return this._widgetPosition || null;\n    }\n}\nexport class CodeLensHelper {\n    constructor() {\n        this._removeDecorations = [];\n        this._addDecorations = [];\n        this._addDecorationsCallbacks = [];\n    }\n    addDecoration(decoration, callback) {\n        this._addDecorations.push(decoration);\n        this._addDecorationsCallbacks.push(callback);\n    }\n    removeDecoration(decorationId) {\n        this._removeDecorations.push(decorationId);\n    }\n    commit(changeAccessor) {\n        const resultingDecorations = changeAccessor.deltaDecorations(this._removeDecorations, this._addDecorations);\n        for (let i = 0, len = resultingDecorations.length; i < len; i++) {\n            this._addDecorationsCallbacks[i](resultingDecorations[i]);\n        }\n    }\n}\nconst codeLensDecorationOptions = ModelDecorationOptions.register({\n    collapseOnReplaceEdit: true,\n    description: 'codelens'\n});\nexport class CodeLensWidget {\n    constructor(data, editor, helper, viewZoneChangeAccessor, heightInPx, updateCallback) {\n        this._isDisposed = false;\n        this._editor = editor;\n        this._data = data;\n        // create combined range, track all ranges with decorations,\n        // check if there is already something to render\n        this._decorationIds = [];\n        let range;\n        const lenses = [];\n        this._data.forEach((codeLensData, i) => {\n            if (codeLensData.symbol.command) {\n                lenses.push(codeLensData.symbol);\n            }\n            helper.addDecoration({\n                range: codeLensData.symbol.range,\n                options: codeLensDecorationOptions\n            }, id => this._decorationIds[i] = id);\n            // the range contains all lenses on this line\n            if (!range) {\n                range = Range.lift(codeLensData.symbol.range);\n            }\n            else {\n                range = Range.plusRange(range, codeLensData.symbol.range);\n            }\n        });\n        this._viewZone = new CodeLensViewZone(range.startLineNumber - 1, heightInPx, updateCallback);\n        this._viewZoneId = viewZoneChangeAccessor.addZone(this._viewZone);\n        if (lenses.length > 0) {\n            this._createContentWidgetIfNecessary();\n            this._contentWidget.withCommands(lenses, false);\n        }\n    }\n    _createContentWidgetIfNecessary() {\n        if (!this._contentWidget) {\n            this._contentWidget = new CodeLensContentWidget(this._editor, this._viewZone.afterLineNumber + 1);\n            this._editor.addContentWidget(this._contentWidget);\n        }\n        else {\n            this._editor.layoutContentWidget(this._contentWidget);\n        }\n    }\n    dispose(helper, viewZoneChangeAccessor) {\n        this._decorationIds.forEach(helper.removeDecoration, helper);\n        this._decorationIds = [];\n        viewZoneChangeAccessor?.removeZone(this._viewZoneId);\n        if (this._contentWidget) {\n            this._editor.removeContentWidget(this._contentWidget);\n            this._contentWidget = undefined;\n        }\n        this._isDisposed = true;\n    }\n    isDisposed() {\n        return this._isDisposed;\n    }\n    isValid() {\n        return this._decorationIds.some((id, i) => {\n            const range = this._editor.getModel().getDecorationRange(id);\n            const symbol = this._data[i].symbol;\n            return !!(range && Range.isEmpty(symbol.range) === range.isEmpty());\n        });\n    }\n    updateCodeLensSymbols(data, helper) {\n        this._decorationIds.forEach(helper.removeDecoration, helper);\n        this._decorationIds = [];\n        this._data = data;\n        this._data.forEach((codeLensData, i) => {\n            helper.addDecoration({\n                range: codeLensData.symbol.range,\n                options: codeLensDecorationOptions\n            }, id => this._decorationIds[i] = id);\n        });\n    }\n    updateHeight(height, viewZoneChangeAccessor) {\n        this._viewZone.heightInPx = height;\n        viewZoneChangeAccessor.layoutZone(this._viewZoneId);\n        if (this._contentWidget) {\n            this._editor.layoutContentWidget(this._contentWidget);\n        }\n    }\n    computeIfNecessary(model) {\n        if (!this._viewZone.isVisible()) {\n            return null;\n        }\n        // Read editor current state\n        for (let i = 0; i < this._decorationIds.length; i++) {\n            const range = model.getDecorationRange(this._decorationIds[i]);\n            if (range) {\n                this._data[i].symbol.range = range;\n            }\n        }\n        return this._data;\n    }\n    updateCommands(symbols) {\n        this._createContentWidgetIfNecessary();\n        this._contentWidget.withCommands(symbols, true);\n        for (let i = 0; i < this._data.length; i++) {\n            const resolved = symbols[i];\n            if (resolved) {\n                const { symbol } = this._data[i];\n                symbol.command = resolved.command || symbol.command;\n            }\n        }\n    }\n    getCommand(link) {\n        return this._contentWidget?.getCommand(link);\n    }\n    getLineNumber() {\n        const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\n        if (range) {\n            return range.startLineNumber;\n        }\n        return -1;\n    }\n    update(viewZoneChangeAccessor) {\n        if (this.isValid()) {\n            const range = this._editor.getModel().getDecorationRange(this._decorationIds[0]);\n            if (range) {\n                this._viewZone.afterLineNumber = range.startLineNumber - 1;\n                viewZoneChangeAccessor.layoutZone(this._viewZoneId);\n                if (this._contentWidget) {\n                    this._contentWidget.updatePosition(range.startLineNumber);\n                    this._editor.layoutContentWidget(this._contentWidget);\n                }\n            }\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3093, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/codelens/browser/codelensController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createCancelablePromise, disposableTimeout, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { StableEditorScrollState } from '../../../browser/stableEditorScroll.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EDITOR_FONT_DEFAULTS } from '../../../common/config/editorOptions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { getCodeLensModel } from './codelens.js';\nimport { ICodeLensCache } from './codeLensCache.js';\nimport { CodeLensHelper, CodeLensWidget } from './codelensWidget.js';\nimport { localize } from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nlet CodeLensContribution = class CodeLensContribution {\n    static { this.ID = 'css.editor.codeLens'; }\n    constructor(_editor, _languageFeaturesService, debounceService, _commandService, _notificationService, _codeLensCache) {\n        this._editor = _editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._commandService = _commandService;\n        this._notificationService = _notificationService;\n        this._codeLensCache = _codeLensCache;\n        this._disposables = new DisposableStore();\n        this._localToDispose = new DisposableStore();\n        this._lenses = [];\n        this._oldCodeLensModels = new DisposableStore();\n        this._provideCodeLensDebounce = debounceService.for(_languageFeaturesService.codeLensProvider, 'CodeLensProvide', { min: 250 });\n        this._resolveCodeLensesDebounce = debounceService.for(_languageFeaturesService.codeLensProvider, 'CodeLensResolve', { min: 250, salt: 'resolve' });\n        this._resolveCodeLensesScheduler = new RunOnceScheduler(() => this._resolveCodeLensesInViewport(), this._resolveCodeLensesDebounce.default());\n        this._disposables.add(this._editor.onDidChangeModel(() => this._onModelChange()));\n        this._disposables.add(this._editor.onDidChangeModelLanguage(() => this._onModelChange()));\n        this._disposables.add(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(50 /* EditorOption.fontInfo */) || e.hasChanged(19 /* EditorOption.codeLensFontSize */) || e.hasChanged(18 /* EditorOption.codeLensFontFamily */)) {\n                this._updateLensStyle();\n            }\n            if (e.hasChanged(17 /* EditorOption.codeLens */)) {\n                this._onModelChange();\n            }\n        }));\n        this._disposables.add(_languageFeaturesService.codeLensProvider.onDidChange(this._onModelChange, this));\n        this._onModelChange();\n        this._updateLensStyle();\n    }\n    dispose() {\n        this._localDispose();\n        this._disposables.dispose();\n        this._oldCodeLensModels.dispose();\n        this._currentCodeLensModel?.dispose();\n    }\n    _getLayoutInfo() {\n        const lineHeightFactor = Math.max(1.3, this._editor.getOption(67 /* EditorOption.lineHeight */) / this._editor.getOption(52 /* EditorOption.fontSize */));\n        let fontSize = this._editor.getOption(19 /* EditorOption.codeLensFontSize */);\n        if (!fontSize || fontSize < 5) {\n            fontSize = (this._editor.getOption(52 /* EditorOption.fontSize */) * .9) | 0;\n        }\n        return {\n            fontSize,\n            codeLensHeight: (fontSize * lineHeightFactor) | 0,\n        };\n    }\n    _updateLensStyle() {\n        const { codeLensHeight, fontSize } = this._getLayoutInfo();\n        const fontFamily = this._editor.getOption(18 /* EditorOption.codeLensFontFamily */);\n        const editorFontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n        const { style } = this._editor.getContainerDomNode();\n        style.setProperty('--vscode-editorCodeLens-lineHeight', `${codeLensHeight}px`);\n        style.setProperty('--vscode-editorCodeLens-fontSize', `${fontSize}px`);\n        style.setProperty('--vscode-editorCodeLens-fontFeatureSettings', editorFontInfo.fontFeatureSettings);\n        if (fontFamily) {\n            style.setProperty('--vscode-editorCodeLens-fontFamily', fontFamily);\n            style.setProperty('--vscode-editorCodeLens-fontFamilyDefault', EDITOR_FONT_DEFAULTS.fontFamily);\n        }\n        //\n        this._editor.changeViewZones(accessor => {\n            for (const lens of this._lenses) {\n                lens.updateHeight(codeLensHeight, accessor);\n            }\n        });\n    }\n    _localDispose() {\n        this._getCodeLensModelPromise?.cancel();\n        this._getCodeLensModelPromise = undefined;\n        this._resolveCodeLensesPromise?.cancel();\n        this._resolveCodeLensesPromise = undefined;\n        this._localToDispose.clear();\n        this._oldCodeLensModels.clear();\n        this._currentCodeLensModel?.dispose();\n    }\n    _onModelChange() {\n        this._localDispose();\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        if (!this._editor.getOption(17 /* EditorOption.codeLens */) || model.isTooLargeForTokenization()) {\n            return;\n        }\n        const cachedLenses = this._codeLensCache.get(model);\n        if (cachedLenses) {\n            this._renderCodeLensSymbols(cachedLenses);\n        }\n        if (!this._languageFeaturesService.codeLensProvider.has(model)) {\n            // no provider -> return but check with\n            // cached lenses. they expire after 30 seconds\n            if (cachedLenses) {\n                disposableTimeout(() => {\n                    const cachedLensesNow = this._codeLensCache.get(model);\n                    if (cachedLenses === cachedLensesNow) {\n                        this._codeLensCache.delete(model);\n                        this._onModelChange();\n                    }\n                }, 30 * 1000, this._localToDispose);\n            }\n            return;\n        }\n        for (const provider of this._languageFeaturesService.codeLensProvider.all(model)) {\n            if (typeof provider.onDidChange === 'function') {\n                const registration = provider.onDidChange(() => scheduler.schedule());\n                this._localToDispose.add(registration);\n            }\n        }\n        const scheduler = new RunOnceScheduler(() => {\n            const t1 = Date.now();\n            this._getCodeLensModelPromise?.cancel();\n            this._getCodeLensModelPromise = createCancelablePromise(token => getCodeLensModel(this._languageFeaturesService.codeLensProvider, model, token));\n            this._getCodeLensModelPromise.then(result => {\n                if (this._currentCodeLensModel) {\n                    this._oldCodeLensModels.add(this._currentCodeLensModel);\n                }\n                this._currentCodeLensModel = result;\n                // cache model to reduce flicker\n                this._codeLensCache.put(model, result);\n                // update moving average\n                const newDelay = this._provideCodeLensDebounce.update(model, Date.now() - t1);\n                scheduler.delay = newDelay;\n                // render lenses\n                this._renderCodeLensSymbols(result);\n                // dom.scheduleAtNextAnimationFrame(() => this._resolveCodeLensesInViewport());\n                this._resolveCodeLensesInViewportSoon();\n            }, onUnexpectedError);\n        }, this._provideCodeLensDebounce.get(model));\n        this._localToDispose.add(scheduler);\n        this._localToDispose.add(toDisposable(() => this._resolveCodeLensesScheduler.cancel()));\n        this._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n            this._editor.changeDecorations(decorationsAccessor => {\n                this._editor.changeViewZones(viewZonesAccessor => {\n                    const toDispose = [];\n                    let lastLensLineNumber = -1;\n                    this._lenses.forEach((lens) => {\n                        if (!lens.isValid() || lastLensLineNumber === lens.getLineNumber()) {\n                            // invalid -> lens collapsed, attach range doesn't exist anymore\n                            // line_number -> lenses should never be on the same line\n                            toDispose.push(lens);\n                        }\n                        else {\n                            lens.update(viewZonesAccessor);\n                            lastLensLineNumber = lens.getLineNumber();\n                        }\n                    });\n                    const helper = new CodeLensHelper();\n                    toDispose.forEach((l) => {\n                        l.dispose(helper, viewZonesAccessor);\n                        this._lenses.splice(this._lenses.indexOf(l), 1);\n                    });\n                    helper.commit(decorationsAccessor);\n                });\n            });\n            // Ask for all references again\n            scheduler.schedule();\n            // Cancel pending and active resolve requests\n            this._resolveCodeLensesScheduler.cancel();\n            this._resolveCodeLensesPromise?.cancel();\n            this._resolveCodeLensesPromise = undefined;\n        }));\n        this._localToDispose.add(this._editor.onDidFocusEditorText(() => {\n            scheduler.schedule();\n        }));\n        this._localToDispose.add(this._editor.onDidBlurEditorText(() => {\n            scheduler.cancel();\n        }));\n        this._localToDispose.add(this._editor.onDidScrollChange(e => {\n            if (e.scrollTopChanged && this._lenses.length > 0) {\n                this._resolveCodeLensesInViewportSoon();\n            }\n        }));\n        this._localToDispose.add(this._editor.onDidLayoutChange(() => {\n            this._resolveCodeLensesInViewportSoon();\n        }));\n        this._localToDispose.add(toDisposable(() => {\n            if (this._editor.getModel()) {\n                const scrollState = StableEditorScrollState.capture(this._editor);\n                this._editor.changeDecorations(decorationsAccessor => {\n                    this._editor.changeViewZones(viewZonesAccessor => {\n                        this._disposeAllLenses(decorationsAccessor, viewZonesAccessor);\n                    });\n                });\n                scrollState.restore(this._editor);\n            }\n            else {\n                // No accessors available\n                this._disposeAllLenses(undefined, undefined);\n            }\n        }));\n        this._localToDispose.add(this._editor.onMouseDown(e => {\n            if (e.target.type !== 9 /* MouseTargetType.CONTENT_WIDGET */) {\n                return;\n            }\n            let target = e.target.element;\n            if (target?.tagName === 'SPAN') {\n                target = target.parentElement;\n            }\n            if (target?.tagName === 'A') {\n                for (const lens of this._lenses) {\n                    const command = lens.getCommand(target);\n                    if (command) {\n                        this._commandService.executeCommand(command.id, ...(command.arguments || [])).catch(err => this._notificationService.error(err));\n                        break;\n                    }\n                }\n            }\n        }));\n        scheduler.schedule();\n    }\n    _disposeAllLenses(decChangeAccessor, viewZoneChangeAccessor) {\n        const helper = new CodeLensHelper();\n        for (const lens of this._lenses) {\n            lens.dispose(helper, viewZoneChangeAccessor);\n        }\n        if (decChangeAccessor) {\n            helper.commit(decChangeAccessor);\n        }\n        this._lenses.length = 0;\n    }\n    _renderCodeLensSymbols(symbols) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const maxLineNumber = this._editor.getModel().getLineCount();\n        const groups = [];\n        let lastGroup;\n        for (const symbol of symbols.lenses) {\n            const line = symbol.symbol.range.startLineNumber;\n            if (line < 1 || line > maxLineNumber) {\n                // invalid code lens\n                continue;\n            }\n            else if (lastGroup && lastGroup[lastGroup.length - 1].symbol.range.startLineNumber === line) {\n                // on same line as previous\n                lastGroup.push(symbol);\n            }\n            else {\n                // on later line as previous\n                lastGroup = [symbol];\n                groups.push(lastGroup);\n            }\n        }\n        if (!groups.length && !this._lenses.length) {\n            // Nothing to change\n            return;\n        }\n        const scrollState = StableEditorScrollState.capture(this._editor);\n        const layoutInfo = this._getLayoutInfo();\n        this._editor.changeDecorations(decorationsAccessor => {\n            this._editor.changeViewZones(viewZoneAccessor => {\n                const helper = new CodeLensHelper();\n                let codeLensIndex = 0;\n                let groupsIndex = 0;\n                while (groupsIndex < groups.length && codeLensIndex < this._lenses.length) {\n                    const symbolsLineNumber = groups[groupsIndex][0].symbol.range.startLineNumber;\n                    const codeLensLineNumber = this._lenses[codeLensIndex].getLineNumber();\n                    if (codeLensLineNumber < symbolsLineNumber) {\n                        this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\n                        this._lenses.splice(codeLensIndex, 1);\n                    }\n                    else if (codeLensLineNumber === symbolsLineNumber) {\n                        this._lenses[codeLensIndex].updateCodeLensSymbols(groups[groupsIndex], helper);\n                        groupsIndex++;\n                        codeLensIndex++;\n                    }\n                    else {\n                        this._lenses.splice(codeLensIndex, 0, new CodeLensWidget(groups[groupsIndex], this._editor, helper, viewZoneAccessor, layoutInfo.codeLensHeight, () => this._resolveCodeLensesInViewportSoon()));\n                        codeLensIndex++;\n                        groupsIndex++;\n                    }\n                }\n                // Delete extra code lenses\n                while (codeLensIndex < this._lenses.length) {\n                    this._lenses[codeLensIndex].dispose(helper, viewZoneAccessor);\n                    this._lenses.splice(codeLensIndex, 1);\n                }\n                // Create extra symbols\n                while (groupsIndex < groups.length) {\n                    this._lenses.push(new CodeLensWidget(groups[groupsIndex], this._editor, helper, viewZoneAccessor, layoutInfo.codeLensHeight, () => this._resolveCodeLensesInViewportSoon()));\n                    groupsIndex++;\n                }\n                helper.commit(decorationsAccessor);\n            });\n        });\n        scrollState.restore(this._editor);\n    }\n    _resolveCodeLensesInViewportSoon() {\n        const model = this._editor.getModel();\n        if (model) {\n            this._resolveCodeLensesScheduler.schedule();\n        }\n    }\n    _resolveCodeLensesInViewport() {\n        this._resolveCodeLensesPromise?.cancel();\n        this._resolveCodeLensesPromise = undefined;\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        const toResolve = [];\n        const lenses = [];\n        this._lenses.forEach((lens) => {\n            const request = lens.computeIfNecessary(model);\n            if (request) {\n                toResolve.push(request);\n                lenses.push(lens);\n            }\n        });\n        if (toResolve.length === 0) {\n            return;\n        }\n        const t1 = Date.now();\n        const resolvePromise = createCancelablePromise(token => {\n            const promises = toResolve.map((request, i) => {\n                const resolvedSymbols = new Array(request.length);\n                const promises = request.map((request, i) => {\n                    if (!request.symbol.command && typeof request.provider.resolveCodeLens === 'function') {\n                        return Promise.resolve(request.provider.resolveCodeLens(model, request.symbol, token)).then(symbol => {\n                            resolvedSymbols[i] = symbol;\n                        }, onUnexpectedExternalError);\n                    }\n                    else {\n                        resolvedSymbols[i] = request.symbol;\n                        return Promise.resolve(undefined);\n                    }\n                });\n                return Promise.all(promises).then(() => {\n                    if (!token.isCancellationRequested && !lenses[i].isDisposed()) {\n                        lenses[i].updateCommands(resolvedSymbols);\n                    }\n                });\n            });\n            return Promise.all(promises);\n        });\n        this._resolveCodeLensesPromise = resolvePromise;\n        this._resolveCodeLensesPromise.then(() => {\n            // update moving average\n            const newDelay = this._resolveCodeLensesDebounce.update(model, Date.now() - t1);\n            this._resolveCodeLensesScheduler.delay = newDelay;\n            if (this._currentCodeLensModel) { // update the cached state with new resolved items\n                this._codeLensCache.put(model, this._currentCodeLensModel);\n            }\n            this._oldCodeLensModels.clear(); // dispose old models once we have updated the UI with the current model\n            if (resolvePromise === this._resolveCodeLensesPromise) {\n                this._resolveCodeLensesPromise = undefined;\n            }\n        }, err => {\n            onUnexpectedError(err); // can also be cancellation!\n            if (resolvePromise === this._resolveCodeLensesPromise) {\n                this._resolveCodeLensesPromise = undefined;\n            }\n        });\n    }\n    async getModel() {\n        await this._getCodeLensModelPromise;\n        await this._resolveCodeLensesPromise;\n        return !this._currentCodeLensModel?.isDisposed\n            ? this._currentCodeLensModel\n            : undefined;\n    }\n};\nCodeLensContribution = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, ILanguageFeatureDebounceService),\n    __param(3, ICommandService),\n    __param(4, INotificationService),\n    __param(5, ICodeLensCache)\n], CodeLensContribution);\nexport { CodeLensContribution };\nregisterEditorContribution(CodeLensContribution.ID, CodeLensContribution, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(class ShowLensesInCurrentLine extends EditorAction {\n    constructor() {\n        super({\n            id: 'codelens.showLensesInCurrentLine',\n            precondition: EditorContextKeys.hasCodeLensProvider,\n            label: localize('showLensOnLine', \"Show CodeLens Commands For Current Line\"),\n            alias: 'Show CodeLens Commands For Current Line',\n        });\n    }\n    async run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const quickInputService = accessor.get(IQuickInputService);\n        const commandService = accessor.get(ICommandService);\n        const notificationService = accessor.get(INotificationService);\n        const lineNumber = editor.getSelection().positionLineNumber;\n        const codelensController = editor.getContribution(CodeLensContribution.ID);\n        if (!codelensController) {\n            return;\n        }\n        const model = await codelensController.getModel();\n        if (!model) {\n            // nothing\n            return;\n        }\n        const items = [];\n        for (const lens of model.lenses) {\n            if (lens.symbol.command && lens.symbol.range.startLineNumber === lineNumber) {\n                items.push({\n                    label: lens.symbol.command.title,\n                    command: lens.symbol.command\n                });\n            }\n        }\n        if (items.length === 0) {\n            // We dont want an empty picker\n            return;\n        }\n        const item = await quickInputService.pick(items, {\n            canPickMany: false,\n            placeHolder: localize('placeHolder', \"Select a command\")\n        });\n        if (!item) {\n            // Nothing picked\n            return;\n        }\n        let command = item.command;\n        if (model.isDisposed) {\n            // try to find the same command again in-case the model has been re-created in the meantime\n            // this is a best attempt approach which shouldn't be needed because eager model re-creates\n            // shouldn't happen due to focus in/out anymore\n            const newModel = await codelensController.getModel();\n            const newLens = newModel?.lenses.find(lens => lens.symbol.range.startLineNumber === lineNumber && lens.symbol.command?.title === command.title);\n            if (!newLens || !newLens.symbol.command) {\n                return;\n            }\n            command = newLens.symbol.command;\n        }\n        try {\n            await commandService.executeCommand(command.id, ...(command.arguments || []));\n        }\n        catch (err) {\n            notificationService.error(err);\n        }\n    }\n});\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAU9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAxBA,IAAI,aAAa,4CAAS,yCAAK,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACjF,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,4CAAS,yCAAK,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IACnE,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;;;;;;;;;;;;;;;;;AAiBA,IAAI,gDAAuB,MAAM;IA6B7B,UAAU;YAIN;QAHA,IAAI,CAAC,aAAa;QAClB,IAAI,CAAC,YAAY,CAAC,OAAO;QACzB,IAAI,CAAC,kBAAkB,CAAC,OAAO;SAC/B,8BAAA,IAAI,CAAC,qBAAqB,cAA1B,kDAAA,4BAA4B,OAAO;IACvC;IACA,iBAAiB;QACb,MAAM,mBAAmB,KAAK,GAAG,CAAC,KAAK,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,2BAA2B,OAAM,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,yBAAyB;QACrJ,IAAI,WAAW,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,iCAAiC;QAC1E,IAAI,CAAC,YAAY,WAAW,GAAG;YAC3B,WAAW,AAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,yBAAyB,OAAM,KAAM;QAC/E;QACA,OAAO;YACH;YACA,gBAAgB,AAAC,WAAW,mBAAoB;QACpD;IACJ;IACA,mBAAmB;QACf,MAAM,EAAE,cAAc,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC,cAAc;QACxD,MAAM,aAAa,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,mCAAmC;QAChF,MAAM,iBAAiB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,yBAAyB;QAC1E,MAAM,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,mBAAmB;QAClD,MAAM,WAAW,CAAC,sCAAsC,AAAC,GAAiB,OAAf,gBAAe;QAC1E,MAAM,WAAW,CAAC,oCAAoC,AAAC,GAAW,OAAT,UAAS;QAClE,MAAM,WAAW,CAAC,+CAA+C,eAAe,mBAAmB;QACnG,IAAI,YAAY;YACZ,MAAM,WAAW,CAAC,sCAAsC;YACxD,MAAM,WAAW,CAAC,6CAA6C,6PAAA,CAAA,uBAAoB,CAAC,UAAU;QAClG;QACA,EAAE;QACF,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;YACzB,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAE;gBAC7B,KAAK,YAAY,CAAC,gBAAgB;YACtC;QACJ;IACJ;IACA,gBAAgB;YACZ,gCAEA,iCAIA;SANA,iCAAA,IAAI,CAAC,wBAAwB,cAA7B,qDAAA,+BAA+B,MAAM;QACrC,IAAI,CAAC,wBAAwB,GAAG;SAChC,kCAAA,IAAI,CAAC,yBAAyB,cAA9B,sDAAA,gCAAgC,MAAM;QACtC,IAAI,CAAC,yBAAyB,GAAG;QACjC,IAAI,CAAC,eAAe,CAAC,KAAK;QAC1B,IAAI,CAAC,kBAAkB,CAAC,KAAK;SAC7B,8BAAA,IAAI,CAAC,qBAAqB,cAA1B,kDAAA,4BAA4B,OAAO;IACvC;IACA,iBAAiB;QACb,IAAI,CAAC,aAAa;QAClB,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,IAAI,CAAC,OAAO;YACR;QACJ;QACA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,yBAAyB,QAAO,MAAM,yBAAyB,IAAI;YAC9F;QACJ;QACA,MAAM,eAAe,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;QAC7C,IAAI,cAAc;YACd,IAAI,CAAC,sBAAsB,CAAC;QAChC;QACA,IAAI,CAAC,IAAI,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ;YAC5D,uCAAuC;YACvC,8CAA8C;YAC9C,IAAI,cAAc;gBACd,CAAA,GAAA,yOAAA,CAAA,oBAAiB,AAAD,EAAE;oBACd,MAAM,kBAAkB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC;oBAChD,IAAI,iBAAiB,iBAAiB;wBAClC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;wBAC3B,IAAI,CAAC,cAAc;oBACvB;gBACJ,GAAG,KAAK,MAAM,IAAI,CAAC,eAAe;YACtC;YACA;QACJ;QACA,KAAK,MAAM,YAAY,IAAI,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,GAAG,CAAC,OAAQ;YAC9E,IAAI,OAAO,SAAS,WAAW,KAAK,YAAY;gBAC5C,MAAM,eAAe,SAAS,WAAW,CAAC,IAAM,UAAU,QAAQ;gBAClE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;YAC7B;QACJ;QACA,MAAM,YAAY,IAAI,yOAAA,CAAA,mBAAgB,CAAC;gBAEnC;YADA,MAAM,KAAK,KAAK,GAAG;aACnB,iCAAA,IAAI,CAAC,wBAAwB,cAA7B,qDAAA,+BAA+B,MAAM;YACrC,IAAI,CAAC,wBAAwB,GAAG,CAAA,GAAA,yOAAA,CAAA,0BAAuB,AAAD,EAAE,CAAA,QAAS,CAAA,GAAA,sQAAA,CAAA,mBAAgB,AAAD,EAAE,IAAI,CAAC,wBAAwB,CAAC,gBAAgB,EAAE,OAAO;YACzI,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAA;gBAC/B,IAAI,IAAI,CAAC,qBAAqB,EAAE;oBAC5B,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB;gBAC1D;gBACA,IAAI,CAAC,qBAAqB,GAAG;gBAC7B,gCAAgC;gBAChC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,OAAO;gBAC/B,wBAAwB;gBACxB,MAAM,WAAW,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,OAAO,KAAK,GAAG,KAAK;gBAC1E,UAAU,KAAK,GAAG;gBAClB,gBAAgB;gBAChB,IAAI,CAAC,sBAAsB,CAAC;gBAC5B,+EAA+E;gBAC/E,IAAI,CAAC,gCAAgC;YACzC,GAAG,0OAAA,CAAA,oBAAiB;QACxB,GAAG,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC;QACrC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC;QACzB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA,GAAA,6OAAA,CAAA,eAAY,AAAD,EAAE,IAAM,IAAI,CAAC,2BAA2B,CAAC,MAAM;QACnF,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,uBAAuB,CAAC;gBA4B1D;YA3BA,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;gBAC3B,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;oBACzB,MAAM,YAAY,EAAE;oBACpB,IAAI,qBAAqB,CAAC;oBAC1B,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;wBAClB,IAAI,CAAC,KAAK,OAAO,MAAM,uBAAuB,KAAK,aAAa,IAAI;4BAChE,gEAAgE;4BAChE,yDAAyD;4BACzD,UAAU,IAAI,CAAC;wBACnB,OACK;4BACD,KAAK,MAAM,CAAC;4BACZ,qBAAqB,KAAK,aAAa;wBAC3C;oBACJ;oBACA,MAAM,SAAS,IAAI,4QAAA,CAAA,iBAAc;oBACjC,UAAU,OAAO,CAAC,CAAC;wBACf,EAAE,OAAO,CAAC,QAAQ;wBAClB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI;oBACjD;oBACA,OAAO,MAAM,CAAC;gBAClB;YACJ;YACA,+BAA+B;YAC/B,UAAU,QAAQ;YAClB,6CAA6C;YAC7C,IAAI,CAAC,2BAA2B,CAAC,MAAM;aACvC,kCAAA,IAAI,CAAC,yBAAyB,cAA9B,sDAAA,gCAAgC,MAAM;YACtC,IAAI,CAAC,yBAAyB,GAAG;QACrC;QACA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC;YACvD,UAAU,QAAQ;QACtB;QACA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC;YACtD,UAAU,MAAM;QACpB;QACA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;YACpD,IAAI,EAAE,gBAAgB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,GAAG;gBAC/C,IAAI,CAAC,gCAAgC;YACzC;QACJ;QACA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC;YACpD,IAAI,CAAC,gCAAgC;QACzC;QACA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAA,GAAA,6OAAA,CAAA,eAAY,AAAD,EAAE;YAClC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;gBACzB,MAAM,cAAc,yPAAA,CAAA,0BAAuB,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO;gBAChE,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;oBAC3B,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;wBACzB,IAAI,CAAC,iBAAiB,CAAC,qBAAqB;oBAChD;gBACJ;gBACA,YAAY,OAAO,CAAC,IAAI,CAAC,OAAO;YACpC,OACK;gBACD,yBAAyB;gBACzB,IAAI,CAAC,iBAAiB,CAAC,WAAW;YACtC;QACJ;QACA,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;YAC9C,IAAI,EAAE,MAAM,CAAC,IAAI,KAAK,EAAE,kCAAkC,KAAI;gBAC1D;YACJ;YACA,IAAI,SAAS,EAAE,MAAM,CAAC,OAAO;YAC7B,IAAI,CAAA,mBAAA,6BAAA,OAAQ,OAAO,MAAK,QAAQ;gBAC5B,SAAS,OAAO,aAAa;YACjC;YACA,IAAI,CAAA,mBAAA,6BAAA,OAAQ,OAAO,MAAK,KAAK;gBACzB,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAE;oBAC7B,MAAM,UAAU,KAAK,UAAU,CAAC;oBAChC,IAAI,SAAS;wBACT,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,QAAQ,EAAE,KAAM,QAAQ,SAAS,IAAI,EAAE,EAAG,KAAK,CAAC,CAAA,MAAO,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;wBAC3H;oBACJ;gBACJ;YACJ;QACJ;QACA,UAAU,QAAQ;IACtB;IACA,kBAAkB,iBAAiB,EAAE,sBAAsB,EAAE;QACzD,MAAM,SAAS,IAAI,4QAAA,CAAA,iBAAc;QACjC,KAAK,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAE;YAC7B,KAAK,OAAO,CAAC,QAAQ;QACzB;QACA,IAAI,mBAAmB;YACnB,OAAO,MAAM,CAAC;QAClB;QACA,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG;IAC1B;IACA,uBAAuB,OAAO,EAAE;QAC5B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;YAC1B;QACJ;QACA,MAAM,gBAAgB,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,YAAY;QAC1D,MAAM,SAAS,EAAE;QACjB,IAAI;QACJ,KAAK,MAAM,UAAU,QAAQ,MAAM,CAAE;YACjC,MAAM,OAAO,OAAO,MAAM,CAAC,KAAK,CAAC,eAAe;YAChD,IAAI,OAAO,KAAK,OAAO,eAAe;gBAElC;YACJ,OACK,IAAI,aAAa,SAAS,CAAC,UAAU,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,KAAK,MAAM;gBACzF,2BAA2B;gBAC3B,UAAU,IAAI,CAAC;YACnB,OACK;gBACD,4BAA4B;gBAC5B,YAAY;oBAAC;iBAAO;gBACpB,OAAO,IAAI,CAAC;YAChB;QACJ;QACA,IAAI,CAAC,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACxC,oBAAoB;YACpB;QACJ;QACA,MAAM,cAAc,yPAAA,CAAA,0BAAuB,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO;QAChE,MAAM,aAAa,IAAI,CAAC,cAAc;QACtC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;YAC3B,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,CAAA;gBACzB,MAAM,SAAS,IAAI,4QAAA,CAAA,iBAAc;gBACjC,IAAI,gBAAgB;gBACpB,IAAI,cAAc;gBAClB,MAAO,cAAc,OAAO,MAAM,IAAI,gBAAgB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE;oBACvE,MAAM,oBAAoB,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe;oBAC7E,MAAM,qBAAqB,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,aAAa;oBACpE,IAAI,qBAAqB,mBAAmB;wBACxC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ;wBAC5C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe;oBACvC,OACK,IAAI,uBAAuB,mBAAmB;wBAC/C,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,qBAAqB,CAAC,MAAM,CAAC,YAAY,EAAE;wBACvE;wBACA;oBACJ,OACK;wBACD,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,GAAG,IAAI,4QAAA,CAAA,iBAAc,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,kBAAkB,WAAW,cAAc,EAAE,IAAM,IAAI,CAAC,gCAAgC;wBAC5L;wBACA;oBACJ;gBACJ;gBACA,2BAA2B;gBAC3B,MAAO,gBAAgB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAE;oBACxC,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ;oBAC5C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe;gBACvC;gBACA,uBAAuB;gBACvB,MAAO,cAAc,OAAO,MAAM,CAAE;oBAChC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,4QAAA,CAAA,iBAAc,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,QAAQ,kBAAkB,WAAW,cAAc,EAAE,IAAM,IAAI,CAAC,gCAAgC;oBACxK;gBACJ;gBACA,OAAO,MAAM,CAAC;YAClB;QACJ;QACA,YAAY,OAAO,CAAC,IAAI,CAAC,OAAO;IACpC;IACA,mCAAmC;QAC/B,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,IAAI,OAAO;YACP,IAAI,CAAC,2BAA2B,CAAC,QAAQ;QAC7C;IACJ;IACA,+BAA+B;YAC3B;SAAA,kCAAA,IAAI,CAAC,yBAAyB,cAA9B,sDAAA,gCAAgC,MAAM;QACtC,IAAI,CAAC,yBAAyB,GAAG;QACjC,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,IAAI,CAAC,OAAO;YACR;QACJ;QACA,MAAM,YAAY,EAAE;QACpB,MAAM,SAAS,EAAE;QACjB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YAClB,MAAM,UAAU,KAAK,kBAAkB,CAAC;YACxC,IAAI,SAAS;gBACT,UAAU,IAAI,CAAC;gBACf,OAAO,IAAI,CAAC;YAChB;QACJ;QACA,IAAI,UAAU,MAAM,KAAK,GAAG;YACxB;QACJ;QACA,MAAM,KAAK,KAAK,GAAG;QACnB,MAAM,iBAAiB,CAAA,GAAA,yOAAA,CAAA,0BAAuB,AAAD,EAAE,CAAA;YAC3C,MAAM,WAAW,UAAU,GAAG,CAAC,CAAC,SAAS;gBACrC,MAAM,kBAAkB,IAAI,MAAM,QAAQ,MAAM;gBAChD,MAAM,WAAW,QAAQ,GAAG,CAAC,CAAC,SAAS;oBACnC,IAAI,CAAC,QAAQ,MAAM,CAAC,OAAO,IAAI,OAAO,QAAQ,QAAQ,CAAC,eAAe,KAAK,YAAY;wBACnF,OAAO,QAAQ,OAAO,CAAC,QAAQ,QAAQ,CAAC,eAAe,CAAC,OAAO,QAAQ,MAAM,EAAE,QAAQ,IAAI,CAAC,CAAA;4BACxF,eAAe,CAAC,EAAE,GAAG;wBACzB,GAAG,0OAAA,CAAA,4BAAyB;oBAChC,OACK;wBACD,eAAe,CAAC,EAAE,GAAG,QAAQ,MAAM;wBACnC,OAAO,QAAQ,OAAO,CAAC;oBAC3B;gBACJ;gBACA,OAAO,QAAQ,GAAG,CAAC,UAAU,IAAI,CAAC;oBAC9B,IAAI,CAAC,MAAM,uBAAuB,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,UAAU,IAAI;wBAC3D,MAAM,CAAC,EAAE,CAAC,cAAc,CAAC;oBAC7B;gBACJ;YACJ;YACA,OAAO,QAAQ,GAAG,CAAC;QACvB;QACA,IAAI,CAAC,yBAAyB,GAAG;QACjC,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC;YAChC,wBAAwB;YACxB,MAAM,WAAW,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,OAAO,KAAK,GAAG,KAAK;YAC5E,IAAI,CAAC,2BAA2B,CAAC,KAAK,GAAG;YACzC,IAAI,IAAI,CAAC,qBAAqB,EAAE;gBAC5B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,OAAO,IAAI,CAAC,qBAAqB;YAC7D;YACA,IAAI,CAAC,kBAAkB,CAAC,KAAK,IAAI,wEAAwE;YACzG,IAAI,mBAAmB,IAAI,CAAC,yBAAyB,EAAE;gBACnD,IAAI,CAAC,yBAAyB,GAAG;YACrC;QACJ,GAAG,CAAA;YACC,CAAA,GAAA,0OAAA,CAAA,oBAAiB,AAAD,EAAE,MAAM,4BAA4B;YACpD,IAAI,mBAAmB,IAAI,CAAC,yBAAyB,EAAE;gBACnD,IAAI,CAAC,yBAAyB,GAAG;YACrC;QACJ;IACJ;IACA,MAAM,WAAW;YAGL;QAFR,MAAM,IAAI,CAAC,wBAAwB;QACnC,MAAM,IAAI,CAAC,yBAAyB;QACpC,OAAO,GAAC,8BAAA,IAAI,CAAC,qBAAqB,cAA1B,kDAAA,4BAA4B,UAAU,IACxC,IAAI,CAAC,qBAAqB,GAC1B;IACV;IArWA,YAAY,OAAO,EAAE,wBAAwB,EAAE,eAAe,EAAE,eAAe,EAAE,oBAAoB,EAAE,cAAc,CAAE;QACnH,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,wBAAwB,GAAG;QAChC,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,oBAAoB,GAAG;QAC5B,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,YAAY,GAAG,IAAI,6OAAA,CAAA,kBAAe;QACvC,IAAI,CAAC,eAAe,GAAG,IAAI,6OAAA,CAAA,kBAAe;QAC1C,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,kBAAkB,GAAG,IAAI,6OAAA,CAAA,kBAAe;QAC7C,IAAI,CAAC,wBAAwB,GAAG,gBAAgB,GAAG,CAAC,yBAAyB,gBAAgB,EAAE,mBAAmB;YAAE,KAAK;QAAI;QAC7H,IAAI,CAAC,0BAA0B,GAAG,gBAAgB,GAAG,CAAC,yBAAyB,gBAAgB,EAAE,mBAAmB;YAAE,KAAK;YAAK,MAAM;QAAU;QAChJ,IAAI,CAAC,2BAA2B,GAAG,IAAI,yOAAA,CAAA,mBAAgB,CAAC,IAAM,IAAI,CAAC,4BAA4B,IAAI,IAAI,CAAC,0BAA0B,CAAC,OAAO;QAC1I,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAM,IAAI,CAAC,cAAc;QAC7E,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAM,IAAI,CAAC,cAAc;QACrF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAC;YACzD,IAAI,EAAE,UAAU,CAAC,GAAG,yBAAyB,QAAO,EAAE,UAAU,CAAC,GAAG,iCAAiC,QAAO,EAAE,UAAU,CAAC,GAAG,mCAAmC,MAAK;gBAChK,IAAI,CAAC,gBAAgB;YACzB;YACA,IAAI,EAAE,UAAU,CAAC,GAAG,yBAAyB,MAAK;gBAC9C,IAAI,CAAC,cAAc;YACvB;QACJ;QACA,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,yBAAyB,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI;QACrG,IAAI,CAAC,cAAc;QACnB,IAAI,CAAC,gBAAgB;IACzB;AA4UJ,GAvWa,sBAAK,EAAE,GAAG;AAwWvB,uBAAuB,WAAW;IAC9B,QAAQ,GAAG,kQAAA,CAAA,2BAAwB;IACnC,QAAQ,GAAG,yQAAA,CAAA,kCAA+B;IAC1C,QAAQ,GAAG,4PAAA,CAAA,kBAAe;IAC1B,QAAQ,GAAG,oQAAA,CAAA,uBAAoB;IAC/B,QAAQ,GAAG,2QAAA,CAAA,iBAAc;CAC5B,EAAE;;AAEH,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,qBAAqB,EAAE,EAAE,sBAAsB,EAAE,oDAAoD;AAChI,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE,MAAM,gCAAgC,uPAAA,CAAA,eAAY;IASnE,MAAM,IAAI,QAAQ,EAAE,MAAM,EAAE;QACxB,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB;QACJ;QACA,MAAM,oBAAoB,SAAS,GAAG,CAAC,gQAAA,CAAA,qBAAkB;QACzD,MAAM,iBAAiB,SAAS,GAAG,CAAC,4PAAA,CAAA,kBAAe;QACnD,MAAM,sBAAsB,SAAS,GAAG,CAAC,oQAAA,CAAA,uBAAoB;QAC7D,MAAM,aAAa,OAAO,YAAY,GAAG,kBAAkB;QAC3D,MAAM,qBAAqB,OAAO,eAAe,CAAC,qBAAqB,EAAE;QACzE,IAAI,CAAC,oBAAoB;YACrB;QACJ;QACA,MAAM,QAAQ,MAAM,mBAAmB,QAAQ;QAC/C,IAAI,CAAC,OAAO;YACR,UAAU;YACV;QACJ;QACA,MAAM,QAAQ,EAAE;QAChB,KAAK,MAAM,QAAQ,MAAM,MAAM,CAAE;YAC7B,IAAI,KAAK,MAAM,CAAC,OAAO,IAAI,KAAK,MAAM,CAAC,KAAK,CAAC,eAAe,KAAK,YAAY;gBACzE,MAAM,IAAI,CAAC;oBACP,OAAO,KAAK,MAAM,CAAC,OAAO,CAAC,KAAK;oBAChC,SAAS,KAAK,MAAM,CAAC,OAAO;gBAChC;YACJ;QACJ;QACA,IAAI,MAAM,MAAM,KAAK,GAAG;YACpB,+BAA+B;YAC/B;QACJ;QACA,MAAM,OAAO,MAAM,kBAAkB,IAAI,CAAC,OAAO;YAC7C,aAAa;YACb,aAAa,CAAA,GAAA,qOAAA,CAAA,WAAQ,AAAD,EAAE,eAAe;QACzC;QACA,IAAI,CAAC,MAAM;YACP,iBAAiB;YACjB;QACJ;QACA,IAAI,UAAU,KAAK,OAAO;QAC1B,IAAI,MAAM,UAAU,EAAE;YAClB,2FAA2F;YAC3F,2FAA2F;YAC3F,+CAA+C;YAC/C,MAAM,WAAW,MAAM,mBAAmB,QAAQ;YAClD,MAAM,UAAU,qBAAA,+BAAA,SAAU,MAAM,CAAC,IAAI,CAAC,CAAA;oBAA4D;uBAApD,KAAK,MAAM,CAAC,KAAK,CAAC,eAAe,KAAK,cAAc,EAAA,uBAAA,KAAK,MAAM,CAAC,OAAO,cAAnB,2CAAA,qBAAqB,KAAK,MAAK,QAAQ,KAAK;;YAC9I,IAAI,CAAC,WAAW,CAAC,QAAQ,MAAM,CAAC,OAAO,EAAE;gBACrC;YACJ;YACA,UAAU,QAAQ,MAAM,CAAC,OAAO;QACpC;QACA,IAAI;YACA,MAAM,eAAe,cAAc,CAAC,QAAQ,EAAE,KAAM,QAAQ,SAAS,IAAI,EAAE;QAC/E,EACA,OAAO,KAAK;YACR,oBAAoB,KAAK,CAAC;QAC9B;IACJ;IAhEA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,cAAc,uPAAA,CAAA,oBAAiB,CAAC,mBAAmB;YACnD,OAAO,CAAA,GAAA,qOAAA,CAAA,WAAQ,AAAD,EAAE,kBAAkB;YAClC,OAAO;QACX;IACJ;AA0DJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3589, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/zoneWidget/browser/zoneWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { Sash } from '../../../../base/browser/ui/sash/sash.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { IdGenerator } from '../../../../base/common/idGenerator.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './zoneWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nconst defaultColor = new Color(new RGBA(0, 122, 204));\nconst defaultOptions = {\n    showArrow: true,\n    showFrame: true,\n    className: '',\n    frameColor: defaultColor,\n    arrowColor: defaultColor,\n    keepEditorSelection: false\n};\nconst WIDGET_ID = 'vs.editor.contrib.zoneWidget';\nclass ViewZoneDelegate {\n    constructor(domNode, afterLineNumber, afterColumn, heightInLines, onDomNodeTop, onComputedHeight, showInHiddenAreas, ordinal) {\n        this.id = ''; // A valid zone id should be greater than 0\n        this.domNode = domNode;\n        this.afterLineNumber = afterLineNumber;\n        this.afterColumn = afterColumn;\n        this.heightInLines = heightInLines;\n        this.showInHiddenAreas = showInHiddenAreas;\n        this.ordinal = ordinal;\n        this._onDomNodeTop = onDomNodeTop;\n        this._onComputedHeight = onComputedHeight;\n    }\n    onDomNodeTop(top) {\n        this._onDomNodeTop(top);\n    }\n    onComputedHeight(height) {\n        this._onComputedHeight(height);\n    }\n}\nexport class OverlayWidgetDelegate {\n    constructor(id, domNode) {\n        this._id = id;\n        this._domNode = domNode;\n    }\n    getId() {\n        return this._id;\n    }\n    getDomNode() {\n        return this._domNode;\n    }\n    getPosition() {\n        return null;\n    }\n}\nclass Arrow {\n    static { this._IdGenerator = new IdGenerator('.arrow-decoration-'); }\n    constructor(_editor) {\n        this._editor = _editor;\n        this._ruleName = Arrow._IdGenerator.nextId();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._color = null;\n        this._height = -1;\n    }\n    dispose() {\n        this.hide();\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n    }\n    set color(value) {\n        if (this._color !== value) {\n            this._color = value;\n            this._updateStyle();\n        }\n    }\n    set height(value) {\n        if (this._height !== value) {\n            this._height = value;\n            this._updateStyle();\n        }\n    }\n    _updateStyle() {\n        dom.removeCSSRulesContainingSelector(this._ruleName);\n        dom.createCSSRule(`.monaco-editor ${this._ruleName}`, `border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `);\n    }\n    show(where) {\n        if (where.column === 1) {\n            // the arrow isn't pretty at column 1 and we need to push it out a little\n            where = { lineNumber: where.lineNumber, column: 2 };\n        }\n        this._decorations.set([{\n                range: Range.fromPositions(where),\n                options: {\n                    description: 'zone-widget-arrow',\n                    className: this._ruleName,\n                    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */\n                }\n            }]);\n    }\n    hide() {\n        this._decorations.clear();\n    }\n}\nexport class ZoneWidget {\n    constructor(editor, options = {}) {\n        this._arrow = null;\n        this._overlayWidget = null;\n        this._resizeSash = null;\n        this._viewZone = null;\n        this._disposables = new DisposableStore();\n        this.container = null;\n        this._isShowing = false;\n        this.editor = editor;\n        this._positionMarkerId = this.editor.createDecorationsCollection();\n        this.options = objects.deepClone(options);\n        objects.mixin(this.options, defaultOptions, false);\n        this.domNode = document.createElement('div');\n        if (!this.options.isAccessible) {\n            this.domNode.setAttribute('aria-hidden', 'true');\n            this.domNode.setAttribute('role', 'presentation');\n        }\n        this._disposables.add(this.editor.onDidLayoutChange((info) => {\n            const width = this._getWidth(info);\n            this.domNode.style.width = width + 'px';\n            this.domNode.style.left = this._getLeft(info) + 'px';\n            this._onWidth(width);\n        }));\n    }\n    dispose() {\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n                this._viewZone = null;\n            });\n        }\n        this._positionMarkerId.clear();\n        this._disposables.dispose();\n    }\n    create() {\n        this.domNode.classList.add('zone-widget');\n        if (this.options.className) {\n            this.domNode.classList.add(this.options.className);\n        }\n        this.container = document.createElement('div');\n        this.container.classList.add('zone-widget-container');\n        this.domNode.appendChild(this.container);\n        if (this.options.showArrow) {\n            this._arrow = new Arrow(this.editor);\n            this._disposables.add(this._arrow);\n        }\n        this._fillContainer(this.container);\n        this._initSash();\n        this._applyStyles();\n    }\n    style(styles) {\n        if (styles.frameColor) {\n            this.options.frameColor = styles.frameColor;\n        }\n        if (styles.arrowColor) {\n            this.options.arrowColor = styles.arrowColor;\n        }\n        this._applyStyles();\n    }\n    _applyStyles() {\n        if (this.container && this.options.frameColor) {\n            const frameColor = this.options.frameColor.toString();\n            this.container.style.borderTopColor = frameColor;\n            this.container.style.borderBottomColor = frameColor;\n        }\n        if (this._arrow && this.options.arrowColor) {\n            const arrowColor = this.options.arrowColor.toString();\n            this._arrow.color = arrowColor;\n        }\n    }\n    _getWidth(info) {\n        return info.width - info.minimap.minimapWidth - info.verticalScrollbarWidth;\n    }\n    _getLeft(info) {\n        // If minimap is to the left, we move beyond it\n        if (info.minimap.minimapWidth > 0 && info.minimap.minimapLeft === 0) {\n            return info.minimap.minimapWidth;\n        }\n        return 0;\n    }\n    _onViewZoneTop(top) {\n        this.domNode.style.top = top + 'px';\n    }\n    _onViewZoneHeight(height) {\n        this.domNode.style.height = `${height}px`;\n        if (this.container) {\n            const containerHeight = height - this._decoratingElementsHeight();\n            this.container.style.height = `${containerHeight}px`;\n            const layoutInfo = this.editor.getLayoutInfo();\n            this._doLayout(containerHeight, this._getWidth(layoutInfo));\n        }\n        this._resizeSash?.layout();\n    }\n    get position() {\n        const range = this._positionMarkerId.getRange(0);\n        if (!range) {\n            return undefined;\n        }\n        return range.getStartPosition();\n    }\n    show(rangeOrPos, heightInLines) {\n        const range = Range.isIRange(rangeOrPos) ? Range.lift(rangeOrPos) : Range.fromPositions(rangeOrPos);\n        this._isShowing = true;\n        this._showImpl(range, heightInLines);\n        this._isShowing = false;\n        this._positionMarkerId.set([{ range, options: ModelDecorationOptions.EMPTY }]);\n    }\n    hide() {\n        if (this._viewZone) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    accessor.removeZone(this._viewZone.id);\n                }\n            });\n            this._viewZone = null;\n        }\n        if (this._overlayWidget) {\n            this.editor.removeOverlayWidget(this._overlayWidget);\n            this._overlayWidget = null;\n        }\n        this._arrow?.hide();\n        this._positionMarkerId.clear();\n    }\n    _decoratingElementsHeight() {\n        const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n        let result = 0;\n        if (this.options.showArrow) {\n            const arrowHeight = Math.round(lineHeight / 3);\n            result += 2 * arrowHeight;\n        }\n        if (this.options.showFrame) {\n            const frameThickness = Math.round(lineHeight / 9);\n            result += 2 * frameThickness;\n        }\n        return result;\n    }\n    _showImpl(where, heightInLines) {\n        const position = where.getStartPosition();\n        const layoutInfo = this.editor.getLayoutInfo();\n        const width = this._getWidth(layoutInfo);\n        this.domNode.style.width = `${width}px`;\n        this.domNode.style.left = this._getLeft(layoutInfo) + 'px';\n        // Render the widget as zone (rendering) and widget (lifecycle)\n        const viewZoneDomNode = document.createElement('div');\n        viewZoneDomNode.style.overflow = 'hidden';\n        const lineHeight = this.editor.getOption(67 /* EditorOption.lineHeight */);\n        // adjust heightInLines to viewport\n        if (!this.options.allowUnlimitedHeight) {\n            const maxHeightInLines = Math.max(12, (this.editor.getLayoutInfo().height / lineHeight) * 0.8);\n            heightInLines = Math.min(heightInLines, maxHeightInLines);\n        }\n        let arrowHeight = 0;\n        let frameThickness = 0;\n        // Render the arrow one 1/3 of an editor line height\n        if (this._arrow && this.options.showArrow) {\n            arrowHeight = Math.round(lineHeight / 3);\n            this._arrow.height = arrowHeight;\n            this._arrow.show(position);\n        }\n        // Render the frame as 1/9 of an editor line height\n        if (this.options.showFrame) {\n            frameThickness = Math.round(lineHeight / 9);\n        }\n        // insert zone widget\n        this.editor.changeViewZones((accessor) => {\n            if (this._viewZone) {\n                accessor.removeZone(this._viewZone.id);\n            }\n            if (this._overlayWidget) {\n                this.editor.removeOverlayWidget(this._overlayWidget);\n                this._overlayWidget = null;\n            }\n            this.domNode.style.top = '-1000px';\n            this._viewZone = new ViewZoneDelegate(viewZoneDomNode, position.lineNumber, position.column, heightInLines, (top) => this._onViewZoneTop(top), (height) => this._onViewZoneHeight(height), this.options.showInHiddenAreas, this.options.ordinal);\n            this._viewZone.id = accessor.addZone(this._viewZone);\n            this._overlayWidget = new OverlayWidgetDelegate(WIDGET_ID + this._viewZone.id, this.domNode);\n            this.editor.addOverlayWidget(this._overlayWidget);\n        });\n        if (this.container && this.options.showFrame) {\n            const width = this.options.frameWidth ? this.options.frameWidth : frameThickness;\n            this.container.style.borderTopWidth = width + 'px';\n            this.container.style.borderBottomWidth = width + 'px';\n        }\n        const containerHeight = heightInLines * lineHeight - this._decoratingElementsHeight();\n        if (this.container) {\n            this.container.style.top = arrowHeight + 'px';\n            this.container.style.height = containerHeight + 'px';\n            this.container.style.overflow = 'hidden';\n        }\n        this._doLayout(containerHeight, width);\n        if (!this.options.keepEditorSelection) {\n            this.editor.setSelection(where);\n        }\n        const model = this.editor.getModel();\n        if (model) {\n            const range = model.validateRange(new Range(where.startLineNumber, 1, where.endLineNumber + 1, 1));\n            this.revealRange(range, range.startLineNumber === model.getLineCount());\n        }\n    }\n    revealRange(range, isLastLine) {\n        if (isLastLine) {\n            this.editor.revealLineNearTop(range.endLineNumber, 0 /* ScrollType.Smooth */);\n        }\n        else {\n            this.editor.revealRange(range, 0 /* ScrollType.Smooth */);\n        }\n    }\n    setCssClass(className, classToReplace) {\n        if (!this.container) {\n            return;\n        }\n        if (classToReplace) {\n            this.container.classList.remove(classToReplace);\n        }\n        this.container.classList.add(className);\n    }\n    _onWidth(widthInPixel) {\n        // implement in subclass\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        // implement in subclass\n    }\n    _relayout(newHeightInLines) {\n        if (this._viewZone && this._viewZone.heightInLines !== newHeightInLines) {\n            this.editor.changeViewZones(accessor => {\n                if (this._viewZone) {\n                    this._viewZone.heightInLines = newHeightInLines;\n                    accessor.layoutZone(this._viewZone.id);\n                }\n            });\n        }\n    }\n    // --- sash\n    _initSash() {\n        if (this._resizeSash) {\n            return;\n        }\n        this._resizeSash = this._disposables.add(new Sash(this.domNode, this, { orientation: 1 /* Orientation.HORIZONTAL */ }));\n        if (!this.options.isResizeable) {\n            this._resizeSash.state = 0 /* SashState.Disabled */;\n        }\n        let data;\n        this._disposables.add(this._resizeSash.onDidStart((e) => {\n            if (this._viewZone) {\n                data = {\n                    startY: e.startY,\n                    heightInLines: this._viewZone.heightInLines,\n                };\n            }\n        }));\n        this._disposables.add(this._resizeSash.onDidEnd(() => {\n            data = undefined;\n        }));\n        this._disposables.add(this._resizeSash.onDidChange((evt) => {\n            if (data) {\n                const lineDelta = (evt.currentY - data.startY) / this.editor.getOption(67 /* EditorOption.lineHeight */);\n                const roundedLineDelta = lineDelta < 0 ? Math.ceil(lineDelta) : Math.floor(lineDelta);\n                const newHeightInLines = data.heightInLines + roundedLineDelta;\n                if (newHeightInLines > 5 && newHeightInLines < 35) {\n                    this._relayout(newHeightInLines);\n                }\n            }\n        }));\n    }\n    getHorizontalSashLeft() {\n        return 0;\n    }\n    getHorizontalSashTop() {\n        return (this.domNode.style.height === null ? 0 : parseInt(this.domNode.style.height)) - (this._decoratingElementsHeight() / 2);\n    }\n    getHorizontalSashWidth() {\n        const layoutInfo = this.editor.getLayoutInfo();\n        return layoutInfo.width - layoutInfo.minimap.minimapWidth;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4003, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/peekView/browser/peekView.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport * as objects from '../../../../base/common/objects.js';\nimport './media/peekViewWidget.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { ZoneWidget } from '../../zoneWidget/browser/zoneWidget.js';\nimport * as nls from '../../../../nls.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator, IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { activeContrastBorder, contrastBorder, editorForeground, editorInfoForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nexport const IPeekViewService = createDecorator('IPeekViewService');\nregisterSingleton(IPeekViewService, class {\n    constructor() {\n        this._widgets = new Map();\n    }\n    addExclusiveWidget(editor, widget) {\n        const existing = this._widgets.get(editor);\n        if (existing) {\n            existing.listener.dispose();\n            existing.widget.dispose();\n        }\n        const remove = () => {\n            const data = this._widgets.get(editor);\n            if (data && data.widget === widget) {\n                data.listener.dispose();\n                this._widgets.delete(editor);\n            }\n        };\n        this._widgets.set(editor, { widget, listener: widget.onDidClose(remove) });\n    }\n}, 1 /* InstantiationType.Delayed */);\nexport var PeekContext;\n(function (PeekContext) {\n    PeekContext.inPeekEditor = new RawContextKey('inReferenceSearchEditor', true, nls.localize('inReferenceSearchEditor', \"Whether the current code editor is embedded inside peek\"));\n    PeekContext.notInPeekEditor = PeekContext.inPeekEditor.toNegated();\n})(PeekContext || (PeekContext = {}));\nlet PeekContextController = class PeekContextController {\n    static { this.ID = 'editor.contrib.referenceController'; }\n    constructor(editor, contextKeyService) {\n        if (editor instanceof EmbeddedCodeEditorWidget) {\n            PeekContext.inPeekEditor.bindTo(contextKeyService);\n        }\n    }\n    dispose() { }\n};\nPeekContextController = __decorate([\n    __param(1, IContextKeyService)\n], PeekContextController);\nregisterEditorContribution(PeekContextController.ID, PeekContextController, 0 /* EditorContributionInstantiation.Eager */); // eager because it needs to define a context key\nexport function getOuterEditor(accessor) {\n    const editor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n    if (editor instanceof EmbeddedCodeEditorWidget) {\n        return editor.getParentEditor();\n    }\n    return editor;\n}\nconst defaultOptions = {\n    headerBackgroundColor: Color.white,\n    primaryHeadingColor: Color.fromHex('#333333'),\n    secondaryHeadingColor: Color.fromHex('#6c6c6cb3')\n};\nlet PeekViewWidget = class PeekViewWidget extends ZoneWidget {\n    constructor(editor, options, instantiationService) {\n        super(editor, options);\n        this.instantiationService = instantiationService;\n        this._onDidClose = new Emitter();\n        this.onDidClose = this._onDidClose.event;\n        objects.mixin(this.options, defaultOptions, false);\n    }\n    dispose() {\n        if (!this.disposed) {\n            this.disposed = true; // prevent consumers who dispose on onDidClose from looping\n            super.dispose();\n            this._onDidClose.fire(this);\n        }\n    }\n    style(styles) {\n        const options = this.options;\n        if (styles.headerBackgroundColor) {\n            options.headerBackgroundColor = styles.headerBackgroundColor;\n        }\n        if (styles.primaryHeadingColor) {\n            options.primaryHeadingColor = styles.primaryHeadingColor;\n        }\n        if (styles.secondaryHeadingColor) {\n            options.secondaryHeadingColor = styles.secondaryHeadingColor;\n        }\n        super.style(styles);\n    }\n    _applyStyles() {\n        super._applyStyles();\n        const options = this.options;\n        if (this._headElement && options.headerBackgroundColor) {\n            this._headElement.style.backgroundColor = options.headerBackgroundColor.toString();\n        }\n        if (this._primaryHeading && options.primaryHeadingColor) {\n            this._primaryHeading.style.color = options.primaryHeadingColor.toString();\n        }\n        if (this._secondaryHeading && options.secondaryHeadingColor) {\n            this._secondaryHeading.style.color = options.secondaryHeadingColor.toString();\n        }\n        if (this._bodyElement && options.frameColor) {\n            this._bodyElement.style.borderColor = options.frameColor.toString();\n        }\n    }\n    _fillContainer(container) {\n        this.setCssClass('peekview-widget');\n        this._headElement = dom.$('.head');\n        this._bodyElement = dom.$('.body');\n        this._fillHead(this._headElement);\n        this._fillBody(this._bodyElement);\n        container.appendChild(this._headElement);\n        container.appendChild(this._bodyElement);\n    }\n    _fillHead(container, noCloseAction) {\n        this._titleElement = dom.$('.peekview-title');\n        if (this.options.supportOnTitleClick) {\n            this._titleElement.classList.add('clickable');\n            dom.addStandardDisposableListener(this._titleElement, 'click', event => this._onTitleClick(event));\n        }\n        dom.append(this._headElement, this._titleElement);\n        this._fillTitleIcon(this._titleElement);\n        this._primaryHeading = dom.$('span.filename');\n        this._secondaryHeading = dom.$('span.dirname');\n        this._metaHeading = dom.$('span.meta');\n        dom.append(this._titleElement, this._primaryHeading, this._secondaryHeading, this._metaHeading);\n        const actionsContainer = dom.$('.peekview-actions');\n        dom.append(this._headElement, actionsContainer);\n        const actionBarOptions = this._getActionBarOptions();\n        this._actionbarWidget = new ActionBar(actionsContainer, actionBarOptions);\n        this._disposables.add(this._actionbarWidget);\n        if (!noCloseAction) {\n            this._actionbarWidget.push(new Action('peekview.close', nls.localize('label.close', \"Close\"), ThemeIcon.asClassName(Codicon.close), true, () => {\n                this.dispose();\n                return Promise.resolve();\n            }), { label: false, icon: true });\n        }\n    }\n    _fillTitleIcon(container) {\n    }\n    _getActionBarOptions() {\n        return {\n            actionViewItemProvider: createActionViewItem.bind(undefined, this.instantiationService),\n            orientation: 0 /* ActionsOrientation.HORIZONTAL */\n        };\n    }\n    _onTitleClick(event) {\n        // implement me if supportOnTitleClick option is set\n    }\n    setTitle(primaryHeading, secondaryHeading) {\n        if (this._primaryHeading && this._secondaryHeading) {\n            this._primaryHeading.innerText = primaryHeading;\n            this._primaryHeading.setAttribute('title', primaryHeading);\n            if (secondaryHeading) {\n                this._secondaryHeading.innerText = secondaryHeading;\n            }\n            else {\n                dom.clearNode(this._secondaryHeading);\n            }\n        }\n    }\n    setMetaTitle(value) {\n        if (this._metaHeading) {\n            if (value) {\n                this._metaHeading.innerText = value;\n                dom.show(this._metaHeading);\n            }\n            else {\n                dom.hide(this._metaHeading);\n            }\n        }\n    }\n    _doLayout(heightInPixel, widthInPixel) {\n        if (!this._isShowing && heightInPixel < 0) {\n            // Looks like the view zone got folded away!\n            this.dispose();\n            return;\n        }\n        const headHeight = Math.ceil(this.editor.getOption(67 /* EditorOption.lineHeight */) * 1.2);\n        const bodyHeight = Math.round(heightInPixel - (headHeight + 2 /* the border-top/bottom width*/));\n        this._doLayoutHead(headHeight, widthInPixel);\n        this._doLayoutBody(bodyHeight, widthInPixel);\n    }\n    _doLayoutHead(heightInPixel, widthInPixel) {\n        if (this._headElement) {\n            this._headElement.style.height = `${heightInPixel}px`;\n            this._headElement.style.lineHeight = this._headElement.style.height;\n        }\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        if (this._bodyElement) {\n            this._bodyElement.style.height = `${heightInPixel}px`;\n        }\n    }\n};\nPeekViewWidget = __decorate([\n    __param(2, IInstantiationService)\n], PeekViewWidget);\nexport { PeekViewWidget };\nexport const peekViewTitleBackground = registerColor('peekViewTitle.background', { dark: '#252526', light: '#F3F3F3', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewTitleBackground', 'Background color of the peek view title area.'));\nexport const peekViewTitleForeground = registerColor('peekViewTitleLabel.foreground', { dark: Color.white, light: Color.black, hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewTitleForeground', 'Color of the peek view title.'));\nexport const peekViewTitleInfoForeground = registerColor('peekViewTitleDescription.foreground', { dark: '#ccccccb3', light: '#616161', hcDark: '#FFFFFF99', hcLight: '#292929' }, nls.localize('peekViewTitleInfoForeground', 'Color of the peek view title info.'));\nexport const peekViewBorder = registerColor('peekView.border', { dark: editorInfoForeground, light: editorInfoForeground, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('peekViewBorder', 'Color of the peek view borders and arrow.'));\nexport const peekViewResultsBackground = registerColor('peekViewResult.background', { dark: '#252526', light: '#F3F3F3', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewResultsBackground', 'Background color of the peek view result list.'));\nexport const peekViewResultsMatchForeground = registerColor('peekViewResult.lineForeground', { dark: '#bbbbbb', light: '#646465', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsMatchForeground', 'Foreground color for line nodes in the peek view result list.'));\nexport const peekViewResultsFileForeground = registerColor('peekViewResult.fileForeground', { dark: Color.white, light: '#1E1E1E', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsFileForeground', 'Foreground color for file nodes in the peek view result list.'));\nexport const peekViewResultsSelectionBackground = registerColor('peekViewResult.selectionBackground', { dark: '#3399ff33', light: '#3399ff33', hcDark: null, hcLight: null }, nls.localize('peekViewResultsSelectionBackground', 'Background color of the selected entry in the peek view result list.'));\nexport const peekViewResultsSelectionForeground = registerColor('peekViewResult.selectionForeground', { dark: Color.white, light: '#6C6C6C', hcDark: Color.white, hcLight: editorForeground }, nls.localize('peekViewResultsSelectionForeground', 'Foreground color of the selected entry in the peek view result list.'));\nexport const peekViewEditorBackground = registerColor('peekViewEditor.background', { dark: '#001F33', light: '#F2F8FC', hcDark: Color.black, hcLight: Color.white }, nls.localize('peekViewEditorBackground', 'Background color of the peek view editor.'));\nexport const peekViewEditorGutterBackground = registerColor('peekViewEditorGutter.background', peekViewEditorBackground, nls.localize('peekViewEditorGutterBackground', 'Background color of the gutter in the peek view editor.'));\nexport const peekViewEditorStickyScrollBackground = registerColor('peekViewEditorStickyScroll.background', peekViewEditorBackground, nls.localize('peekViewEditorStickScrollBackground', 'Background color of sticky scroll in the peek view editor.'));\nexport const peekViewResultsMatchHighlight = registerColor('peekViewResult.matchHighlightBackground', { dark: '#ea5c004d', light: '#ea5c004d', hcDark: null, hcLight: null }, nls.localize('peekViewResultsMatchHighlight', 'Match highlight color in the peek view result list.'));\nexport const peekViewEditorMatchHighlight = registerColor('peekViewEditor.matchHighlightBackground', { dark: '#ff8f0099', light: '#f5d802de', hcDark: null, hcLight: null }, nls.localize('peekViewEditorMatchHighlight', 'Match highlight color in the peek view editor.'));\nexport const peekViewEditorMatchHighlightBorder = registerColor('peekViewEditor.matchHighlightBorder', { dark: null, light: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('peekViewEditorMatchHighlightBorder', 'Match highlight border in the peek view editor.'));\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4355, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/comment/browser/blockCommentCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nexport class BlockCommentCommand {\n    constructor(selection, insertSpace, languageConfigurationService) {\n        this.languageConfigurationService = languageConfigurationService;\n        this._selection = selection;\n        this._insertSpace = insertSpace;\n        this._usedEndToken = null;\n    }\n    static _haystackHasNeedleAtOffset(haystack, needle, offset) {\n        if (offset < 0) {\n            return false;\n        }\n        const needleLength = needle.length;\n        const haystackLength = haystack.length;\n        if (offset + needleLength > haystackLength) {\n            return false;\n        }\n        for (let i = 0; i < needleLength; i++) {\n            const codeA = haystack.charCodeAt(offset + i);\n            const codeB = needle.charCodeAt(i);\n            if (codeA === codeB) {\n                continue;\n            }\n            if (codeA >= 65 /* CharCode.A */ && codeA <= 90 /* CharCode.Z */ && codeA + 32 === codeB) {\n                // codeA is upper-case variant of codeB\n                continue;\n            }\n            if (codeB >= 65 /* CharCode.A */ && codeB <= 90 /* CharCode.Z */ && codeB + 32 === codeA) {\n                // codeB is upper-case variant of codeA\n                continue;\n            }\n            return false;\n        }\n        return true;\n    }\n    _createOperationsForBlockComment(selection, startToken, endToken, insertSpace, model, builder) {\n        const startLineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endLineNumber = selection.endLineNumber;\n        const endColumn = selection.endColumn;\n        const startLineText = model.getLineContent(startLineNumber);\n        const endLineText = model.getLineContent(endLineNumber);\n        let startTokenIndex = startLineText.lastIndexOf(startToken, startColumn - 1 + startToken.length);\n        let endTokenIndex = endLineText.indexOf(endToken, endColumn - 1 - endToken.length);\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\n            if (startLineNumber === endLineNumber) {\n                const lineBetweenTokens = startLineText.substring(startTokenIndex + startToken.length, endTokenIndex);\n                if (lineBetweenTokens.indexOf(endToken) >= 0) {\n                    // force to add a block comment\n                    startTokenIndex = -1;\n                    endTokenIndex = -1;\n                }\n            }\n            else {\n                const startLineAfterStartToken = startLineText.substring(startTokenIndex + startToken.length);\n                const endLineBeforeEndToken = endLineText.substring(0, endTokenIndex);\n                if (startLineAfterStartToken.indexOf(endToken) >= 0 || endLineBeforeEndToken.indexOf(endToken) >= 0) {\n                    // force to add a block comment\n                    startTokenIndex = -1;\n                    endTokenIndex = -1;\n                }\n            }\n        }\n        let ops;\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\n            // Consider spaces as part of the comment tokens\n            if (insertSpace && startTokenIndex + startToken.length < startLineText.length && startLineText.charCodeAt(startTokenIndex + startToken.length) === 32 /* CharCode.Space */) {\n                // Pretend the start token contains a trailing space\n                startToken = startToken + ' ';\n            }\n            if (insertSpace && endTokenIndex > 0 && endLineText.charCodeAt(endTokenIndex - 1) === 32 /* CharCode.Space */) {\n                // Pretend the end token contains a leading space\n                endToken = ' ' + endToken;\n                endTokenIndex -= 1;\n            }\n            ops = BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\n        }\n        else {\n            ops = BlockCommentCommand._createAddBlockCommentOperations(selection, startToken, endToken, this._insertSpace);\n            this._usedEndToken = ops.length === 1 ? endToken : null;\n        }\n        for (const op of ops) {\n            builder.addTrackedEditOperation(op.range, op.text);\n        }\n    }\n    static _createRemoveBlockCommentOperations(r, startToken, endToken) {\n        const res = [];\n        if (!Range.isEmpty(r)) {\n            // Remove block comment start\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.startLineNumber, r.startColumn)));\n            // Remove block comment end\n            res.push(EditOperation.delete(new Range(r.endLineNumber, r.endColumn, r.endLineNumber, r.endColumn + endToken.length)));\n        }\n        else {\n            // Remove both continuously\n            res.push(EditOperation.delete(new Range(r.startLineNumber, r.startColumn - startToken.length, r.endLineNumber, r.endColumn + endToken.length)));\n        }\n        return res;\n    }\n    static _createAddBlockCommentOperations(r, startToken, endToken, insertSpace) {\n        const res = [];\n        if (!Range.isEmpty(r)) {\n            // Insert block comment start\n            res.push(EditOperation.insert(new Position(r.startLineNumber, r.startColumn), startToken + (insertSpace ? ' ' : '')));\n            // Insert block comment end\n            res.push(EditOperation.insert(new Position(r.endLineNumber, r.endColumn), (insertSpace ? ' ' : '') + endToken));\n        }\n        else {\n            // Insert both continuously\n            res.push(EditOperation.replace(new Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn), startToken + '  ' + endToken));\n        }\n        return res;\n    }\n    getEditOperations(model, builder) {\n        const startLineNumber = this._selection.startLineNumber;\n        const startColumn = this._selection.startColumn;\n        model.tokenization.tokenizeIfCheap(startLineNumber);\n        const languageId = model.getLanguageIdAtPosition(startLineNumber, startColumn);\n        const config = this.languageConfigurationService.getLanguageConfiguration(languageId).comments;\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\n            // Mode does not support block comments\n            return;\n        }\n        this._createOperationsForBlockComment(this._selection, config.blockCommentStartToken, config.blockCommentEndToken, this._insertSpace, model, builder);\n    }\n    computeCursorState(model, helper) {\n        const inverseEditOperations = helper.getInverseEditOperations();\n        if (inverseEditOperations.length === 2) {\n            const startTokenEditOperation = inverseEditOperations[0];\n            const endTokenEditOperation = inverseEditOperations[1];\n            return new Selection(startTokenEditOperation.range.endLineNumber, startTokenEditOperation.range.endColumn, endTokenEditOperation.range.startLineNumber, endTokenEditOperation.range.startColumn);\n        }\n        else {\n            const srcRange = inverseEditOperations[0].range;\n            const deltaColumn = this._usedEndToken ? -this._usedEndToken.length - 1 : 0; // minus 1 space before endToken\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn + deltaColumn, srcRange.endLineNumber, srcRange.endColumn + deltaColumn);\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4504, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/comment/browser/lineCommentCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from '../../../../base/common/strings.js';\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { BlockCommentCommand } from './blockCommentCommand.js';\nexport class LineCommentCommand {\n    constructor(languageConfigurationService, selection, indentSize, type, insertSpace, ignoreEmptyLines, ignoreFirstLine) {\n        this.languageConfigurationService = languageConfigurationService;\n        this._selection = selection;\n        this._indentSize = indentSize;\n        this._type = type;\n        this._insertSpace = insertSpace;\n        this._selectionId = null;\n        this._deltaColumn = 0;\n        this._moveEndPositionDown = false;\n        this._ignoreEmptyLines = ignoreEmptyLines;\n        this._ignoreFirstLine = ignoreFirstLine || false;\n    }\n    /**\n     * Do an initial pass over the lines and gather info about the line comment string.\n     * Returns null if any of the lines doesn't support a line comment string.\n     */\n    static _gatherPreflightCommentStrings(model, startLineNumber, endLineNumber, languageConfigurationService) {\n        model.tokenization.tokenizeIfCheap(startLineNumber);\n        const languageId = model.getLanguageIdAtPosition(startLineNumber, 1);\n        const config = languageConfigurationService.getLanguageConfiguration(languageId).comments;\n        const commentStr = (config ? config.lineCommentToken : null);\n        if (!commentStr) {\n            // Mode does not support line comments\n            return null;\n        }\n        const lines = [];\n        for (let i = 0, lineCount = endLineNumber - startLineNumber + 1; i < lineCount; i++) {\n            lines[i] = {\n                ignore: false,\n                commentStr: commentStr,\n                commentStrOffset: 0,\n                commentStrLength: commentStr.length\n            };\n        }\n        return lines;\n    }\n    /**\n     * Analyze lines and decide which lines are relevant and what the toggle should do.\n     * Also, build up several offsets and lengths useful in the generation of editor operations.\n     */\n    static _analyzeLines(type, insertSpace, model, lines, startLineNumber, ignoreEmptyLines, ignoreFirstLine, languageConfigurationService) {\n        let onlyWhitespaceLines = true;\n        let shouldRemoveComments;\n        if (type === 0 /* Type.Toggle */) {\n            shouldRemoveComments = true;\n        }\n        else if (type === 1 /* Type.ForceAdd */) {\n            shouldRemoveComments = false;\n        }\n        else {\n            shouldRemoveComments = true;\n        }\n        for (let i = 0, lineCount = lines.length; i < lineCount; i++) {\n            const lineData = lines[i];\n            const lineNumber = startLineNumber + i;\n            if (lineNumber === startLineNumber && ignoreFirstLine) {\n                // first line ignored\n                lineData.ignore = true;\n                continue;\n            }\n            const lineContent = model.getLineContent(lineNumber);\n            const lineContentStartOffset = strings.firstNonWhitespaceIndex(lineContent);\n            if (lineContentStartOffset === -1) {\n                // Empty or whitespace only line\n                lineData.ignore = ignoreEmptyLines;\n                lineData.commentStrOffset = lineContent.length;\n                continue;\n            }\n            onlyWhitespaceLines = false;\n            lineData.ignore = false;\n            lineData.commentStrOffset = lineContentStartOffset;\n            if (shouldRemoveComments && !BlockCommentCommand._haystackHasNeedleAtOffset(lineContent, lineData.commentStr, lineContentStartOffset)) {\n                if (type === 0 /* Type.Toggle */) {\n                    // Every line so far has been a line comment, but this one is not\n                    shouldRemoveComments = false;\n                }\n                else if (type === 1 /* Type.ForceAdd */) {\n                    // Will not happen\n                }\n                else {\n                    lineData.ignore = true;\n                }\n            }\n            if (shouldRemoveComments && insertSpace) {\n                // Remove a following space if present\n                const commentStrEndOffset = lineContentStartOffset + lineData.commentStrLength;\n                if (commentStrEndOffset < lineContent.length && lineContent.charCodeAt(commentStrEndOffset) === 32 /* CharCode.Space */) {\n                    lineData.commentStrLength += 1;\n                }\n            }\n        }\n        if (type === 0 /* Type.Toggle */ && onlyWhitespaceLines) {\n            // For only whitespace lines, we insert comments\n            shouldRemoveComments = false;\n            // Also, no longer ignore them\n            for (let i = 0, lineCount = lines.length; i < lineCount; i++) {\n                lines[i].ignore = false;\n            }\n        }\n        return {\n            supported: true,\n            shouldRemoveComments: shouldRemoveComments,\n            lines: lines\n        };\n    }\n    /**\n     * Analyze all lines and decide exactly what to do => not supported | insert line comments | remove line comments\n     */\n    static _gatherPreflightData(type, insertSpace, model, startLineNumber, endLineNumber, ignoreEmptyLines, ignoreFirstLine, languageConfigurationService) {\n        const lines = LineCommentCommand._gatherPreflightCommentStrings(model, startLineNumber, endLineNumber, languageConfigurationService);\n        if (lines === null) {\n            return {\n                supported: false\n            };\n        }\n        return LineCommentCommand._analyzeLines(type, insertSpace, model, lines, startLineNumber, ignoreEmptyLines, ignoreFirstLine, languageConfigurationService);\n    }\n    /**\n     * Given a successful analysis, execute either insert line comments, either remove line comments\n     */\n    _executeLineComments(model, builder, data, s) {\n        let ops;\n        if (data.shouldRemoveComments) {\n            ops = LineCommentCommand._createRemoveLineCommentsOperations(data.lines, s.startLineNumber);\n        }\n        else {\n            LineCommentCommand._normalizeInsertionPoint(model, data.lines, s.startLineNumber, this._indentSize);\n            ops = this._createAddLineCommentsOperations(data.lines, s.startLineNumber);\n        }\n        const cursorPosition = new Position(s.positionLineNumber, s.positionColumn);\n        for (let i = 0, len = ops.length; i < len; i++) {\n            builder.addEditOperation(ops[i].range, ops[i].text);\n            if (Range.isEmpty(ops[i].range) && Range.getStartPosition(ops[i].range).equals(cursorPosition)) {\n                const lineContent = model.getLineContent(cursorPosition.lineNumber);\n                if (lineContent.length + 1 === cursorPosition.column) {\n                    this._deltaColumn = (ops[i].text || '').length;\n                }\n            }\n        }\n        this._selectionId = builder.trackSelection(s);\n    }\n    _attemptRemoveBlockComment(model, s, startToken, endToken) {\n        let startLineNumber = s.startLineNumber;\n        let endLineNumber = s.endLineNumber;\n        const startTokenAllowedBeforeColumn = endToken.length + Math.max(model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.startColumn);\n        let startTokenIndex = model.getLineContent(startLineNumber).lastIndexOf(startToken, startTokenAllowedBeforeColumn - 1);\n        let endTokenIndex = model.getLineContent(endLineNumber).indexOf(endToken, s.endColumn - 1 - startToken.length);\n        if (startTokenIndex !== -1 && endTokenIndex === -1) {\n            endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\n            endLineNumber = startLineNumber;\n        }\n        if (startTokenIndex === -1 && endTokenIndex !== -1) {\n            startTokenIndex = model.getLineContent(endLineNumber).lastIndexOf(startToken, endTokenIndex);\n            startLineNumber = endLineNumber;\n        }\n        if (s.isEmpty() && (startTokenIndex === -1 || endTokenIndex === -1)) {\n            startTokenIndex = model.getLineContent(startLineNumber).indexOf(startToken);\n            if (startTokenIndex !== -1) {\n                endTokenIndex = model.getLineContent(startLineNumber).indexOf(endToken, startTokenIndex + startToken.length);\n            }\n        }\n        // We have to adjust to possible inner white space.\n        // For Space after startToken, add Space to startToken - range math will work out.\n        if (startTokenIndex !== -1 && model.getLineContent(startLineNumber).charCodeAt(startTokenIndex + startToken.length) === 32 /* CharCode.Space */) {\n            startToken += ' ';\n        }\n        // For Space before endToken, add Space before endToken and shift index one left.\n        if (endTokenIndex !== -1 && model.getLineContent(endLineNumber).charCodeAt(endTokenIndex - 1) === 32 /* CharCode.Space */) {\n            endToken = ' ' + endToken;\n            endTokenIndex -= 1;\n        }\n        if (startTokenIndex !== -1 && endTokenIndex !== -1) {\n            return BlockCommentCommand._createRemoveBlockCommentOperations(new Range(startLineNumber, startTokenIndex + startToken.length + 1, endLineNumber, endTokenIndex + 1), startToken, endToken);\n        }\n        return null;\n    }\n    /**\n     * Given an unsuccessful analysis, delegate to the block comment command\n     */\n    _executeBlockComment(model, builder, s) {\n        model.tokenization.tokenizeIfCheap(s.startLineNumber);\n        const languageId = model.getLanguageIdAtPosition(s.startLineNumber, 1);\n        const config = this.languageConfigurationService.getLanguageConfiguration(languageId).comments;\n        if (!config || !config.blockCommentStartToken || !config.blockCommentEndToken) {\n            // Mode does not support block comments\n            return;\n        }\n        const startToken = config.blockCommentStartToken;\n        const endToken = config.blockCommentEndToken;\n        let ops = this._attemptRemoveBlockComment(model, s, startToken, endToken);\n        if (!ops) {\n            if (s.isEmpty()) {\n                const lineContent = model.getLineContent(s.startLineNumber);\n                let firstNonWhitespaceIndex = strings.firstNonWhitespaceIndex(lineContent);\n                if (firstNonWhitespaceIndex === -1) {\n                    // Line is empty or contains only whitespace\n                    firstNonWhitespaceIndex = lineContent.length;\n                }\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, firstNonWhitespaceIndex + 1, s.startLineNumber, lineContent.length + 1), startToken, endToken, this._insertSpace);\n            }\n            else {\n                ops = BlockCommentCommand._createAddBlockCommentOperations(new Range(s.startLineNumber, model.getLineFirstNonWhitespaceColumn(s.startLineNumber), s.endLineNumber, model.getLineMaxColumn(s.endLineNumber)), startToken, endToken, this._insertSpace);\n            }\n            if (ops.length === 1) {\n                // Leave cursor after token and Space\n                this._deltaColumn = startToken.length + 1;\n            }\n        }\n        this._selectionId = builder.trackSelection(s);\n        for (const op of ops) {\n            builder.addEditOperation(op.range, op.text);\n        }\n    }\n    getEditOperations(model, builder) {\n        let s = this._selection;\n        this._moveEndPositionDown = false;\n        if (s.startLineNumber === s.endLineNumber && this._ignoreFirstLine) {\n            builder.addEditOperation(new Range(s.startLineNumber, model.getLineMaxColumn(s.startLineNumber), s.startLineNumber + 1, 1), s.startLineNumber === model.getLineCount() ? '' : '\\n');\n            this._selectionId = builder.trackSelection(s);\n            return;\n        }\n        if (s.startLineNumber < s.endLineNumber && s.endColumn === 1) {\n            this._moveEndPositionDown = true;\n            s = s.setEndPosition(s.endLineNumber - 1, model.getLineMaxColumn(s.endLineNumber - 1));\n        }\n        const data = LineCommentCommand._gatherPreflightData(this._type, this._insertSpace, model, s.startLineNumber, s.endLineNumber, this._ignoreEmptyLines, this._ignoreFirstLine, this.languageConfigurationService);\n        if (data.supported) {\n            return this._executeLineComments(model, builder, data, s);\n        }\n        return this._executeBlockComment(model, builder, s);\n    }\n    computeCursorState(model, helper) {\n        let result = helper.getTrackedSelection(this._selectionId);\n        if (this._moveEndPositionDown) {\n            result = result.setEndPosition(result.endLineNumber + 1, 1);\n        }\n        return new Selection(result.selectionStartLineNumber, result.selectionStartColumn + this._deltaColumn, result.positionLineNumber, result.positionColumn + this._deltaColumn);\n    }\n    /**\n     * Generate edit operations in the remove line comment case\n     */\n    static _createRemoveLineCommentsOperations(lines, startLineNumber) {\n        const res = [];\n        for (let i = 0, len = lines.length; i < len; i++) {\n            const lineData = lines[i];\n            if (lineData.ignore) {\n                continue;\n            }\n            res.push(EditOperation.delete(new Range(startLineNumber + i, lineData.commentStrOffset + 1, startLineNumber + i, lineData.commentStrOffset + lineData.commentStrLength + 1)));\n        }\n        return res;\n    }\n    /**\n     * Generate edit operations in the add line comment case\n     */\n    _createAddLineCommentsOperations(lines, startLineNumber) {\n        const res = [];\n        const afterCommentStr = this._insertSpace ? ' ' : '';\n        for (let i = 0, len = lines.length; i < len; i++) {\n            const lineData = lines[i];\n            if (lineData.ignore) {\n                continue;\n            }\n            res.push(EditOperation.insert(new Position(startLineNumber + i, lineData.commentStrOffset + 1), lineData.commentStr + afterCommentStr));\n        }\n        return res;\n    }\n    static nextVisibleColumn(currentVisibleColumn, indentSize, isTab, columnSize) {\n        if (isTab) {\n            return currentVisibleColumn + (indentSize - (currentVisibleColumn % indentSize));\n        }\n        return currentVisibleColumn + columnSize;\n    }\n    /**\n     * Adjust insertion points to have them vertically aligned in the add line comment case\n     */\n    static _normalizeInsertionPoint(model, lines, startLineNumber, indentSize) {\n        let minVisibleColumn = 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */;\n        let j;\n        let lenJ;\n        for (let i = 0, len = lines.length; i < len; i++) {\n            if (lines[i].ignore) {\n                continue;\n            }\n            const lineContent = model.getLineContent(startLineNumber + i);\n            let currentVisibleColumn = 0;\n            for (let j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++) {\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, indentSize, lineContent.charCodeAt(j) === 9 /* CharCode.Tab */, 1);\n            }\n            if (currentVisibleColumn < minVisibleColumn) {\n                minVisibleColumn = currentVisibleColumn;\n            }\n        }\n        minVisibleColumn = Math.floor(minVisibleColumn / indentSize) * indentSize;\n        for (let i = 0, len = lines.length; i < len; i++) {\n            if (lines[i].ignore) {\n                continue;\n            }\n            const lineContent = model.getLineContent(startLineNumber + i);\n            let currentVisibleColumn = 0;\n            for (j = 0, lenJ = lines[i].commentStrOffset; currentVisibleColumn < minVisibleColumn && j < lenJ; j++) {\n                currentVisibleColumn = LineCommentCommand.nextVisibleColumn(currentVisibleColumn, indentSize, lineContent.charCodeAt(j) === 9 /* CharCode.Tab */, 1);\n            }\n            if (currentVisibleColumn > minVisibleColumn) {\n                lines[i].commentStrOffset = j - 1;\n            }\n            else {\n                lines[i].commentStrOffset = j;\n            }\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4824, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/comment/browser/comment.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { BlockCommentCommand } from './blockCommentCommand.js';\nimport { LineCommentCommand } from './lineCommentCommand.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nclass CommentLineAction extends EditorAction {\n    constructor(type, opts) {\n        super(opts);\n        this._type = type;\n    }\n    run(accessor, editor) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        const commands = [];\n        const modelOptions = model.getOptions();\n        const commentsOptions = editor.getOption(23 /* EditorOption.comments */);\n        const selections = editor.getSelections().map((selection, index) => ({ selection, index, ignoreFirstLine: false }));\n        selections.sort((a, b) => Range.compareRangesUsingStarts(a.selection, b.selection));\n        // Remove selections that would result in copying the same line\n        let prev = selections[0];\n        for (let i = 1; i < selections.length; i++) {\n            const curr = selections[i];\n            if (prev.selection.endLineNumber === curr.selection.startLineNumber) {\n                // these two selections would copy the same line\n                if (prev.index < curr.index) {\n                    // prev wins\n                    curr.ignoreFirstLine = true;\n                }\n                else {\n                    // curr wins\n                    prev.ignoreFirstLine = true;\n                    prev = curr;\n                }\n            }\n        }\n        for (const selection of selections) {\n            commands.push(new LineCommentCommand(languageConfigurationService, selection.selection, modelOptions.indentSize, this._type, commentsOptions.insertSpace, commentsOptions.ignoreEmptyLines, selection.ignoreFirstLine));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nclass ToggleCommentLineAction extends CommentLineAction {\n    constructor() {\n        super(0 /* Type.Toggle */, {\n            id: 'editor.action.commentLine',\n            label: nls.localize('comment.line', \"Toggle Line Comment\"),\n            alias: 'Toggle Line Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 90 /* KeyCode.Slash */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarEditMenu,\n                group: '5_insert',\n                title: nls.localize({ key: 'miToggleLineComment', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Line Comment\"),\n                order: 1\n            }\n        });\n    }\n}\nclass AddLineCommentAction extends CommentLineAction {\n    constructor() {\n        super(1 /* Type.ForceAdd */, {\n            id: 'editor.action.addCommentLine',\n            label: nls.localize('comment.line.add', \"Add Line Comment\"),\n            alias: 'Add Line Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 33 /* KeyCode.KeyC */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass RemoveLineCommentAction extends CommentLineAction {\n    constructor() {\n        super(2 /* Type.ForceRemove */, {\n            id: 'editor.action.removeCommentLine',\n            label: nls.localize('comment.line.remove', \"Remove Line Comment\"),\n            alias: 'Remove Line Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 51 /* KeyCode.KeyU */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass BlockCommentAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.blockComment',\n            label: nls.localize('comment.block', \"Toggle Block Comment\"),\n            alias: 'Toggle Block Comment',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 31 /* KeyCode.KeyA */,\n                linux: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 31 /* KeyCode.KeyA */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarEditMenu,\n                group: '5_insert',\n                title: nls.localize({ key: 'miToggleBlockComment', comment: ['&& denotes a mnemonic'] }, \"Toggle &&Block Comment\"),\n                order: 2\n            }\n        });\n    }\n    run(accessor, editor) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const commentsOptions = editor.getOption(23 /* EditorOption.comments */);\n        const commands = [];\n        const selections = editor.getSelections();\n        for (const selection of selections) {\n            commands.push(new BlockCommentCommand(selection, commentsOptions.insertSpace, languageConfigurationService));\n        }\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorAction(ToggleCommentLineAction);\nregisterEditorAction(AddLineCommentAction);\nregisterEditorAction(RemoveLineCommentAction);\nregisterEditorAction(BlockCommentAction);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4999, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/contextmenu/browser/contextmenu.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ContextMenuController_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionViewItem } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { Separator, SubmenuAction } from '../../../../base/common/actions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { isIOS } from '../../../../base/common/platform.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as nls from '../../../../nls.js';\nimport { IMenuService, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IWorkspaceContextService, isStandaloneEditorWorkspace } from '../../../../platform/workspace/common/workspace.js';\nlet ContextMenuController = class ContextMenuController {\n    static { ContextMenuController_1 = this; }\n    static { this.ID = 'editor.contrib.contextmenu'; }\n    static get(editor) {\n        return editor.getContribution(ContextMenuController_1.ID);\n    }\n    constructor(editor, _contextMenuService, _contextViewService, _contextKeyService, _keybindingService, _menuService, _configurationService, _workspaceContextService) {\n        this._contextMenuService = _contextMenuService;\n        this._contextViewService = _contextViewService;\n        this._contextKeyService = _contextKeyService;\n        this._keybindingService = _keybindingService;\n        this._menuService = _menuService;\n        this._configurationService = _configurationService;\n        this._workspaceContextService = _workspaceContextService;\n        this._toDispose = new DisposableStore();\n        this._contextMenuIsBeingShownCount = 0;\n        this._editor = editor;\n        this._toDispose.add(this._editor.onContextMenu((e) => this._onContextMenu(e)));\n        this._toDispose.add(this._editor.onMouseWheel((e) => {\n            if (this._contextMenuIsBeingShownCount > 0) {\n                const view = this._contextViewService.getContextViewElement();\n                const target = e.srcElement;\n                // Event triggers on shadow root host first\n                // Check if the context view is under this host before hiding it #103169\n                if (!(target.shadowRoot && dom.getShadowRoot(view) === target.shadowRoot)) {\n                    this._contextViewService.hideContextView();\n                }\n            }\n        }));\n        this._toDispose.add(this._editor.onKeyDown((e) => {\n            if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n                return; // Context menu is turned off through configuration\n            }\n            if (e.keyCode === 58 /* KeyCode.ContextMenu */) {\n                // Chrome is funny like that\n                e.preventDefault();\n                e.stopPropagation();\n                this.showContextMenu();\n            }\n        }));\n    }\n    _onContextMenu(e) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n            this._editor.focus();\n            // Ensure the cursor is at the position of the mouse click\n            if (e.target.position && !this._editor.getSelection().containsPosition(e.target.position)) {\n                this._editor.setPosition(e.target.position);\n            }\n            return; // Context menu is turned off through configuration\n        }\n        if (e.target.type === 12 /* MouseTargetType.OVERLAY_WIDGET */) {\n            return; // allow native menu on widgets to support right click on input field for example in find\n        }\n        if (e.target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.detail.injectedText) {\n            return; // allow native menu on injected text\n        }\n        e.event.preventDefault();\n        e.event.stopPropagation();\n        if (e.target.type === 11 /* MouseTargetType.SCROLLBAR */) {\n            return this._showScrollbarContextMenu(e.event);\n        }\n        if (e.target.type !== 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.type !== 7 /* MouseTargetType.CONTENT_EMPTY */ && e.target.type !== 1 /* MouseTargetType.TEXTAREA */) {\n            return; // only support mouse click into text or native context menu key for now\n        }\n        // Ensure the editor gets focus if it hasn't, so the right events are being sent to other contributions\n        this._editor.focus();\n        // Ensure the cursor is at the position of the mouse click\n        if (e.target.position) {\n            let hasSelectionAtPosition = false;\n            for (const selection of this._editor.getSelections()) {\n                if (selection.containsPosition(e.target.position)) {\n                    hasSelectionAtPosition = true;\n                    break;\n                }\n            }\n            if (!hasSelectionAtPosition) {\n                this._editor.setPosition(e.target.position);\n            }\n        }\n        // Unless the user triggerd the context menu through Shift+F10, use the mouse position as menu position\n        let anchor = null;\n        if (e.target.type !== 1 /* MouseTargetType.TEXTAREA */) {\n            anchor = e.event;\n        }\n        // Show the context menu\n        this.showContextMenu(anchor);\n    }\n    showContextMenu(anchor) {\n        if (!this._editor.getOption(24 /* EditorOption.contextmenu */)) {\n            return; // Context menu is turned off through configuration\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        // Find actions available for menu\n        const menuActions = this._getMenuActions(this._editor.getModel(), this._editor.contextMenuId);\n        // Show menu if we have actions to show\n        if (menuActions.length > 0) {\n            this._doShowContextMenu(menuActions, anchor);\n        }\n    }\n    _getMenuActions(model, menuId) {\n        const result = [];\n        // get menu groups\n        const groups = this._menuService.getMenuActions(menuId, this._contextKeyService, { arg: model.uri });\n        // translate them into other actions\n        for (const group of groups) {\n            const [, actions] = group;\n            let addedItems = 0;\n            for (const action of actions) {\n                if (action instanceof SubmenuItemAction) {\n                    const subActions = this._getMenuActions(model, action.item.submenu);\n                    if (subActions.length > 0) {\n                        result.push(new SubmenuAction(action.id, action.label, subActions));\n                        addedItems++;\n                    }\n                }\n                else {\n                    result.push(action);\n                    addedItems++;\n                }\n            }\n            if (addedItems) {\n                result.push(new Separator());\n            }\n        }\n        if (result.length) {\n            result.pop(); // remove last separator\n        }\n        return result;\n    }\n    _doShowContextMenu(actions, event = null) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        // Disable hover\n        const oldHoverSetting = this._editor.getOption(60 /* EditorOption.hover */);\n        this._editor.updateOptions({\n            hover: {\n                enabled: false\n            }\n        });\n        let anchor = event;\n        if (!anchor) {\n            // Ensure selection is visible\n            this._editor.revealPosition(this._editor.getPosition(), 1 /* ScrollType.Immediate */);\n            this._editor.render();\n            const cursorCoords = this._editor.getScrolledVisiblePosition(this._editor.getPosition());\n            // Translate to absolute editor position\n            const editorCoords = dom.getDomNodePagePosition(this._editor.getDomNode());\n            const posx = editorCoords.left + cursorCoords.left;\n            const posy = editorCoords.top + cursorCoords.top + cursorCoords.height;\n            anchor = { x: posx, y: posy };\n        }\n        const useShadowDOM = this._editor.getOption(128 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n        // Show menu\n        this._contextMenuIsBeingShownCount++;\n        this._contextMenuService.showContextMenu({\n            domForShadowRoot: useShadowDOM ? this._editor.getOverflowWidgetsDomNode() ?? this._editor.getDomNode() : undefined,\n            getAnchor: () => anchor,\n            getActions: () => actions,\n            getActionViewItem: (action) => {\n                const keybinding = this._keybindingFor(action);\n                if (keybinding) {\n                    return new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel(), isMenu: true });\n                }\n                const customActionViewItem = action;\n                if (typeof customActionViewItem.getActionViewItem === 'function') {\n                    return customActionViewItem.getActionViewItem();\n                }\n                return new ActionViewItem(action, action, { icon: true, label: true, isMenu: true });\n            },\n            getKeyBinding: (action) => {\n                return this._keybindingFor(action);\n            },\n            onHide: (wasCancelled) => {\n                this._contextMenuIsBeingShownCount--;\n                this._editor.updateOptions({\n                    hover: oldHoverSetting\n                });\n            }\n        });\n    }\n    _showScrollbarContextMenu(anchor) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (isStandaloneEditorWorkspace(this._workspaceContextService.getWorkspace())) {\n            // can't update the configuration properly in the standalone editor\n            return;\n        }\n        const minimapOptions = this._editor.getOption(73 /* EditorOption.minimap */);\n        let lastId = 0;\n        const createAction = (opts) => {\n            return {\n                id: `menu-action-${++lastId}`,\n                label: opts.label,\n                tooltip: '',\n                class: undefined,\n                enabled: (typeof opts.enabled === 'undefined' ? true : opts.enabled),\n                checked: opts.checked,\n                run: opts.run\n            };\n        };\n        const createSubmenuAction = (label, actions) => {\n            return new SubmenuAction(`menu-action-${++lastId}`, label, actions, undefined);\n        };\n        const createEnumAction = (label, enabled, configName, configuredValue, options) => {\n            if (!enabled) {\n                return createAction({ label, enabled, run: () => { } });\n            }\n            const createRunner = (value) => {\n                return () => {\n                    this._configurationService.updateValue(configName, value);\n                };\n            };\n            const actions = [];\n            for (const option of options) {\n                actions.push(createAction({\n                    label: option.label,\n                    checked: configuredValue === option.value,\n                    run: createRunner(option.value)\n                }));\n            }\n            return createSubmenuAction(label, actions);\n        };\n        const actions = [];\n        actions.push(createAction({\n            label: nls.localize('context.minimap.minimap', \"Minimap\"),\n            checked: minimapOptions.enabled,\n            run: () => {\n                this._configurationService.updateValue(`editor.minimap.enabled`, !minimapOptions.enabled);\n            }\n        }));\n        actions.push(new Separator());\n        actions.push(createAction({\n            label: nls.localize('context.minimap.renderCharacters', \"Render Characters\"),\n            enabled: minimapOptions.enabled,\n            checked: minimapOptions.renderCharacters,\n            run: () => {\n                this._configurationService.updateValue(`editor.minimap.renderCharacters`, !minimapOptions.renderCharacters);\n            }\n        }));\n        actions.push(createEnumAction(nls.localize('context.minimap.size', \"Vertical size\"), minimapOptions.enabled, 'editor.minimap.size', minimapOptions.size, [{\n                label: nls.localize('context.minimap.size.proportional', \"Proportional\"),\n                value: 'proportional'\n            }, {\n                label: nls.localize('context.minimap.size.fill', \"Fill\"),\n                value: 'fill'\n            }, {\n                label: nls.localize('context.minimap.size.fit', \"Fit\"),\n                value: 'fit'\n            }]));\n        actions.push(createEnumAction(nls.localize('context.minimap.slider', \"Slider\"), minimapOptions.enabled, 'editor.minimap.showSlider', minimapOptions.showSlider, [{\n                label: nls.localize('context.minimap.slider.mouseover', \"Mouse Over\"),\n                value: 'mouseover'\n            }, {\n                label: nls.localize('context.minimap.slider.always', \"Always\"),\n                value: 'always'\n            }]));\n        const useShadowDOM = this._editor.getOption(128 /* EditorOption.useShadowDOM */) && !isIOS; // Do not use shadow dom on IOS #122035\n        this._contextMenuIsBeingShownCount++;\n        this._contextMenuService.showContextMenu({\n            domForShadowRoot: useShadowDOM ? this._editor.getDomNode() : undefined,\n            getAnchor: () => anchor,\n            getActions: () => actions,\n            onHide: (wasCancelled) => {\n                this._contextMenuIsBeingShownCount--;\n                this._editor.focus();\n            }\n        });\n    }\n    _keybindingFor(action) {\n        return this._keybindingService.lookupKeybinding(action.id);\n    }\n    dispose() {\n        if (this._contextMenuIsBeingShownCount > 0) {\n            this._contextViewService.hideContextView();\n        }\n        this._toDispose.dispose();\n    }\n};\nContextMenuController = ContextMenuController_1 = __decorate([\n    __param(1, IContextMenuService),\n    __param(2, IContextViewService),\n    __param(3, IContextKeyService),\n    __param(4, IKeybindingService),\n    __param(5, IMenuService),\n    __param(6, IConfigurationService),\n    __param(7, IWorkspaceContextService)\n], ContextMenuController);\nexport { ContextMenuController };\nclass ShowContextMenu extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.showContextMenu',\n            label: nls.localize('action.showContextMenu.label', \"Show Editor Context Menu\"),\n            alias: 'Show Editor Context Menu',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        ContextMenuController.get(editor)?.showContextMenu();\n    }\n}\nregisterEditorContribution(ContextMenuController.ID, ContextMenuController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(ShowContextMenu);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5390, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/cursorUndo/browser/cursorUndo.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as nls from '../../../../nls.js';\nclass CursorState {\n    constructor(selections) {\n        this.selections = selections;\n    }\n    equals(other) {\n        const thisLen = this.selections.length;\n        const otherLen = other.selections.length;\n        if (thisLen !== otherLen) {\n            return false;\n        }\n        for (let i = 0; i < thisLen; i++) {\n            if (!this.selections[i].equalsSelection(other.selections[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\nclass StackElement {\n    constructor(cursorState, scrollTop, scrollLeft) {\n        this.cursorState = cursorState;\n        this.scrollTop = scrollTop;\n        this.scrollLeft = scrollLeft;\n    }\n}\nexport class CursorUndoRedoController extends Disposable {\n    static { this.ID = 'editor.contrib.cursorUndoRedoController'; }\n    static get(editor) {\n        return editor.getContribution(CursorUndoRedoController.ID);\n    }\n    constructor(editor) {\n        super();\n        this._editor = editor;\n        this._isCursorUndoRedo = false;\n        this._undoStack = [];\n        this._redoStack = [];\n        this._register(editor.onDidChangeModel((e) => {\n            this._undoStack = [];\n            this._redoStack = [];\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            this._undoStack = [];\n            this._redoStack = [];\n        }));\n        this._register(editor.onDidChangeCursorSelection((e) => {\n            if (this._isCursorUndoRedo) {\n                return;\n            }\n            if (!e.oldSelections) {\n                return;\n            }\n            if (e.oldModelVersionId !== e.modelVersionId) {\n                return;\n            }\n            const prevState = new CursorState(e.oldSelections);\n            const isEqualToLastUndoStack = (this._undoStack.length > 0 && this._undoStack[this._undoStack.length - 1].cursorState.equals(prevState));\n            if (!isEqualToLastUndoStack) {\n                this._undoStack.push(new StackElement(prevState, editor.getScrollTop(), editor.getScrollLeft()));\n                this._redoStack = [];\n                if (this._undoStack.length > 50) {\n                    // keep the cursor undo stack bounded\n                    this._undoStack.shift();\n                }\n            }\n        }));\n    }\n    cursorUndo() {\n        if (!this._editor.hasModel() || this._undoStack.length === 0) {\n            return;\n        }\n        this._redoStack.push(new StackElement(new CursorState(this._editor.getSelections()), this._editor.getScrollTop(), this._editor.getScrollLeft()));\n        this._applyState(this._undoStack.pop());\n    }\n    cursorRedo() {\n        if (!this._editor.hasModel() || this._redoStack.length === 0) {\n            return;\n        }\n        this._undoStack.push(new StackElement(new CursorState(this._editor.getSelections()), this._editor.getScrollTop(), this._editor.getScrollLeft()));\n        this._applyState(this._redoStack.pop());\n    }\n    _applyState(stackElement) {\n        this._isCursorUndoRedo = true;\n        this._editor.setSelections(stackElement.cursorState.selections);\n        this._editor.setScrollPosition({\n            scrollTop: stackElement.scrollTop,\n            scrollLeft: stackElement.scrollLeft\n        });\n        this._isCursorUndoRedo = false;\n    }\n}\nexport class CursorUndo extends EditorAction {\n    constructor() {\n        super({\n            id: 'cursorUndo',\n            label: nls.localize('cursor.undo', \"Cursor Undo\"),\n            alias: 'Cursor Undo',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 51 /* KeyCode.KeyU */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        CursorUndoRedoController.get(editor)?.cursorUndo();\n    }\n}\nexport class CursorRedo extends EditorAction {\n    constructor() {\n        super({\n            id: 'cursorRedo',\n            label: nls.localize('cursor.redo', \"Cursor Redo\"),\n            alias: 'Cursor Redo',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        CursorUndoRedoController.get(editor)?.cursorRedo();\n    }\n}\nregisterEditorContribution(CursorUndoRedoController.ID, CursorUndoRedoController, 0 /* EditorContributionInstantiation.Eager */); // eager because it needs to listen to record cursor state ASAP\nregisterEditorAction(CursorUndo);\nregisterEditorAction(CursorRedo);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5537, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dragAndDropCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nexport class DragAndDropCommand {\n    constructor(selection, targetPosition, copy) {\n        this.selection = selection;\n        this.targetPosition = targetPosition;\n        this.copy = copy;\n        this.targetSelection = null;\n    }\n    getEditOperations(model, builder) {\n        const text = model.getValueInRange(this.selection);\n        if (!this.copy) {\n            builder.addEditOperation(this.selection, null);\n        }\n        builder.addEditOperation(new Range(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column), text);\n        if (this.selection.containsPosition(this.targetPosition) && !(this.copy && (this.selection.getEndPosition().equals(this.targetPosition) || this.selection.getStartPosition().equals(this.targetPosition)) // we allow users to paste content beside the selection\n        )) {\n            this.targetSelection = this.selection;\n            return;\n        }\n        if (this.copy) {\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.selection.endLineNumber - this.selection.startLineNumber + this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        if (this.targetPosition.lineNumber > this.selection.endLineNumber) {\n            // Drag the selection downwards\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        if (this.targetPosition.lineNumber < this.selection.endLineNumber) {\n            // Drag the selection upwards\n            this.targetSelection = new Selection(this.targetPosition.lineNumber, this.targetPosition.column, this.targetPosition.lineNumber + this.selection.endLineNumber - this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column + this.selection.endColumn - this.selection.startColumn :\n                this.selection.endColumn);\n            return;\n        }\n        // The target position is at the same line as the selection's end position.\n        if (this.selection.endColumn <= this.targetPosition.column) {\n            // The target position is after the selection's end position\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn :\n                this.targetPosition.column - this.selection.endColumn + this.selection.startColumn, this.targetPosition.lineNumber, this.selection.startLineNumber === this.selection.endLineNumber ?\n                this.targetPosition.column :\n                this.selection.endColumn);\n        }\n        else {\n            // The target position is before the selection's end position. Since the selection doesn't contain the target position, the selection is one-line and target position is before this selection.\n            this.targetSelection = new Selection(this.targetPosition.lineNumber - this.selection.endLineNumber + this.selection.startLineNumber, this.targetPosition.column, this.targetPosition.lineNumber, this.targetPosition.column + this.selection.endColumn - this.selection.startColumn);\n        }\n    }\n    computeCursorState(model, helper) {\n        return this.targetSelection;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5596, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/dnd/browser/dnd.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport './dnd.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DragAndDropCommand } from './dragAndDropCommand.js';\nfunction hasTriggerModifier(e) {\n    if (isMacintosh) {\n        return e.altKey;\n    }\n    else {\n        return e.ctrlKey;\n    }\n}\nexport class DragAndDropController extends Disposable {\n    static { this.ID = 'editor.contrib.dragAndDrop'; }\n    static { this.TRIGGER_KEY_VALUE = isMacintosh ? 6 /* KeyCode.Alt */ : 5 /* KeyCode.Ctrl */; }\n    constructor(editor) {\n        super();\n        this._editor = editor;\n        this._dndDecorationIds = this._editor.createDecorationsCollection();\n        this._register(this._editor.onMouseDown((e) => this._onEditorMouseDown(e)));\n        this._register(this._editor.onMouseUp((e) => this._onEditorMouseUp(e)));\n        this._register(this._editor.onMouseDrag((e) => this._onEditorMouseDrag(e)));\n        this._register(this._editor.onMouseDrop((e) => this._onEditorMouseDrop(e)));\n        this._register(this._editor.onMouseDropCanceled(() => this._onEditorMouseDropCanceled()));\n        this._register(this._editor.onKeyDown((e) => this.onEditorKeyDown(e)));\n        this._register(this._editor.onKeyUp((e) => this.onEditorKeyUp(e)));\n        this._register(this._editor.onDidBlurEditorWidget(() => this.onEditorBlur()));\n        this._register(this._editor.onDidBlurEditorText(() => this.onEditorBlur()));\n        this._mouseDown = false;\n        this._modifierPressed = false;\n        this._dragSelection = null;\n    }\n    onEditorBlur() {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modifierPressed = false;\n    }\n    onEditorKeyDown(e) {\n        if (!this._editor.getOption(35 /* EditorOption.dragAndDrop */) || this._editor.getOption(22 /* EditorOption.columnSelection */)) {\n            return;\n        }\n        if (hasTriggerModifier(e)) {\n            this._modifierPressed = true;\n        }\n        if (this._mouseDown && hasTriggerModifier(e)) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n    }\n    onEditorKeyUp(e) {\n        if (!this._editor.getOption(35 /* EditorOption.dragAndDrop */) || this._editor.getOption(22 /* EditorOption.columnSelection */)) {\n            return;\n        }\n        if (hasTriggerModifier(e)) {\n            this._modifierPressed = false;\n        }\n        if (this._mouseDown && e.keyCode === DragAndDropController.TRIGGER_KEY_VALUE) {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n    }\n    _onEditorMouseDown(mouseEvent) {\n        this._mouseDown = true;\n    }\n    _onEditorMouseUp(mouseEvent) {\n        this._mouseDown = false;\n        // Whenever users release the mouse, the drag and drop operation should finish and the cursor should revert to text.\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n    }\n    _onEditorMouseDrag(mouseEvent) {\n        const target = mouseEvent.target;\n        if (this._dragSelection === null) {\n            const selections = this._editor.getSelections() || [];\n            const possibleSelections = selections.filter(selection => target.position && selection.containsPosition(target.position));\n            if (possibleSelections.length === 1) {\n                this._dragSelection = possibleSelections[0];\n            }\n            else {\n                return;\n            }\n        }\n        if (hasTriggerModifier(mouseEvent.event)) {\n            this._editor.updateOptions({\n                mouseStyle: 'copy'\n            });\n        }\n        else {\n            this._editor.updateOptions({\n                mouseStyle: 'default'\n            });\n        }\n        if (target.position) {\n            if (this._dragSelection.containsPosition(target.position)) {\n                this._removeDecoration();\n            }\n            else {\n                this.showAt(target.position);\n            }\n        }\n    }\n    _onEditorMouseDropCanceled() {\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    }\n    _onEditorMouseDrop(mouseEvent) {\n        if (mouseEvent.target && (this._hitContent(mouseEvent.target) || this._hitMargin(mouseEvent.target)) && mouseEvent.target.position) {\n            const newCursorPosition = new Position(mouseEvent.target.position.lineNumber, mouseEvent.target.position.column);\n            if (this._dragSelection === null) {\n                let newSelections = null;\n                if (mouseEvent.event.shiftKey) {\n                    const primarySelection = this._editor.getSelection();\n                    if (primarySelection) {\n                        const { selectionStartLineNumber, selectionStartColumn } = primarySelection;\n                        newSelections = [new Selection(selectionStartLineNumber, selectionStartColumn, newCursorPosition.lineNumber, newCursorPosition.column)];\n                    }\n                }\n                else {\n                    newSelections = (this._editor.getSelections() || []).map(selection => {\n                        if (selection.containsPosition(newCursorPosition)) {\n                            return new Selection(newCursorPosition.lineNumber, newCursorPosition.column, newCursorPosition.lineNumber, newCursorPosition.column);\n                        }\n                        else {\n                            return selection;\n                        }\n                    });\n                }\n                // Use `mouse` as the source instead of `api` and setting the reason to explicit (to behave like any other mouse operation).\n                this._editor.setSelections(newSelections || [], 'mouse', 3 /* CursorChangeReason.Explicit */);\n            }\n            else if (!this._dragSelection.containsPosition(newCursorPosition) ||\n                ((hasTriggerModifier(mouseEvent.event) ||\n                    this._modifierPressed) && (this._dragSelection.getEndPosition().equals(newCursorPosition) || this._dragSelection.getStartPosition().equals(newCursorPosition)) // we allow users to paste content beside the selection\n                )) {\n                this._editor.pushUndoStop();\n                this._editor.executeCommand(DragAndDropController.ID, new DragAndDropCommand(this._dragSelection, newCursorPosition, hasTriggerModifier(mouseEvent.event) || this._modifierPressed));\n                this._editor.pushUndoStop();\n            }\n        }\n        this._editor.updateOptions({\n            mouseStyle: 'text'\n        });\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n    }\n    static { this._DECORATION_OPTIONS = ModelDecorationOptions.register({\n        description: 'dnd-target',\n        className: 'dnd-target'\n    }); }\n    showAt(position) {\n        this._dndDecorationIds.set([{\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column),\n                options: DragAndDropController._DECORATION_OPTIONS\n            }]);\n        this._editor.revealPosition(position, 1 /* ScrollType.Immediate */);\n    }\n    _removeDecoration() {\n        this._dndDecorationIds.clear();\n    }\n    _hitContent(target) {\n        return target.type === 6 /* MouseTargetType.CONTENT_TEXT */ ||\n            target.type === 7 /* MouseTargetType.CONTENT_EMPTY */;\n    }\n    _hitMargin(target) {\n        return target.type === 2 /* MouseTargetType.GUTTER_GLYPH_MARGIN */ ||\n            target.type === 3 /* MouseTargetType.GUTTER_LINE_NUMBERS */ ||\n            target.type === 4 /* MouseTargetType.GUTTER_LINE_DECORATIONS */;\n    }\n    dispose() {\n        this._removeDecoration();\n        this._dragSelection = null;\n        this._mouseDown = false;\n        this._modifierPressed = false;\n        super.dispose();\n    }\n}\nregisterEditorContribution(DragAndDropController.ID, DragAndDropController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AACA,SAAS,mBAAmB,CAAC;IACzB,IAAI,4OAAA,CAAA,cAAW,EAAE;QACb,OAAO,EAAE,MAAM;IACnB,OACK;QACD,OAAO,EAAE,OAAO;IACpB;AACJ;AACO,MAAM,8BAA8B,6OAAA,CAAA,aAAU;IAoBjD,eAAe;QACX,IAAI,CAAC,iBAAiB;QACtB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,gBAAgB,GAAG;IAC5B;IACA,gBAAgB,CAAC,EAAE;QACf,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,4BAA4B,QAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,gCAAgC,MAAK;YAC7H;QACJ;QACA,IAAI,mBAAmB,IAAI;YACvB,IAAI,CAAC,gBAAgB,GAAG;QAC5B;QACA,IAAI,IAAI,CAAC,UAAU,IAAI,mBAAmB,IAAI;YAC1C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,YAAY;YAChB;QACJ;IACJ;IACA,cAAc,CAAC,EAAE;QACb,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,4BAA4B,QAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,gCAAgC,MAAK;YAC7H;QACJ;QACA,IAAI,mBAAmB,IAAI;YACvB,IAAI,CAAC,gBAAgB,GAAG;QAC5B;QACA,IAAI,IAAI,CAAC,UAAU,IAAI,EAAE,OAAO,KAAK,sBAAsB,iBAAiB,EAAE;YAC1E,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,YAAY;YAChB;QACJ;IACJ;IACA,mBAAmB,UAAU,EAAE;QAC3B,IAAI,CAAC,UAAU,GAAG;IACtB;IACA,iBAAiB,UAAU,EAAE;QACzB,IAAI,CAAC,UAAU,GAAG;QAClB,oHAAoH;QACpH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvB,YAAY;QAChB;IACJ;IACA,mBAAmB,UAAU,EAAE;QAC3B,MAAM,SAAS,WAAW,MAAM;QAChC,IAAI,IAAI,CAAC,cAAc,KAAK,MAAM;YAC9B,MAAM,aAAa,IAAI,CAAC,OAAO,CAAC,aAAa,MAAM,EAAE;YACrD,MAAM,qBAAqB,WAAW,MAAM,CAAC,CAAA,YAAa,OAAO,QAAQ,IAAI,UAAU,gBAAgB,CAAC,OAAO,QAAQ;YACvH,IAAI,mBAAmB,MAAM,KAAK,GAAG;gBACjC,IAAI,CAAC,cAAc,GAAG,kBAAkB,CAAC,EAAE;YAC/C,OACK;gBACD;YACJ;QACJ;QACA,IAAI,mBAAmB,WAAW,KAAK,GAAG;YACtC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,YAAY;YAChB;QACJ,OACK;YACD,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;gBACvB,YAAY;YAChB;QACJ;QACA,IAAI,OAAO,QAAQ,EAAE;YACjB,IAAI,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,OAAO,QAAQ,GAAG;gBACvD,IAAI,CAAC,iBAAiB;YAC1B,OACK;gBACD,IAAI,CAAC,MAAM,CAAC,OAAO,QAAQ;YAC/B;QACJ;IACJ;IACA,6BAA6B;QACzB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvB,YAAY;QAChB;QACA,IAAI,CAAC,iBAAiB;QACtB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,UAAU,GAAG;IACtB;IACA,mBAAmB,UAAU,EAAE;QAC3B,IAAI,WAAW,MAAM,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,MAAM,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW,MAAM,CAAC,KAAK,WAAW,MAAM,CAAC,QAAQ,EAAE;YAChI,MAAM,oBAAoB,IAAI,sPAAA,CAAA,WAAQ,CAAC,WAAW,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAE,WAAW,MAAM,CAAC,QAAQ,CAAC,MAAM;YAC/G,IAAI,IAAI,CAAC,cAAc,KAAK,MAAM;gBAC9B,IAAI,gBAAgB;gBACpB,IAAI,WAAW,KAAK,CAAC,QAAQ,EAAE;oBAC3B,MAAM,mBAAmB,IAAI,CAAC,OAAO,CAAC,YAAY;oBAClD,IAAI,kBAAkB;wBAClB,MAAM,EAAE,wBAAwB,EAAE,oBAAoB,EAAE,GAAG;wBAC3D,gBAAgB;4BAAC,IAAI,uPAAA,CAAA,YAAS,CAAC,0BAA0B,sBAAsB,kBAAkB,UAAU,EAAE,kBAAkB,MAAM;yBAAE;oBAC3I;gBACJ,OACK;oBACD,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,MAAM,EAAE,EAAE,GAAG,CAAC,CAAA;wBACrD,IAAI,UAAU,gBAAgB,CAAC,oBAAoB;4BAC/C,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,kBAAkB,UAAU,EAAE,kBAAkB,MAAM,EAAE,kBAAkB,UAAU,EAAE,kBAAkB,MAAM;wBACvI,OACK;4BACD,OAAO;wBACX;oBACJ;gBACJ;gBACA,4HAA4H;gBAC5H,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,iBAAiB,EAAE,EAAE,SAAS,EAAE,+BAA+B;YAC9F,OACK,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,sBAC1C,CAAC,mBAAmB,WAAW,KAAK,KACjC,IAAI,CAAC,gBAAgB,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,GAAG,MAAM,CAAC,sBAAsB,IAAI,CAAC,cAAc,CAAC,gBAAgB,GAAG,MAAM,CAAC,kBAAkB,EAAE,uDAAuD;cACvN;gBACH,IAAI,CAAC,OAAO,CAAC,YAAY;gBACzB,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,sBAAsB,EAAE,EAAE,IAAI,2QAAA,CAAA,qBAAkB,CAAC,IAAI,CAAC,cAAc,EAAE,mBAAmB,mBAAmB,WAAW,KAAK,KAAK,IAAI,CAAC,gBAAgB;gBAClL,IAAI,CAAC,OAAO,CAAC,YAAY;YAC7B;QACJ;QACA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;YACvB,YAAY;QAChB;QACA,IAAI,CAAC,iBAAiB;QACtB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,UAAU,GAAG;IACtB;IAKA,OAAO,QAAQ,EAAE;QACb,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC;YAAC;gBACpB,OAAO,IAAI,mPAAA,CAAA,QAAK,CAAC,SAAS,UAAU,EAAE,SAAS,MAAM,EAAE,SAAS,UAAU,EAAE,SAAS,MAAM;gBAC3F,SAAS,sBAAsB,mBAAmB;YACtD;SAAE;QACN,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,UAAU,EAAE,wBAAwB;IACpE;IACA,oBAAoB;QAChB,IAAI,CAAC,iBAAiB,CAAC,KAAK;IAChC;IACA,YAAY,MAAM,EAAE;QAChB,OAAO,OAAO,IAAI,KAAK,EAAE,gCAAgC,OACrD,OAAO,IAAI,KAAK,EAAE,iCAAiC;IAC3D;IACA,WAAW,MAAM,EAAE;QACf,OAAO,OAAO,IAAI,KAAK,EAAE,uCAAuC,OAC5D,OAAO,IAAI,KAAK,EAAE,uCAAuC,OACzD,OAAO,IAAI,KAAK,EAAE,2CAA2C;IACrE;IACA,UAAU;QACN,IAAI,CAAC,iBAAiB;QACtB,IAAI,CAAC,cAAc,GAAG;QACtB,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,gBAAgB,GAAG;QACxB,KAAK,CAAC;IACV;IAxKA,YAAY,MAAM,CAAE;QAChB,KAAK;QACL,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,2BAA2B;QACjE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAM,IAAI,CAAC,kBAAkB,CAAC;QACvE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAM,IAAI,CAAC,gBAAgB,CAAC;QACnE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAM,IAAI,CAAC,kBAAkB,CAAC;QACvE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAM,IAAI,CAAC,kBAAkB,CAAC;QACvE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAM,IAAI,CAAC,0BAA0B;QACrF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,IAAM,IAAI,CAAC,eAAe,CAAC;QAClE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,IAAM,IAAI,CAAC,aAAa,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAM,IAAI,CAAC,YAAY;QACzE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAM,IAAI,CAAC,YAAY;QACvE,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI,CAAC,cAAc,GAAG;IAC1B;AAyJJ;AA5Ka,sBACK,EAAE,GAAG;AADV,sBAEK,iBAAiB,GAAG,4OAAA,CAAA,cAAW,GAAG,EAAE,eAAe,MAAK,GAAE,gBAAgB;AAF/E,sBA8IK,mBAAmB,GAAG,wPAAA,CAAA,yBAAsB,CAAC,QAAQ,CAAC;IAChE,aAAa;IACb,WAAW;AACf;AA4BJ,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,sBAAsB,EAAE,EAAE,uBAAuB,EAAE,0DAA0D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5797, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/fontZoom/browser/fontZoom.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { EditorZoom } from '../../../common/config/editorZoom.js';\nimport * as nls from '../../../../nls.js';\nclass EditorFontZoomIn extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.fontZoomIn',\n            label: nls.localize('EditorFontZoomIn.label', \"Increase Editor Font Size\"),\n            alias: 'Increase Editor Font Size',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        EditorZoom.setZoomLevel(EditorZoom.getZoomLevel() + 1);\n    }\n}\nclass EditorFontZoomOut extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.fontZoomOut',\n            label: nls.localize('EditorFontZoomOut.label', \"Decrease Editor Font Size\"),\n            alias: 'Decrease Editor Font Size',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        EditorZoom.setZoomLevel(EditorZoom.getZoomLevel() - 1);\n    }\n}\nclass EditorFontZoomReset extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.fontZoomReset',\n            label: nls.localize('EditorFontZoomReset.label', \"Reset Editor Font Size\"),\n            alias: 'Reset Editor Font Size',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        EditorZoom.setZoomLevel(0);\n    }\n}\nregisterEditorAction(EditorFontZoomIn);\nregisterEditorAction(EditorFontZoomOut);\nregisterEditorAction(EditorFontZoomReset);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;AAAA;;;;AACA,MAAM,yBAAyB,uPAAA,CAAA,eAAY;IASvC,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,0PAAA,CAAA,aAAU,CAAC,YAAY,CAAC,0PAAA,CAAA,aAAU,CAAC,YAAY,KAAK;IACxD;IAVA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,0BAA0B;YAC9C,OAAO;YACP,cAAc;QAClB;IACJ;AAIJ;AACA,MAAM,0BAA0B,uPAAA,CAAA,eAAY;IASxC,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,0PAAA,CAAA,aAAU,CAAC,YAAY,CAAC,0PAAA,CAAA,aAAU,CAAC,YAAY,KAAK;IACxD;IAVA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,2BAA2B;YAC/C,OAAO;YACP,cAAc;QAClB;IACJ;AAIJ;AACA,MAAM,4BAA4B,uPAAA,CAAA,eAAY;IAS1C,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,0PAAA,CAAA,aAAU,CAAC,YAAY,CAAC;IAC5B;IAVA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,6BAA6B;YACjD,OAAO;YACP,cAAc;QAClB;IACJ;AAIJ;AACA,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5854, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/browser/outlineModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { equals } from '../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class TreeElement {\n    remove() {\n        this.parent?.children.delete(this.id);\n    }\n    static findId(candidate, container) {\n        // complex id-computation which contains the origin/extension,\n        // the parent path, and some dedupe logic when names collide\n        let candidateId;\n        if (typeof candidate === 'string') {\n            candidateId = `${container.id}/${candidate}`;\n        }\n        else {\n            candidateId = `${container.id}/${candidate.name}`;\n            if (container.children.get(candidateId) !== undefined) {\n                candidateId = `${container.id}/${candidate.name}_${candidate.range.startLineNumber}_${candidate.range.startColumn}`;\n            }\n        }\n        let id = candidateId;\n        for (let i = 0; container.children.get(id) !== undefined; i++) {\n            id = `${candidateId}_${i}`;\n        }\n        return id;\n    }\n    static empty(element) {\n        return element.children.size === 0;\n    }\n}\nexport class OutlineElement extends TreeElement {\n    constructor(id, parent, symbol) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.symbol = symbol;\n        this.children = new Map();\n    }\n}\nexport class OutlineGroup extends TreeElement {\n    constructor(id, parent, label, order) {\n        super();\n        this.id = id;\n        this.parent = parent;\n        this.label = label;\n        this.order = order;\n        this.children = new Map();\n    }\n}\nexport class OutlineModel extends TreeElement {\n    static create(registry, textModel, token) {\n        const cts = new CancellationTokenSource(token);\n        const result = new OutlineModel(textModel.uri);\n        const provider = registry.ordered(textModel);\n        const promises = provider.map((provider, index) => {\n            const id = TreeElement.findId(`provider_${index}`, result);\n            const group = new OutlineGroup(id, result, provider.displayName ?? 'Unknown Outline Provider', index);\n            return Promise.resolve(provider.provideDocumentSymbols(textModel, cts.token)).then(result => {\n                for (const info of result || []) {\n                    OutlineModel._makeOutlineElement(info, group);\n                }\n                return group;\n            }, err => {\n                onUnexpectedExternalError(err);\n                return group;\n            }).then(group => {\n                if (!TreeElement.empty(group)) {\n                    result._groups.set(id, group);\n                }\n                else {\n                    group.remove();\n                }\n            });\n        });\n        const listener = registry.onDidChange(() => {\n            const newProvider = registry.ordered(textModel);\n            if (!equals(newProvider, provider)) {\n                cts.cancel();\n            }\n        });\n        return Promise.all(promises).then(() => {\n            if (cts.token.isCancellationRequested && !token.isCancellationRequested) {\n                return OutlineModel.create(registry, textModel, token);\n            }\n            else {\n                return result._compact();\n            }\n        }).finally(() => {\n            cts.dispose();\n            listener.dispose();\n            cts.dispose();\n        });\n    }\n    static _makeOutlineElement(info, container) {\n        const id = TreeElement.findId(info, container);\n        const res = new OutlineElement(id, container, info);\n        if (info.children) {\n            for (const childInfo of info.children) {\n                OutlineModel._makeOutlineElement(childInfo, res);\n            }\n        }\n        container.children.set(res.id, res);\n    }\n    constructor(uri) {\n        super();\n        this.uri = uri;\n        this.id = 'root';\n        this.parent = undefined;\n        this._groups = new Map();\n        this.children = new Map();\n        this.id = 'root';\n        this.parent = undefined;\n    }\n    _compact() {\n        let count = 0;\n        for (const [key, group] of this._groups) {\n            if (group.children.size === 0) { // empty\n                this._groups.delete(key);\n            }\n            else {\n                count += 1;\n            }\n        }\n        if (count !== 1) {\n            //\n            this.children = this._groups;\n        }\n        else {\n            // adopt all elements of the first group\n            const group = Iterable.first(this._groups.values());\n            for (const [, child] of group.children) {\n                child.parent = this;\n                this.children.set(child.id, child);\n            }\n        }\n        return this;\n    }\n    getTopLevelSymbols() {\n        const roots = [];\n        for (const child of this.children.values()) {\n            if (child instanceof OutlineElement) {\n                roots.push(child.symbol);\n            }\n            else {\n                roots.push(...Iterable.map(child.children.values(), child => child.symbol));\n            }\n        }\n        return roots.sort((a, b) => Range.compareRangesUsingStarts(a.range, b.range));\n    }\n    asListOfDocumentSymbols() {\n        const roots = this.getTopLevelSymbols();\n        const bucket = [];\n        OutlineModel._flattenDocumentSymbols(bucket, roots, '');\n        return bucket.sort((a, b) => Position.compare(Range.getStartPosition(a.range), Range.getStartPosition(b.range)) || Position.compare(Range.getEndPosition(b.range), Range.getEndPosition(a.range)));\n    }\n    static _flattenDocumentSymbols(bucket, entries, overrideContainerLabel) {\n        for (const entry of entries) {\n            bucket.push({\n                kind: entry.kind,\n                tags: entry.tags,\n                name: entry.name,\n                detail: entry.detail,\n                containerName: entry.containerName || overrideContainerLabel,\n                range: entry.range,\n                selectionRange: entry.selectionRange,\n                children: undefined, // we flatten it...\n            });\n            // Recurse over children\n            if (entry.children) {\n                OutlineModel._flattenDocumentSymbols(bucket, entry.children, entry.name);\n            }\n        }\n    }\n}\nexport const IOutlineModelService = createDecorator('IOutlineModelService');\nlet OutlineModelService = class OutlineModelService {\n    constructor(_languageFeaturesService, debounces, modelService) {\n        this._languageFeaturesService = _languageFeaturesService;\n        this._disposables = new DisposableStore();\n        this._cache = new LRUCache(10, 0.7);\n        this._debounceInformation = debounces.for(_languageFeaturesService.documentSymbolProvider, 'DocumentSymbols', { min: 350 });\n        // don't cache outline models longer than their text model\n        this._disposables.add(modelService.onModelRemoved(textModel => {\n            this._cache.delete(textModel.id);\n        }));\n    }\n    dispose() {\n        this._disposables.dispose();\n    }\n    async getOrCreate(textModel, token) {\n        const registry = this._languageFeaturesService.documentSymbolProvider;\n        const provider = registry.ordered(textModel);\n        let data = this._cache.get(textModel.id);\n        if (!data || data.versionId !== textModel.getVersionId() || !equals(data.provider, provider)) {\n            const source = new CancellationTokenSource();\n            data = {\n                versionId: textModel.getVersionId(),\n                provider,\n                promiseCnt: 0,\n                source,\n                promise: OutlineModel.create(registry, textModel, source.token),\n                model: undefined,\n            };\n            this._cache.set(textModel.id, data);\n            const now = Date.now();\n            data.promise.then(outlineModel => {\n                data.model = outlineModel;\n                this._debounceInformation.update(textModel, Date.now() - now);\n            }).catch(_err => {\n                this._cache.delete(textModel.id);\n            });\n        }\n        if (data.model) {\n            // resolved -> return data\n            return data.model;\n        }\n        // increase usage counter\n        data.promiseCnt += 1;\n        const listener = token.onCancellationRequested(() => {\n            // last -> cancel provider request, remove cached promise\n            if (--data.promiseCnt === 0) {\n                data.source.cancel();\n                this._cache.delete(textModel.id);\n            }\n        });\n        try {\n            return await data.promise;\n        }\n        finally {\n            listener.dispose();\n        }\n    }\n};\nOutlineModelService = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, ILanguageFeatureDebounceService),\n    __param(2, IModelService)\n], OutlineModelService);\nexport { OutlineModelService };\nregisterSingleton(IOutlineModelService, OutlineModelService, 1 /* InstantiationType.Delayed */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6140, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/documentSymbols/browser/documentSymbols.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { IOutlineModelService } from './outlineModel.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nCommandsRegistry.registerCommand('_executeDocumentSymbolProvider', async function (accessor, ...args) {\n    const [resource] = args;\n    assertType(URI.isUri(resource));\n    const outlineService = accessor.get(IOutlineModelService);\n    const modelService = accessor.get(ITextModelService);\n    const reference = await modelService.createModelReference(resource);\n    try {\n        return (await outlineService.getOrCreate(reference.object.textEditorModel, CancellationToken.None)).getTopLevelSymbols();\n    }\n    finally {\n        reference.dispose();\n    }\n});\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;AACA;AACA;AACA;;;;;;;AACA,4PAAA,CAAA,mBAAgB,CAAC,eAAe,CAAC,kCAAkC,eAAgB,QAAQ;IAAE,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,OAAH,UAAA,OAAA,IAAA,OAAA,QAAA,OAAA,GAAA,OAAA,MAAA;QAAG,KAAH,OAAA,KAAA,SAAA,CAAA,KAAO;;IAChG,MAAM,CAAC,SAAS,GAAG;IACnB,CAAA,GAAA,yOAAA,CAAA,aAAU,AAAD,EAAE,uOAAA,CAAA,MAAG,CAAC,KAAK,CAAC;IACrB,MAAM,iBAAiB,SAAS,GAAG,CAAC,iRAAA,CAAA,uBAAoB;IACxD,MAAM,eAAe,SAAS,GAAG,CAAC,iQAAA,CAAA,oBAAiB;IACnD,MAAM,YAAY,MAAM,aAAa,oBAAoB,CAAC;IAC1D,IAAI;QACA,OAAO,CAAC,MAAM,eAAe,WAAW,CAAC,UAAU,MAAM,CAAC,eAAe,EAAE,gPAAA,CAAA,oBAAiB,CAAC,IAAI,CAAC,EAAE,kBAAkB;IAC1H,SACQ;QACJ,UAAU,OAAO;IACrB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6175, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/browser/bracketSelections.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nexport class BracketSelectionRangeProvider {\n    async provideSelectionRanges(model, positions) {\n        const result = [];\n        for (const position of positions) {\n            const bucket = [];\n            result.push(bucket);\n            const ranges = new Map();\n            await new Promise(resolve => BracketSelectionRangeProvider._bracketsRightYield(resolve, 0, model, position, ranges));\n            await new Promise(resolve => BracketSelectionRangeProvider._bracketsLeftYield(resolve, 0, model, position, ranges, bucket));\n        }\n        return result;\n    }\n    static { this._maxDuration = 30; }\n    static { this._maxRounds = 2; }\n    static _bracketsRightYield(resolve, round, model, pos, ranges) {\n        const counts = new Map();\n        const t1 = Date.now();\n        while (true) {\n            if (round >= BracketSelectionRangeProvider._maxRounds) {\n                resolve();\n                break;\n            }\n            if (!pos) {\n                resolve();\n                break;\n            }\n            const bracket = model.bracketPairs.findNextBracket(pos);\n            if (!bracket) {\n                resolve();\n                break;\n            }\n            const d = Date.now() - t1;\n            if (d > BracketSelectionRangeProvider._maxDuration) {\n                setTimeout(() => BracketSelectionRangeProvider._bracketsRightYield(resolve, round + 1, model, pos, ranges));\n                break;\n            }\n            if (bracket.bracketInfo.isOpeningBracket) {\n                const key = bracket.bracketInfo.bracketText;\n                // wait for closing\n                const val = counts.has(key) ? counts.get(key) : 0;\n                counts.set(key, val + 1);\n            }\n            else {\n                const key = bracket.bracketInfo.getOpeningBrackets()[0].bracketText;\n                // process closing\n                let val = counts.has(key) ? counts.get(key) : 0;\n                val -= 1;\n                counts.set(key, Math.max(0, val));\n                if (val < 0) {\n                    let list = ranges.get(key);\n                    if (!list) {\n                        list = new LinkedList();\n                        ranges.set(key, list);\n                    }\n                    list.push(bracket.range);\n                }\n            }\n            pos = bracket.range.getEndPosition();\n        }\n    }\n    static _bracketsLeftYield(resolve, round, model, pos, ranges, bucket) {\n        const counts = new Map();\n        const t1 = Date.now();\n        while (true) {\n            if (round >= BracketSelectionRangeProvider._maxRounds && ranges.size === 0) {\n                resolve();\n                break;\n            }\n            if (!pos) {\n                resolve();\n                break;\n            }\n            const bracket = model.bracketPairs.findPrevBracket(pos);\n            if (!bracket) {\n                resolve();\n                break;\n            }\n            const d = Date.now() - t1;\n            if (d > BracketSelectionRangeProvider._maxDuration) {\n                setTimeout(() => BracketSelectionRangeProvider._bracketsLeftYield(resolve, round + 1, model, pos, ranges, bucket));\n                break;\n            }\n            if (!bracket.bracketInfo.isOpeningBracket) {\n                const key = bracket.bracketInfo.getOpeningBrackets()[0].bracketText;\n                // wait for opening\n                const val = counts.has(key) ? counts.get(key) : 0;\n                counts.set(key, val + 1);\n            }\n            else {\n                const key = bracket.bracketInfo.bracketText;\n                // opening\n                let val = counts.has(key) ? counts.get(key) : 0;\n                val -= 1;\n                counts.set(key, Math.max(0, val));\n                if (val < 0) {\n                    const list = ranges.get(key);\n                    if (list) {\n                        const closing = list.shift();\n                        if (list.size === 0) {\n                            ranges.delete(key);\n                        }\n                        const innerBracket = Range.fromPositions(bracket.range.getEndPosition(), closing.getStartPosition());\n                        const outerBracket = Range.fromPositions(bracket.range.getStartPosition(), closing.getEndPosition());\n                        bucket.push({ range: innerBracket });\n                        bucket.push({ range: outerBracket });\n                        BracketSelectionRangeProvider._addBracketLeading(model, outerBracket, bucket);\n                    }\n                }\n            }\n            pos = bracket.range.getStartPosition();\n        }\n    }\n    static _addBracketLeading(model, bracket, bucket) {\n        if (bracket.startLineNumber === bracket.endLineNumber) {\n            return;\n        }\n        // xxxxxxxx {\n        //\n        // }\n        const startLine = bracket.startLineNumber;\n        const column = model.getLineFirstNonWhitespaceColumn(startLine);\n        if (column !== 0 && column !== bracket.startColumn) {\n            bucket.push({ range: Range.fromPositions(new Position(startLine, column), bracket.getEndPosition()) });\n            bucket.push({ range: Range.fromPositions(new Position(startLine, 1), bracket.getEndPosition()) });\n        }\n        // xxxxxxxx\n        // {\n        //\n        // }\n        const aboveLine = startLine - 1;\n        if (aboveLine > 0) {\n            const column = model.getLineFirstNonWhitespaceColumn(aboveLine);\n            if (column === bracket.startColumn && column !== model.getLineLastNonWhitespaceColumn(aboveLine)) {\n                bucket.push({ range: Range.fromPositions(new Position(aboveLine, column), bracket.getEndPosition()) });\n                bucket.push({ range: Range.fromPositions(new Position(aboveLine, 1), bracket.getEndPosition()) });\n            }\n        }\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;;;;AACO,MAAM;IACT,MAAM,uBAAuB,KAAK,EAAE,SAAS,EAAE;QAC3C,MAAM,SAAS,EAAE;QACjB,KAAK,MAAM,YAAY,UAAW;YAC9B,MAAM,SAAS,EAAE;YACjB,OAAO,IAAI,CAAC;YACZ,MAAM,SAAS,IAAI;YACnB,MAAM,IAAI,QAAQ,CAAA,UAAW,8BAA8B,mBAAmB,CAAC,SAAS,GAAG,OAAO,UAAU;YAC5G,MAAM,IAAI,QAAQ,CAAA,UAAW,8BAA8B,kBAAkB,CAAC,SAAS,GAAG,OAAO,UAAU,QAAQ;QACvH;QACA,OAAO;IACX;IAGA,OAAO,oBAAoB,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE;QAC3D,MAAM,SAAS,IAAI;QACnB,MAAM,KAAK,KAAK,GAAG;QACnB,MAAO,KAAM;YACT,IAAI,SAAS,8BAA8B,UAAU,EAAE;gBACnD;gBACA;YACJ;YACA,IAAI,CAAC,KAAK;gBACN;gBACA;YACJ;YACA,MAAM,UAAU,MAAM,YAAY,CAAC,eAAe,CAAC;YACnD,IAAI,CAAC,SAAS;gBACV;gBACA;YACJ;YACA,MAAM,IAAI,KAAK,GAAG,KAAK;YACvB,IAAI,IAAI,8BAA8B,YAAY,EAAE;gBAChD,WAAW,IAAM,8BAA8B,mBAAmB,CAAC,SAAS,QAAQ,GAAG,OAAO,KAAK;gBACnG;YACJ;YACA,IAAI,QAAQ,WAAW,CAAC,gBAAgB,EAAE;gBACtC,MAAM,MAAM,QAAQ,WAAW,CAAC,WAAW;gBAC3C,mBAAmB;gBACnB,MAAM,MAAM,OAAO,GAAG,CAAC,OAAO,OAAO,GAAG,CAAC,OAAO;gBAChD,OAAO,GAAG,CAAC,KAAK,MAAM;YAC1B,OACK;gBACD,MAAM,MAAM,QAAQ,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,WAAW;gBACnE,kBAAkB;gBAClB,IAAI,MAAM,OAAO,GAAG,CAAC,OAAO,OAAO,GAAG,CAAC,OAAO;gBAC9C,OAAO;gBACP,OAAO,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG;gBAC5B,IAAI,MAAM,GAAG;oBACT,IAAI,OAAO,OAAO,GAAG,CAAC;oBACtB,IAAI,CAAC,MAAM;wBACP,OAAO,IAAI,8OAAA,CAAA,aAAU;wBACrB,OAAO,GAAG,CAAC,KAAK;oBACpB;oBACA,KAAK,IAAI,CAAC,QAAQ,KAAK;gBAC3B;YACJ;YACA,MAAM,QAAQ,KAAK,CAAC,cAAc;QACtC;IACJ;IACA,OAAO,mBAAmB,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE;QAClE,MAAM,SAAS,IAAI;QACnB,MAAM,KAAK,KAAK,GAAG;QACnB,MAAO,KAAM;YACT,IAAI,SAAS,8BAA8B,UAAU,IAAI,OAAO,IAAI,KAAK,GAAG;gBACxE;gBACA;YACJ;YACA,IAAI,CAAC,KAAK;gBACN;gBACA;YACJ;YACA,MAAM,UAAU,MAAM,YAAY,CAAC,eAAe,CAAC;YACnD,IAAI,CAAC,SAAS;gBACV;gBACA;YACJ;YACA,MAAM,IAAI,KAAK,GAAG,KAAK;YACvB,IAAI,IAAI,8BAA8B,YAAY,EAAE;gBAChD,WAAW,IAAM,8BAA8B,kBAAkB,CAAC,SAAS,QAAQ,GAAG,OAAO,KAAK,QAAQ;gBAC1G;YACJ;YACA,IAAI,CAAC,QAAQ,WAAW,CAAC,gBAAgB,EAAE;gBACvC,MAAM,MAAM,QAAQ,WAAW,CAAC,kBAAkB,EAAE,CAAC,EAAE,CAAC,WAAW;gBACnE,mBAAmB;gBACnB,MAAM,MAAM,OAAO,GAAG,CAAC,OAAO,OAAO,GAAG,CAAC,OAAO;gBAChD,OAAO,GAAG,CAAC,KAAK,MAAM;YAC1B,OACK;gBACD,MAAM,MAAM,QAAQ,WAAW,CAAC,WAAW;gBAC3C,UAAU;gBACV,IAAI,MAAM,OAAO,GAAG,CAAC,OAAO,OAAO,GAAG,CAAC,OAAO;gBAC9C,OAAO;gBACP,OAAO,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG;gBAC5B,IAAI,MAAM,GAAG;oBACT,MAAM,OAAO,OAAO,GAAG,CAAC;oBACxB,IAAI,MAAM;wBACN,MAAM,UAAU,KAAK,KAAK;wBAC1B,IAAI,KAAK,IAAI,KAAK,GAAG;4BACjB,OAAO,MAAM,CAAC;wBAClB;wBACA,MAAM,eAAe,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,QAAQ,KAAK,CAAC,cAAc,IAAI,QAAQ,gBAAgB;wBACjG,MAAM,eAAe,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,QAAQ,KAAK,CAAC,gBAAgB,IAAI,QAAQ,cAAc;wBACjG,OAAO,IAAI,CAAC;4BAAE,OAAO;wBAAa;wBAClC,OAAO,IAAI,CAAC;4BAAE,OAAO;wBAAa;wBAClC,8BAA8B,kBAAkB,CAAC,OAAO,cAAc;oBAC1E;gBACJ;YACJ;YACA,MAAM,QAAQ,KAAK,CAAC,gBAAgB;QACxC;IACJ;IACA,OAAO,mBAAmB,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE;QAC9C,IAAI,QAAQ,eAAe,KAAK,QAAQ,aAAa,EAAE;YACnD;QACJ;QACA,aAAa;QACb,EAAE;QACF,IAAI;QACJ,MAAM,YAAY,QAAQ,eAAe;QACzC,MAAM,SAAS,MAAM,+BAA+B,CAAC;QACrD,IAAI,WAAW,KAAK,WAAW,QAAQ,WAAW,EAAE;YAChD,OAAO,IAAI,CAAC;gBAAE,OAAO,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,IAAI,sPAAA,CAAA,WAAQ,CAAC,WAAW,SAAS,QAAQ,cAAc;YAAI;YACpG,OAAO,IAAI,CAAC;gBAAE,OAAO,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,IAAI,sPAAA,CAAA,WAAQ,CAAC,WAAW,IAAI,QAAQ,cAAc;YAAI;QACnG;QACA,WAAW;QACX,IAAI;QACJ,EAAE;QACF,IAAI;QACJ,MAAM,YAAY,YAAY;QAC9B,IAAI,YAAY,GAAG;YACf,MAAM,SAAS,MAAM,+BAA+B,CAAC;YACrD,IAAI,WAAW,QAAQ,WAAW,IAAI,WAAW,MAAM,8BAA8B,CAAC,YAAY;gBAC9F,OAAO,IAAI,CAAC;oBAAE,OAAO,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,IAAI,sPAAA,CAAA,WAAQ,CAAC,WAAW,SAAS,QAAQ,cAAc;gBAAI;gBACpG,OAAO,IAAI,CAAC;oBAAE,OAAO,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,IAAI,sPAAA,CAAA,WAAQ,CAAC,WAAW,IAAI,QAAQ,cAAc;gBAAI;YACnG;QACJ;IACJ;AACJ;AA1Ia,8BAYK,YAAY,GAAG;AAZpB,8BAaK,UAAU,GAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6340, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/browser/wordSelections.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { isLowerAsciiLetter, isUpperAsciiLetter } from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nexport class WordSelectionRangeProvider {\n    constructor(selectSubwords = true) {\n        this.selectSubwords = selectSubwords;\n    }\n    provideSelectionRanges(model, positions) {\n        const result = [];\n        for (const position of positions) {\n            const bucket = [];\n            result.push(bucket);\n            if (this.selectSubwords) {\n                this._addInWordRanges(bucket, model, position);\n            }\n            this._addWordRanges(bucket, model, position);\n            this._addWhitespaceLine(bucket, model, position);\n            bucket.push({ range: model.getFullModelRange() });\n        }\n        return result;\n    }\n    _addInWordRanges(bucket, model, pos) {\n        const obj = model.getWordAtPosition(pos);\n        if (!obj) {\n            return;\n        }\n        const { word, startColumn } = obj;\n        const offset = pos.column - startColumn;\n        let start = offset;\n        let end = offset;\n        let lastCh = 0;\n        // LEFT anchor (start)\n        for (; start >= 0; start--) {\n            const ch = word.charCodeAt(start);\n            if ((start !== offset) && (ch === 95 /* CharCode.Underline */ || ch === 45 /* CharCode.Dash */)) {\n                // foo-bar OR foo_bar\n                break;\n            }\n            else if (isLowerAsciiLetter(ch) && isUpperAsciiLetter(lastCh)) {\n                // fooBar\n                break;\n            }\n            lastCh = ch;\n        }\n        start += 1;\n        // RIGHT anchor (end)\n        for (; end < word.length; end++) {\n            const ch = word.charCodeAt(end);\n            if (isUpperAsciiLetter(ch) && isLowerAsciiLetter(lastCh)) {\n                // fooBar\n                break;\n            }\n            else if (ch === 95 /* CharCode.Underline */ || ch === 45 /* CharCode.Dash */) {\n                // foo-bar OR foo_bar\n                break;\n            }\n            lastCh = ch;\n        }\n        if (start < end) {\n            bucket.push({ range: new Range(pos.lineNumber, startColumn + start, pos.lineNumber, startColumn + end) });\n        }\n    }\n    _addWordRanges(bucket, model, pos) {\n        const word = model.getWordAtPosition(pos);\n        if (word) {\n            bucket.push({ range: new Range(pos.lineNumber, word.startColumn, pos.lineNumber, word.endColumn) });\n        }\n    }\n    _addWhitespaceLine(bucket, model, pos) {\n        if (model.getLineLength(pos.lineNumber) > 0\n            && model.getLineFirstNonWhitespaceColumn(pos.lineNumber) === 0\n            && model.getLineLastNonWhitespaceColumn(pos.lineNumber) === 0) {\n            bucket.push({ range: new Range(pos.lineNumber, 1, pos.lineNumber, model.getLineMaxColumn(pos.lineNumber)) });\n        }\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;;;AACO,MAAM;IAIT,uBAAuB,KAAK,EAAE,SAAS,EAAE;QACrC,MAAM,SAAS,EAAE;QACjB,KAAK,MAAM,YAAY,UAAW;YAC9B,MAAM,SAAS,EAAE;YACjB,OAAO,IAAI,CAAC;YACZ,IAAI,IAAI,CAAC,cAAc,EAAE;gBACrB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,OAAO;YACzC;YACA,IAAI,CAAC,cAAc,CAAC,QAAQ,OAAO;YACnC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,OAAO;YACvC,OAAO,IAAI,CAAC;gBAAE,OAAO,MAAM,iBAAiB;YAAG;QACnD;QACA,OAAO;IACX;IACA,iBAAiB,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;QACjC,MAAM,MAAM,MAAM,iBAAiB,CAAC;QACpC,IAAI,CAAC,KAAK;YACN;QACJ;QACA,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG;QAC9B,MAAM,SAAS,IAAI,MAAM,GAAG;QAC5B,IAAI,QAAQ;QACZ,IAAI,MAAM;QACV,IAAI,SAAS;QACb,sBAAsB;QACtB,MAAO,SAAS,GAAG,QAAS;YACxB,MAAM,KAAK,KAAK,UAAU,CAAC;YAC3B,IAAI,AAAC,UAAU,UAAW,CAAC,OAAO,GAAG,sBAAsB,OAAM,OAAO,GAAG,iBAAiB,GAAE,GAAG;gBAE7F;YACJ,OACK,IAAI,CAAA,GAAA,2OAAA,CAAA,qBAAkB,AAAD,EAAE,OAAO,CAAA,GAAA,2OAAA,CAAA,qBAAkB,AAAD,EAAE,SAAS;gBAE3D;YACJ;YACA,SAAS;QACb;QACA,SAAS;QACT,qBAAqB;QACrB,MAAO,MAAM,KAAK,MAAM,EAAE,MAAO;YAC7B,MAAM,KAAK,KAAK,UAAU,CAAC;YAC3B,IAAI,CAAA,GAAA,2OAAA,CAAA,qBAAkB,AAAD,EAAE,OAAO,CAAA,GAAA,2OAAA,CAAA,qBAAkB,AAAD,EAAE,SAAS;gBAEtD;YACJ,OACK,IAAI,OAAO,GAAG,sBAAsB,OAAM,OAAO,GAAG,iBAAiB,KAAI;gBAE1E;YACJ;YACA,SAAS;QACb;QACA,IAAI,QAAQ,KAAK;YACb,OAAO,IAAI,CAAC;gBAAE,OAAO,IAAI,mPAAA,CAAA,QAAK,CAAC,IAAI,UAAU,EAAE,cAAc,OAAO,IAAI,UAAU,EAAE,cAAc;YAAK;QAC3G;IACJ;IACA,eAAe,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;QAC/B,MAAM,OAAO,MAAM,iBAAiB,CAAC;QACrC,IAAI,MAAM;YACN,OAAO,IAAI,CAAC;gBAAE,OAAO,IAAI,mPAAA,CAAA,QAAK,CAAC,IAAI,UAAU,EAAE,KAAK,WAAW,EAAE,IAAI,UAAU,EAAE,KAAK,SAAS;YAAE;QACrG;IACJ;IACA,mBAAmB,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE;QACnC,IAAI,MAAM,aAAa,CAAC,IAAI,UAAU,IAAI,KACnC,MAAM,+BAA+B,CAAC,IAAI,UAAU,MAAM,KAC1D,MAAM,8BAA8B,CAAC,IAAI,UAAU,MAAM,GAAG;YAC/D,OAAO,IAAI,CAAC;gBAAE,OAAO,IAAI,mPAAA,CAAA,QAAK,CAAC,IAAI,UAAU,EAAE,GAAG,IAAI,UAAU,EAAE,MAAM,gBAAgB,CAAC,IAAI,UAAU;YAAG;QAC9G;IACJ;IAtEA,YAAY,iBAAiB,IAAI,CAAE;QAC/B,IAAI,CAAC,cAAc,GAAG;IAC1B;AAqEJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6427, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/browser/smartSelect.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SmartSelectController_1;\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\nimport { WordSelectionRangeProvider } from './wordSelections.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nclass SelectionRanges {\n    constructor(index, ranges) {\n        this.index = index;\n        this.ranges = ranges;\n    }\n    mov(fwd) {\n        const index = this.index + (fwd ? 1 : -1);\n        if (index < 0 || index >= this.ranges.length) {\n            return this;\n        }\n        const res = new SelectionRanges(index, this.ranges);\n        if (res.ranges[index].equalsRange(this.ranges[this.index])) {\n            // next range equals this range, retry with next-next\n            return res.mov(fwd);\n        }\n        return res;\n    }\n}\nlet SmartSelectController = class SmartSelectController {\n    static { SmartSelectController_1 = this; }\n    static { this.ID = 'editor.contrib.smartSelectController'; }\n    static get(editor) {\n        return editor.getContribution(SmartSelectController_1.ID);\n    }\n    constructor(_editor, _languageFeaturesService) {\n        this._editor = _editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._ignoreSelection = false;\n    }\n    dispose() {\n        this._selectionListener?.dispose();\n    }\n    async run(forward) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const selections = this._editor.getSelections();\n        const model = this._editor.getModel();\n        if (!this._state) {\n            await provideSelectionRanges(this._languageFeaturesService.selectionRangeProvider, model, selections.map(s => s.getPosition()), this._editor.getOption(114 /* EditorOption.smartSelect */), CancellationToken.None).then(ranges => {\n                if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\n                    // invalid result\n                    return;\n                }\n                if (!this._editor.hasModel() || !arrays.equals(this._editor.getSelections(), selections, (a, b) => a.equalsSelection(b))) {\n                    // invalid editor state\n                    return;\n                }\n                for (let i = 0; i < ranges.length; i++) {\n                    ranges[i] = ranges[i].filter(range => {\n                        // filter ranges inside the selection\n                        return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\n                    });\n                    // prepend current selection\n                    ranges[i].unshift(selections[i]);\n                }\n                this._state = ranges.map(ranges => new SelectionRanges(0, ranges));\n                // listen to caret move and forget about state\n                this._selectionListener?.dispose();\n                this._selectionListener = this._editor.onDidChangeCursorPosition(() => {\n                    if (!this._ignoreSelection) {\n                        this._selectionListener?.dispose();\n                        this._state = undefined;\n                    }\n                });\n            });\n        }\n        if (!this._state) {\n            // no state\n            return;\n        }\n        this._state = this._state.map(state => state.mov(forward));\n        const newSelections = this._state.map(state => Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()));\n        this._ignoreSelection = true;\n        try {\n            this._editor.setSelections(newSelections);\n        }\n        finally {\n            this._ignoreSelection = false;\n        }\n    }\n};\nSmartSelectController = SmartSelectController_1 = __decorate([\n    __param(1, ILanguageFeaturesService)\n], SmartSelectController);\nexport { SmartSelectController };\nclass AbstractSmartSelect extends EditorAction {\n    constructor(forward, opts) {\n        super(opts);\n        this._forward = forward;\n    }\n    async run(_accessor, editor) {\n        const controller = SmartSelectController.get(editor);\n        if (controller) {\n            await controller.run(this._forward);\n        }\n    }\n}\nclass GrowSelectionAction extends AbstractSmartSelect {\n    constructor() {\n        super(true, {\n            id: 'editor.action.smartSelect.expand',\n            label: nls.localize('smartSelect.expand', \"Expand Selection\"),\n            alias: 'Expand Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                    secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */],\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '1_basic',\n                title: nls.localize({ key: 'miSmartSelectGrow', comment: ['&& denotes a mnemonic'] }, \"&&Expand Selection\"),\n                order: 2\n            }\n        });\n    }\n}\n// renamed command id\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\nclass ShrinkSelectionAction extends AbstractSmartSelect {\n    constructor() {\n        super(false, {\n            id: 'editor.action.smartSelect.shrink',\n            label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\n            alias: 'Shrink Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                    secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */],\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '1_basic',\n                title: nls.localize({ key: 'miSmartSelectShrink', comment: ['&& denotes a mnemonic'] }, \"&&Shrink Selection\"),\n                order: 3\n            }\n        });\n    }\n}\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(GrowSelectionAction);\nregisterEditorAction(ShrinkSelectionAction);\nexport async function provideSelectionRanges(registry, model, positions, options, token) {\n    const providers = registry.all(model)\n        .concat(new WordSelectionRangeProvider(options.selectSubwords)); // ALWAYS have word based selection range\n    if (providers.length === 1) {\n        // add word selection and bracket selection when no provider exists\n        providers.unshift(new BracketSelectionRangeProvider());\n    }\n    const work = [];\n    const allRawRanges = [];\n    for (const provider of providers) {\n        work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(allProviderRanges => {\n            if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\n                for (let i = 0; i < positions.length; i++) {\n                    if (!allRawRanges[i]) {\n                        allRawRanges[i] = [];\n                    }\n                    for (const oneProviderRanges of allProviderRanges[i]) {\n                        if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\n                            allRawRanges[i].push(Range.lift(oneProviderRanges.range));\n                        }\n                    }\n                }\n            }\n        }, onUnexpectedExternalError));\n    }\n    await Promise.all(work);\n    return allRawRanges.map(oneRawRanges => {\n        if (oneRawRanges.length === 0) {\n            return [];\n        }\n        // sort all by start/end position\n        oneRawRanges.sort((a, b) => {\n            if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\n                return 1;\n            }\n            else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\n                return -1;\n            }\n            else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\n                return -1;\n            }\n            else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        });\n        // remove ranges that don't contain the former range or that are equal to the\n        // former range\n        const oneRanges = [];\n        let last;\n        for (const range of oneRawRanges) {\n            if (!last || (Range.containsRange(range, last) && !Range.equalsRange(range, last))) {\n                oneRanges.push(range);\n                last = range;\n            }\n        }\n        if (!options.selectLeadingAndTrailingWhitespace) {\n            return oneRanges;\n        }\n        // add ranges that expand trivia at line starts and ends whenever a range\n        // wraps onto the a new line\n        const oneRangesWithTrivia = [oneRanges[0]];\n        for (let i = 1; i < oneRanges.length; i++) {\n            const prev = oneRanges[i - 1];\n            const cur = oneRanges[i];\n            if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\n                // add line/block range without leading/failing whitespace\n                const rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\n                if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\n                    oneRangesWithTrivia.push(rangeNoWhitespace);\n                }\n                // add line/block range\n                const rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\n                if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\n                    oneRangesWithTrivia.push(rangeFull);\n                }\n            }\n            oneRangesWithTrivia.push(cur);\n        }\n        return oneRangesWithTrivia;\n    });\n}\nCommandsRegistry.registerCommand('_executeSelectionRangeProvider', async function (accessor, ...args) {\n    const [resource, positions] = args;\n    assertType(URI.isUri(resource));\n    const registry = accessor.get(ILanguageFeaturesService).selectionRangeProvider;\n    const reference = await accessor.get(ITextModelService).createModelReference(resource);\n    try {\n        return provideSelectionRanges(registry, reference.object.textEditorModel, positions, { selectLeadingAndTrailingWhitespace: true, selectSubwords: true }, CancellationToken.None);\n    }\n    finally {\n        reference.dispose();\n    }\n});\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AAW9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AA1BA,IAAI,aAAa,4CAAS,yCAAK,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACjF,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,4CAAS,yCAAK,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IACnE,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;AACA,IAAI;;;;;;;;;;;;;;;;;;AAkBJ,MAAM;IAKF,IAAI,GAAG,EAAE;QACL,MAAM,QAAQ,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC;QACxC,IAAI,QAAQ,KAAK,SAAS,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YAC1C,OAAO,IAAI;QACf;QACA,MAAM,MAAM,IAAI,gBAAgB,OAAO,IAAI,CAAC,MAAM;QAClD,IAAI,IAAI,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG;YACxD,qDAAqD;YACrD,OAAO,IAAI,GAAG,CAAC;QACnB;QACA,OAAO;IACX;IAfA,YAAY,KAAK,EAAE,MAAM,CAAE;QACvB,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,MAAM,GAAG;IAClB;AAaJ;AACA,IAAI,kDAAwB,MAAM;IAG9B,OAAO,IAAI,MAAM,EAAE;QACf,OAAO,OAAO,eAAe,CAAC,wBAAwB,EAAE;IAC5D;IAMA,UAAU;YACN;SAAA,2BAAA,IAAI,CAAC,kBAAkB,cAAvB,+CAAA,yBAAyB,OAAO;IACpC;IACA,MAAM,IAAI,OAAO,EAAE;QACf,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;YAC1B;QACJ;QACA,MAAM,aAAa,IAAI,CAAC,OAAO,CAAC,aAAa;QAC7C,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,MAAM,uBAAuB,IAAI,CAAC,wBAAwB,CAAC,sBAAsB,EAAE,OAAO,WAAW,GAAG,CAAC,CAAA,IAAK,EAAE,WAAW,KAAK,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,4BAA4B,MAAK,gPAAA,CAAA,oBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;oBAkBrN,8CAA8C;gBAC9C;gBAlBA,IAAI,CAAC,0OAAA,CAAA,kBAAsB,CAAC,WAAW,OAAO,MAAM,KAAK,WAAW,MAAM,EAAE;oBACxE,iBAAiB;oBACjB;gBACJ;gBACA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,MAAM,CAAC,0OAAA,CAAA,SAAa,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,IAAI,YAAY,CAAC,GAAG,IAAM,EAAE,eAAe,CAAC,KAAK;oBACtH,uBAAuB;oBACvB;gBACJ;gBACA,IAAK,IAAI,IAAI,GAAG,IAAI,OAAO,MAAM,EAAE,IAAK;oBACpC,MAAM,CAAC,EAAE,GAAG,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAA;wBACzB,qCAAqC;wBACrC,OAAO,MAAM,gBAAgB,CAAC,UAAU,CAAC,EAAE,CAAC,gBAAgB,OAAO,MAAM,gBAAgB,CAAC,UAAU,CAAC,EAAE,CAAC,cAAc;oBAC1H;oBACA,4BAA4B;oBAC5B,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;gBACnC;gBACA,IAAI,CAAC,MAAM,GAAG,OAAO,GAAG,CAAC,CAAA,SAAU,IAAI,gBAAgB,GAAG;iBAE1D,2BAAA,IAAI,CAAC,kBAAkB,cAAvB,+CAAA,yBAAyB,OAAO;gBAChC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC;oBAC7D,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE;4BACxB;yBAAA,2BAAA,IAAI,CAAC,kBAAkB,cAAvB,+CAAA,yBAAyB,OAAO;wBAChC,IAAI,CAAC,MAAM,GAAG;oBAClB;gBACJ;YACJ;QACJ;QACA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACd,WAAW;YACX;QACJ;QACA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA,QAAS,MAAM,GAAG,CAAC;QACjD,MAAM,gBAAgB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA,QAAS,uPAAA,CAAA,YAAS,CAAC,aAAa,CAAC,MAAM,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,gBAAgB,IAAI,MAAM,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,cAAc;QAC7J,IAAI,CAAC,gBAAgB,GAAG;QACxB,IAAI;YACA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;QAC/B,SACQ;YACJ,IAAI,CAAC,gBAAgB,GAAG;QAC5B;IACJ;IAxDA,YAAY,OAAO,EAAE,wBAAwB,CAAE;QAC3C,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,wBAAwB,GAAG;QAChC,IAAI,CAAC,gBAAgB,GAAG;IAC5B;AAqDJ,GA9Da,kDACA,uBAAK,EAAE,GAAG;AA8DvB,wBAAwB,0BAA0B,WAAW;IACzD,QAAQ,GAAG,kQAAA,CAAA,2BAAwB;CACtC,EAAE;;AAEH,MAAM,4BAA4B,uPAAA,CAAA,eAAY;IAK1C,MAAM,IAAI,SAAS,EAAE,MAAM,EAAE;QACzB,MAAM,aAAa,sBAAsB,GAAG,CAAC;QAC7C,IAAI,YAAY;YACZ,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,QAAQ;QACtC;IACJ;IATA,YAAY,OAAO,EAAE,IAAI,CAAE;QACvB,KAAK,CAAC;QACN,IAAI,CAAC,QAAQ,GAAG;IACpB;AAOJ;AACA,MAAM,4BAA4B;IAC9B,aAAc;QACV,KAAK,CAAC,MAAM;YACR,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,sBAAsB;YAC1C,OAAO;YACP,cAAc;YACd,QAAQ;gBACJ,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,eAAe;gBACzC,SAAS,KAAK,gBAAgB,MAAK,IAAI,cAAc,MAAK,GAAG,sBAAsB;gBACnF,KAAK;oBACD,SAAS,KAAK,kBAAkB,MAAK,IAAI,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,sBAAsB;oBACnH,WAAW;wBAAC,IAAI,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,sBAAsB;qBAAG;gBACjG;gBACA,QAAQ,IAAI,kCAAkC;YAClD;YACA,UAAU;gBACN,QAAQ,0PAAA,CAAA,SAAM,CAAC,oBAAoB;gBACnC,OAAO;gBACP,OAAO,qOAAA,CAAA,WAAY,CAAC;oBAAE,KAAK;oBAAqB,SAAS;wBAAC;qBAAwB;gBAAC,GAAG;gBACtF,OAAO;YACX;QACJ;IACJ;AACJ;AACA,qBAAqB;AACrB,4PAAA,CAAA,mBAAgB,CAAC,oBAAoB,CAAC,kCAAkC;AACxE,MAAM,8BAA8B;IAChC,aAAc;QACV,KAAK,CAAC,OAAO;YACT,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,sBAAsB;YAC1C,OAAO;YACP,cAAc;YACd,QAAQ;gBACJ,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,eAAe;gBACzC,SAAS,KAAK,gBAAgB,MAAK,IAAI,cAAc,MAAK,GAAG,qBAAqB;gBAClF,KAAK;oBACD,SAAS,KAAK,kBAAkB,MAAK,IAAI,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,qBAAqB;oBAClH,WAAW;wBAAC,IAAI,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,qBAAqB;qBAAG;gBAChG;gBACA,QAAQ,IAAI,kCAAkC;YAClD;YACA,UAAU;gBACN,QAAQ,0PAAA,CAAA,SAAM,CAAC,oBAAoB;gBACnC,OAAO;gBACP,OAAO,qOAAA,CAAA,WAAY,CAAC;oBAAE,KAAK;oBAAuB,SAAS;wBAAC;qBAAwB;gBAAC,GAAG;gBACxF,OAAO;YACX;QACJ;IACJ;AACJ;AACA,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,sBAAsB,EAAE,EAAE,uBAAuB,EAAE,wCAAwC;AACtH,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACd,eAAe,uBAAuB,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK;IACnF,MAAM,YAAY,SAAS,GAAG,CAAC,OAC1B,MAAM,CAAC,IAAI,+QAAA,CAAA,6BAA0B,CAAC,QAAQ,cAAc,IAAI,yCAAyC;IAC9G,IAAI,UAAU,MAAM,KAAK,GAAG;QACxB,mEAAmE;QACnE,UAAU,OAAO,CAAC,IAAI,kRAAA,CAAA,gCAA6B;IACvD;IACA,MAAM,OAAO,EAAE;IACf,MAAM,eAAe,EAAE;IACvB,KAAK,MAAM,YAAY,UAAW;QAC9B,KAAK,IAAI,CAAC,QAAQ,OAAO,CAAC,SAAS,sBAAsB,CAAC,OAAO,WAAW,QAAQ,IAAI,CAAC,CAAA;YACrF,IAAI,0OAAA,CAAA,kBAAsB,CAAC,sBAAsB,kBAAkB,MAAM,KAAK,UAAU,MAAM,EAAE;gBAC5F,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;oBACvC,IAAI,CAAC,YAAY,CAAC,EAAE,EAAE;wBAClB,YAAY,CAAC,EAAE,GAAG,EAAE;oBACxB;oBACA,KAAK,MAAM,qBAAqB,iBAAiB,CAAC,EAAE,CAAE;wBAClD,IAAI,mPAAA,CAAA,QAAK,CAAC,QAAQ,CAAC,kBAAkB,KAAK,KAAK,mPAAA,CAAA,QAAK,CAAC,gBAAgB,CAAC,kBAAkB,KAAK,EAAE,SAAS,CAAC,EAAE,GAAG;4BAC1G,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,mPAAA,CAAA,QAAK,CAAC,IAAI,CAAC,kBAAkB,KAAK;wBAC3D;oBACJ;gBACJ;YACJ;QACJ,GAAG,0OAAA,CAAA,4BAAyB;IAChC;IACA,MAAM,QAAQ,GAAG,CAAC;IAClB,OAAO,aAAa,GAAG,CAAC,CAAA;QACpB,IAAI,aAAa,MAAM,KAAK,GAAG;YAC3B,OAAO,EAAE;QACb;QACA,iCAAiC;QACjC,aAAa,IAAI,CAAC,CAAC,GAAG;YAClB,IAAI,sPAAA,CAAA,WAAQ,CAAC,QAAQ,CAAC,EAAE,gBAAgB,IAAI,EAAE,gBAAgB,KAAK;gBAC/D,OAAO;YACX,OACK,IAAI,sPAAA,CAAA,WAAQ,CAAC,QAAQ,CAAC,EAAE,gBAAgB,IAAI,EAAE,gBAAgB,KAAK;gBACpE,OAAO,CAAC;YACZ,OACK,IAAI,sPAAA,CAAA,WAAQ,CAAC,QAAQ,CAAC,EAAE,cAAc,IAAI,EAAE,cAAc,KAAK;gBAChE,OAAO,CAAC;YACZ,OACK,IAAI,sPAAA,CAAA,WAAQ,CAAC,QAAQ,CAAC,EAAE,cAAc,IAAI,EAAE,cAAc,KAAK;gBAChE,OAAO;YACX,OACK;gBACD,OAAO;YACX;QACJ;QACA,6EAA6E;QAC7E,eAAe;QACf,MAAM,YAAY,EAAE;QACpB,IAAI;QACJ,KAAK,MAAM,SAAS,aAAc;YAC9B,IAAI,CAAC,QAAS,mPAAA,CAAA,QAAK,CAAC,aAAa,CAAC,OAAO,SAAS,CAAC,mPAAA,CAAA,QAAK,CAAC,WAAW,CAAC,OAAO,OAAQ;gBAChF,UAAU,IAAI,CAAC;gBACf,OAAO;YACX;QACJ;QACA,IAAI,CAAC,QAAQ,kCAAkC,EAAE;YAC7C,OAAO;QACX;QACA,yEAAyE;QACzE,4BAA4B;QAC5B,MAAM,sBAAsB;YAAC,SAAS,CAAC,EAAE;SAAC;QAC1C,IAAK,IAAI,IAAI,GAAG,IAAI,UAAU,MAAM,EAAE,IAAK;YACvC,MAAM,OAAO,SAAS,CAAC,IAAI,EAAE;YAC7B,MAAM,MAAM,SAAS,CAAC,EAAE;YACxB,IAAI,IAAI,eAAe,KAAK,KAAK,eAAe,IAAI,IAAI,aAAa,KAAK,KAAK,aAAa,EAAE;gBAC1F,0DAA0D;gBAC1D,MAAM,oBAAoB,IAAI,mPAAA,CAAA,QAAK,CAAC,KAAK,eAAe,EAAE,MAAM,+BAA+B,CAAC,KAAK,eAAe,GAAG,KAAK,aAAa,EAAE,MAAM,8BAA8B,CAAC,KAAK,aAAa;gBAClM,IAAI,kBAAkB,aAAa,CAAC,SAAS,CAAC,kBAAkB,WAAW,CAAC,SAAS,IAAI,aAAa,CAAC,sBAAsB,CAAC,IAAI,WAAW,CAAC,oBAAoB;oBAC9J,oBAAoB,IAAI,CAAC;gBAC7B;gBACA,uBAAuB;gBACvB,MAAM,YAAY,IAAI,mPAAA,CAAA,QAAK,CAAC,KAAK,eAAe,EAAE,GAAG,KAAK,aAAa,EAAE,MAAM,gBAAgB,CAAC,KAAK,aAAa;gBAClH,IAAI,UAAU,aAAa,CAAC,SAAS,CAAC,UAAU,WAAW,CAAC,sBAAsB,IAAI,aAAa,CAAC,cAAc,CAAC,IAAI,WAAW,CAAC,YAAY;oBAC3I,oBAAoB,IAAI,CAAC;gBAC7B;YACJ;YACA,oBAAoB,IAAI,CAAC;QAC7B;QACA,OAAO;IACX;AACJ;AACA,4PAAA,CAAA,mBAAgB,CAAC,eAAe,CAAC,kCAAkC,eAAgB,QAAQ;IAAE,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,OAAH,UAAA,OAAA,IAAA,OAAA,QAAA,OAAA,GAAA,OAAA,MAAA;QAAG,KAAH,OAAA,KAAA,SAAA,CAAA,KAAO;;IAChG,MAAM,CAAC,UAAU,UAAU,GAAG;IAC9B,CAAA,GAAA,yOAAA,CAAA,aAAU,AAAD,EAAE,uOAAA,CAAA,MAAG,CAAC,KAAK,CAAC;IACrB,MAAM,WAAW,SAAS,GAAG,CAAC,kQAAA,CAAA,2BAAwB,EAAE,sBAAsB;IAC9E,MAAM,YAAY,MAAM,SAAS,GAAG,CAAC,iQAAA,CAAA,oBAAiB,EAAE,oBAAoB,CAAC;IAC7E,IAAI;QACA,OAAO,uBAAuB,UAAU,UAAU,MAAM,CAAC,eAAe,EAAE,WAAW;YAAE,oCAAoC;YAAM,gBAAgB;QAAK,GAAG,gPAAA,CAAA,oBAAiB,CAAC,IAAI;IACnL,SACQ;QACJ,UAAU,OAAO;IACrB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6751, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/markerNavigationService.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { binarySearch } from '../../../../base/common/arrays.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { LinkedList } from '../../../../base/common/linkedList.js';\nimport { compare } from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Range } from '../../../common/core/range.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nexport class MarkerCoordinate {\n    constructor(marker, index, total) {\n        this.marker = marker;\n        this.index = index;\n        this.total = total;\n    }\n}\nlet MarkerList = class MarkerList {\n    constructor(resourceFilter, _markerService, _configService) {\n        this._markerService = _markerService;\n        this._configService = _configService;\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._dispoables = new DisposableStore();\n        this._markers = [];\n        this._nextIdx = -1;\n        if (URI.isUri(resourceFilter)) {\n            this._resourceFilter = uri => uri.toString() === resourceFilter.toString();\n        }\n        else if (resourceFilter) {\n            this._resourceFilter = resourceFilter;\n        }\n        const compareOrder = this._configService.getValue('problems.sortOrder');\n        const compareMarker = (a, b) => {\n            let res = compare(a.resource.toString(), b.resource.toString());\n            if (res === 0) {\n                if (compareOrder === 'position') {\n                    res = Range.compareRangesUsingStarts(a, b) || MarkerSeverity.compare(a.severity, b.severity);\n                }\n                else {\n                    res = MarkerSeverity.compare(a.severity, b.severity) || Range.compareRangesUsingStarts(a, b);\n                }\n            }\n            return res;\n        };\n        const updateMarker = () => {\n            this._markers = this._markerService.read({\n                resource: URI.isUri(resourceFilter) ? resourceFilter : undefined,\n                severities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\n            });\n            if (typeof resourceFilter === 'function') {\n                this._markers = this._markers.filter(m => this._resourceFilter(m.resource));\n            }\n            this._markers.sort(compareMarker);\n        };\n        updateMarker();\n        this._dispoables.add(_markerService.onMarkerChanged(uris => {\n            if (!this._resourceFilter || uris.some(uri => this._resourceFilter(uri))) {\n                updateMarker();\n                this._nextIdx = -1;\n                this._onDidChange.fire();\n            }\n        }));\n    }\n    dispose() {\n        this._dispoables.dispose();\n        this._onDidChange.dispose();\n    }\n    matches(uri) {\n        if (!this._resourceFilter && !uri) {\n            return true;\n        }\n        if (!this._resourceFilter || !uri) {\n            return false;\n        }\n        return this._resourceFilter(uri);\n    }\n    get selected() {\n        const marker = this._markers[this._nextIdx];\n        return marker && new MarkerCoordinate(marker, this._nextIdx + 1, this._markers.length);\n    }\n    _initIdx(model, position, fwd) {\n        let found = false;\n        let idx = this._markers.findIndex(marker => marker.resource.toString() === model.uri.toString());\n        if (idx < 0) {\n            idx = binarySearch(this._markers, { resource: model.uri }, (a, b) => compare(a.resource.toString(), b.resource.toString()));\n            if (idx < 0) {\n                idx = ~idx;\n            }\n        }\n        for (let i = idx; i < this._markers.length; i++) {\n            let range = Range.lift(this._markers[i]);\n            if (range.isEmpty()) {\n                const word = model.getWordAtPosition(range.getStartPosition());\n                if (word) {\n                    range = new Range(range.startLineNumber, word.startColumn, range.startLineNumber, word.endColumn);\n                }\n            }\n            if (position && (range.containsPosition(position) || position.isBeforeOrEqual(range.getStartPosition()))) {\n                this._nextIdx = i;\n                found = true;\n                break;\n            }\n            if (this._markers[i].resource.toString() !== model.uri.toString()) {\n                break;\n            }\n        }\n        if (!found) {\n            // after the last change\n            this._nextIdx = fwd ? 0 : this._markers.length - 1;\n        }\n        if (this._nextIdx < 0) {\n            this._nextIdx = this._markers.length - 1;\n        }\n    }\n    resetIndex() {\n        this._nextIdx = -1;\n    }\n    move(fwd, model, position) {\n        if (this._markers.length === 0) {\n            return false;\n        }\n        const oldIdx = this._nextIdx;\n        if (this._nextIdx === -1) {\n            this._initIdx(model, position, fwd);\n        }\n        else if (fwd) {\n            this._nextIdx = (this._nextIdx + 1) % this._markers.length;\n        }\n        else if (!fwd) {\n            this._nextIdx = (this._nextIdx - 1 + this._markers.length) % this._markers.length;\n        }\n        if (oldIdx !== this._nextIdx) {\n            return true;\n        }\n        return false;\n    }\n    find(uri, position) {\n        let idx = this._markers.findIndex(marker => marker.resource.toString() === uri.toString());\n        if (idx < 0) {\n            return undefined;\n        }\n        for (; idx < this._markers.length; idx++) {\n            if (Range.containsPosition(this._markers[idx], position)) {\n                return new MarkerCoordinate(this._markers[idx], idx + 1, this._markers.length);\n            }\n        }\n        return undefined;\n    }\n};\nMarkerList = __decorate([\n    __param(1, IMarkerService),\n    __param(2, IConfigurationService)\n], MarkerList);\nexport { MarkerList };\nexport const IMarkerNavigationService = createDecorator('IMarkerNavigationService');\nlet MarkerNavigationService = class MarkerNavigationService {\n    constructor(_markerService, _configService) {\n        this._markerService = _markerService;\n        this._configService = _configService;\n        this._provider = new LinkedList();\n    }\n    getMarkerList(resource) {\n        for (const provider of this._provider) {\n            const result = provider.getMarkerList(resource);\n            if (result) {\n                return result;\n            }\n        }\n        // default\n        return new MarkerList(resource, this._markerService, this._configService);\n    }\n};\nMarkerNavigationService = __decorate([\n    __param(0, IMarkerService),\n    __param(1, IConfigurationService)\n], MarkerNavigationService);\nregisterSingleton(IMarkerNavigationService, MarkerNavigationService, 1 /* InstantiationType.Delayed */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6962, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoErrorWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar MarkerNavigationWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { isNonEmptyArray } from '../../../../base/common/arrays.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { splitLines } from '../../../../base/common/strings.js';\nimport './media/gotoErrorWidget.css';\nimport { Range } from '../../../common/core/range.js';\nimport { peekViewTitleForeground, peekViewTitleInfoForeground, PeekViewWidget } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { createAndFillInActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { SeverityIcon } from '../../../../platform/severityIcon/browser/severityIcon.js';\nimport { contrastBorder, editorBackground, editorErrorBorder, editorErrorForeground, editorInfoBorder, editorInfoForeground, editorWarningBorder, editorWarningForeground, oneOf, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nclass MessageWidget {\n    constructor(parent, editor, onRelatedInformation, _openerService, _labelService) {\n        this._openerService = _openerService;\n        this._labelService = _labelService;\n        this._lines = 0;\n        this._longestLineLength = 0;\n        this._relatedDiagnostics = new WeakMap();\n        this._disposables = new DisposableStore();\n        this._editor = editor;\n        const domNode = document.createElement('div');\n        domNode.className = 'descriptioncontainer';\n        this._messageBlock = document.createElement('div');\n        this._messageBlock.classList.add('message');\n        this._messageBlock.setAttribute('aria-live', 'assertive');\n        this._messageBlock.setAttribute('role', 'alert');\n        domNode.appendChild(this._messageBlock);\n        this._relatedBlock = document.createElement('div');\n        domNode.appendChild(this._relatedBlock);\n        this._disposables.add(dom.addStandardDisposableListener(this._relatedBlock, 'click', event => {\n            event.preventDefault();\n            const related = this._relatedDiagnostics.get(event.target);\n            if (related) {\n                onRelatedInformation(related);\n            }\n        }));\n        this._scrollable = new ScrollableElement(domNode, {\n            horizontal: 1 /* ScrollbarVisibility.Auto */,\n            vertical: 1 /* ScrollbarVisibility.Auto */,\n            useShadows: false,\n            horizontalScrollbarSize: 6,\n            verticalScrollbarSize: 6\n        });\n        parent.appendChild(this._scrollable.getDomNode());\n        this._disposables.add(this._scrollable.onScroll(e => {\n            domNode.style.left = `-${e.scrollLeft}px`;\n            domNode.style.top = `-${e.scrollTop}px`;\n        }));\n        this._disposables.add(this._scrollable);\n    }\n    dispose() {\n        dispose(this._disposables);\n    }\n    update(marker) {\n        const { source, message, relatedInformation, code } = marker;\n        let sourceAndCodeLength = (source?.length || 0) + '()'.length;\n        if (code) {\n            if (typeof code === 'string') {\n                sourceAndCodeLength += code.length;\n            }\n            else {\n                sourceAndCodeLength += code.value.length;\n            }\n        }\n        const lines = splitLines(message);\n        this._lines = lines.length;\n        this._longestLineLength = 0;\n        for (const line of lines) {\n            this._longestLineLength = Math.max(line.length + sourceAndCodeLength, this._longestLineLength);\n        }\n        dom.clearNode(this._messageBlock);\n        this._messageBlock.setAttribute('aria-label', this.getAriaLabel(marker));\n        this._editor.applyFontInfo(this._messageBlock);\n        let lastLineElement = this._messageBlock;\n        for (const line of lines) {\n            lastLineElement = document.createElement('div');\n            lastLineElement.innerText = line;\n            if (line === '') {\n                lastLineElement.style.height = this._messageBlock.style.lineHeight;\n            }\n            this._messageBlock.appendChild(lastLineElement);\n        }\n        if (source || code) {\n            const detailsElement = document.createElement('span');\n            detailsElement.classList.add('details');\n            lastLineElement.appendChild(detailsElement);\n            if (source) {\n                const sourceElement = document.createElement('span');\n                sourceElement.innerText = source;\n                sourceElement.classList.add('source');\n                detailsElement.appendChild(sourceElement);\n            }\n            if (code) {\n                if (typeof code === 'string') {\n                    const codeElement = document.createElement('span');\n                    codeElement.innerText = `(${code})`;\n                    codeElement.classList.add('code');\n                    detailsElement.appendChild(codeElement);\n                }\n                else {\n                    this._codeLink = dom.$('a.code-link');\n                    this._codeLink.setAttribute('href', `${code.target.toString()}`);\n                    this._codeLink.onclick = (e) => {\n                        this._openerService.open(code.target, { allowCommands: true });\n                        e.preventDefault();\n                        e.stopPropagation();\n                    };\n                    const codeElement = dom.append(this._codeLink, dom.$('span'));\n                    codeElement.innerText = code.value;\n                    detailsElement.appendChild(this._codeLink);\n                }\n            }\n        }\n        dom.clearNode(this._relatedBlock);\n        this._editor.applyFontInfo(this._relatedBlock);\n        if (isNonEmptyArray(relatedInformation)) {\n            const relatedInformationNode = this._relatedBlock.appendChild(document.createElement('div'));\n            relatedInformationNode.style.paddingTop = `${Math.floor(this._editor.getOption(67 /* EditorOption.lineHeight */) * 0.66)}px`;\n            this._lines += 1;\n            for (const related of relatedInformation) {\n                const container = document.createElement('div');\n                const relatedResource = document.createElement('a');\n                relatedResource.classList.add('filename');\n                relatedResource.innerText = `${this._labelService.getUriBasenameLabel(related.resource)}(${related.startLineNumber}, ${related.startColumn}): `;\n                relatedResource.title = this._labelService.getUriLabel(related.resource);\n                this._relatedDiagnostics.set(relatedResource, related);\n                const relatedMessage = document.createElement('span');\n                relatedMessage.innerText = related.message;\n                container.appendChild(relatedResource);\n                container.appendChild(relatedMessage);\n                this._lines += 1;\n                relatedInformationNode.appendChild(container);\n            }\n        }\n        const fontInfo = this._editor.getOption(50 /* EditorOption.fontInfo */);\n        const scrollWidth = Math.ceil(fontInfo.typicalFullwidthCharacterWidth * this._longestLineLength * 0.75);\n        const scrollHeight = fontInfo.lineHeight * this._lines;\n        this._scrollable.setScrollDimensions({ scrollWidth, scrollHeight });\n    }\n    layout(height, width) {\n        this._scrollable.getDomNode().style.height = `${height}px`;\n        this._scrollable.getDomNode().style.width = `${width}px`;\n        this._scrollable.setScrollDimensions({ width, height });\n    }\n    getHeightInLines() {\n        return Math.min(17, this._lines);\n    }\n    getAriaLabel(marker) {\n        let severityLabel = '';\n        switch (marker.severity) {\n            case MarkerSeverity.Error:\n                severityLabel = nls.localize('Error', \"Error\");\n                break;\n            case MarkerSeverity.Warning:\n                severityLabel = nls.localize('Warning', \"Warning\");\n                break;\n            case MarkerSeverity.Info:\n                severityLabel = nls.localize('Info', \"Info\");\n                break;\n            case MarkerSeverity.Hint:\n                severityLabel = nls.localize('Hint', \"Hint\");\n                break;\n        }\n        let ariaLabel = nls.localize('marker aria', \"{0} at {1}. \", severityLabel, marker.startLineNumber + ':' + marker.startColumn);\n        const model = this._editor.getModel();\n        if (model && (marker.startLineNumber <= model.getLineCount()) && (marker.startLineNumber >= 1)) {\n            const lineContent = model.getLineContent(marker.startLineNumber);\n            ariaLabel = `${lineContent}, ${ariaLabel}`;\n        }\n        return ariaLabel;\n    }\n}\nlet MarkerNavigationWidget = class MarkerNavigationWidget extends PeekViewWidget {\n    static { MarkerNavigationWidget_1 = this; }\n    static { this.TitleMenu = new MenuId('gotoErrorTitleMenu'); }\n    constructor(editor, _themeService, _openerService, _menuService, instantiationService, _contextKeyService, _labelService) {\n        super(editor, { showArrow: true, showFrame: true, isAccessible: true, frameWidth: 1 }, instantiationService);\n        this._themeService = _themeService;\n        this._openerService = _openerService;\n        this._menuService = _menuService;\n        this._contextKeyService = _contextKeyService;\n        this._labelService = _labelService;\n        this._callOnDispose = new DisposableStore();\n        this._onDidSelectRelatedInformation = new Emitter();\n        this.onDidSelectRelatedInformation = this._onDidSelectRelatedInformation.event;\n        this._severity = MarkerSeverity.Warning;\n        this._backgroundColor = Color.white;\n        this._applyTheme(_themeService.getColorTheme());\n        this._callOnDispose.add(_themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n        this.create();\n    }\n    _applyTheme(theme) {\n        this._backgroundColor = theme.getColor(editorMarkerNavigationBackground);\n        let colorId = editorMarkerNavigationError;\n        let headerBackground = editorMarkerNavigationErrorHeader;\n        if (this._severity === MarkerSeverity.Warning) {\n            colorId = editorMarkerNavigationWarning;\n            headerBackground = editorMarkerNavigationWarningHeader;\n        }\n        else if (this._severity === MarkerSeverity.Info) {\n            colorId = editorMarkerNavigationInfo;\n            headerBackground = editorMarkerNavigationInfoHeader;\n        }\n        const frameColor = theme.getColor(colorId);\n        const headerBg = theme.getColor(headerBackground);\n        this.style({\n            arrowColor: frameColor,\n            frameColor: frameColor,\n            headerBackgroundColor: headerBg,\n            primaryHeadingColor: theme.getColor(peekViewTitleForeground),\n            secondaryHeadingColor: theme.getColor(peekViewTitleInfoForeground)\n        }); // style() will trigger _applyStyles\n    }\n    _applyStyles() {\n        if (this._parentContainer) {\n            this._parentContainer.style.backgroundColor = this._backgroundColor ? this._backgroundColor.toString() : '';\n        }\n        super._applyStyles();\n    }\n    dispose() {\n        this._callOnDispose.dispose();\n        super.dispose();\n    }\n    _fillHead(container) {\n        super._fillHead(container);\n        this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(e => this.editor.focus()));\n        const actions = [];\n        const menu = this._menuService.getMenuActions(MarkerNavigationWidget_1.TitleMenu, this._contextKeyService);\n        createAndFillInActionBarActions(menu, actions);\n        this._actionbarWidget.push(actions, { label: false, icon: true, index: 0 });\n    }\n    _fillTitleIcon(container) {\n        this._icon = dom.append(container, dom.$(''));\n    }\n    _fillBody(container) {\n        this._parentContainer = container;\n        container.classList.add('marker-widget');\n        this._parentContainer.tabIndex = 0;\n        this._parentContainer.setAttribute('role', 'tooltip');\n        this._container = document.createElement('div');\n        container.appendChild(this._container);\n        this._message = new MessageWidget(this._container, this.editor, related => this._onDidSelectRelatedInformation.fire(related), this._openerService, this._labelService);\n        this._disposables.add(this._message);\n    }\n    show() {\n        throw new Error('call showAtMarker');\n    }\n    showAtMarker(marker, markerIdx, markerCount) {\n        // update:\n        // * title\n        // * message\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n        // update frame color (only applied on 'show')\n        this._severity = marker.severity;\n        this._applyTheme(this._themeService.getColorTheme());\n        // show\n        const range = Range.lift(marker);\n        const editorPosition = this.editor.getPosition();\n        const position = editorPosition && range.containsPosition(editorPosition) ? editorPosition : range.getStartPosition();\n        super.show(position, this.computeRequiredHeight());\n        const model = this.editor.getModel();\n        if (model) {\n            const detail = markerCount > 1\n                ? nls.localize('problems', \"{0} of {1} problems\", markerIdx, markerCount)\n                : nls.localize('change', \"{0} of {1} problem\", markerIdx, markerCount);\n            this.setTitle(basename(model.uri), detail);\n        }\n        this._icon.className = `codicon ${SeverityIcon.className(MarkerSeverity.toSeverity(this._severity))}`;\n        this.editor.revealPositionNearTop(position, 0 /* ScrollType.Smooth */);\n        this.editor.focus();\n    }\n    updateMarker(marker) {\n        this._container.classList.remove('stale');\n        this._message.update(marker);\n    }\n    showStale() {\n        this._container.classList.add('stale');\n        this._relayout();\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        super._doLayoutBody(heightInPixel, widthInPixel);\n        this._heightInPixel = heightInPixel;\n        this._message.layout(heightInPixel, widthInPixel);\n        this._container.style.height = `${heightInPixel}px`;\n    }\n    _onWidth(widthInPixel) {\n        this._message.layout(this._heightInPixel, widthInPixel);\n    }\n    _relayout() {\n        super._relayout(this.computeRequiredHeight());\n    }\n    computeRequiredHeight() {\n        return 3 + this._message.getHeightInLines();\n    }\n};\nMarkerNavigationWidget = MarkerNavigationWidget_1 = __decorate([\n    __param(1, IThemeService),\n    __param(2, IOpenerService),\n    __param(3, IMenuService),\n    __param(4, IInstantiationService),\n    __param(5, IContextKeyService),\n    __param(6, ILabelService)\n], MarkerNavigationWidget);\nexport { MarkerNavigationWidget };\n// theming\nconst errorDefault = oneOf(editorErrorForeground, editorErrorBorder);\nconst warningDefault = oneOf(editorWarningForeground, editorWarningBorder);\nconst infoDefault = oneOf(editorInfoForeground, editorInfoBorder);\nconst editorMarkerNavigationError = registerColor('editorMarkerNavigationError.background', { dark: errorDefault, light: errorDefault, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('editorMarkerNavigationError', 'Editor marker navigation widget error color.'));\nconst editorMarkerNavigationErrorHeader = registerColor('editorMarkerNavigationError.headerBackground', { dark: transparent(editorMarkerNavigationError, .1), light: transparent(editorMarkerNavigationError, .1), hcDark: null, hcLight: null }, nls.localize('editorMarkerNavigationErrorHeaderBackground', 'Editor marker navigation widget error heading background.'));\nconst editorMarkerNavigationWarning = registerColor('editorMarkerNavigationWarning.background', { dark: warningDefault, light: warningDefault, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('editorMarkerNavigationWarning', 'Editor marker navigation widget warning color.'));\nconst editorMarkerNavigationWarningHeader = registerColor('editorMarkerNavigationWarning.headerBackground', { dark: transparent(editorMarkerNavigationWarning, .1), light: transparent(editorMarkerNavigationWarning, .1), hcDark: '#0C141F', hcLight: transparent(editorMarkerNavigationWarning, .2) }, nls.localize('editorMarkerNavigationWarningBackground', 'Editor marker navigation widget warning heading background.'));\nconst editorMarkerNavigationInfo = registerColor('editorMarkerNavigationInfo.background', { dark: infoDefault, light: infoDefault, hcDark: contrastBorder, hcLight: contrastBorder }, nls.localize('editorMarkerNavigationInfo', 'Editor marker navigation widget info color.'));\nconst editorMarkerNavigationInfoHeader = registerColor('editorMarkerNavigationInfo.headerBackground', { dark: transparent(editorMarkerNavigationInfo, .1), light: transparent(editorMarkerNavigationInfo, .1), hcDark: null, hcLight: null }, nls.localize('editorMarkerNavigationInfoHeaderBackground', 'Editor marker navigation widget info heading background.'));\nconst editorMarkerNavigationBackground = registerColor('editorMarkerNavigation.background', editorBackground, nls.localize('editorMarkerNavigationBackground', 'Editor marker navigation widget background.'));\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7377, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/gotoError/browser/gotoError.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar MarkerController_1;\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { IMarkerNavigationService } from './markerNavigationService.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { MarkerNavigationWidget } from './gotoErrorWidget.js';\nlet MarkerController = class MarkerController {\n    static { MarkerController_1 = this; }\n    static { this.ID = 'editor.contrib.markerController'; }\n    static get(editor) {\n        return editor.getContribution(MarkerController_1.ID);\n    }\n    constructor(editor, _markerNavigationService, _contextKeyService, _editorService, _instantiationService) {\n        this._markerNavigationService = _markerNavigationService;\n        this._contextKeyService = _contextKeyService;\n        this._editorService = _editorService;\n        this._instantiationService = _instantiationService;\n        this._sessionDispoables = new DisposableStore();\n        this._editor = editor;\n        this._widgetVisible = CONTEXT_MARKERS_NAVIGATION_VISIBLE.bindTo(this._contextKeyService);\n    }\n    dispose() {\n        this._cleanUp();\n        this._sessionDispoables.dispose();\n    }\n    _cleanUp() {\n        this._widgetVisible.reset();\n        this._sessionDispoables.clear();\n        this._widget = undefined;\n        this._model = undefined;\n    }\n    _getOrCreateModel(uri) {\n        if (this._model && this._model.matches(uri)) {\n            return this._model;\n        }\n        let reusePosition = false;\n        if (this._model) {\n            reusePosition = true;\n            this._cleanUp();\n        }\n        this._model = this._markerNavigationService.getMarkerList(uri);\n        if (reusePosition) {\n            this._model.move(true, this._editor.getModel(), this._editor.getPosition());\n        }\n        this._widget = this._instantiationService.createInstance(MarkerNavigationWidget, this._editor);\n        this._widget.onDidClose(() => this.close(), this, this._sessionDispoables);\n        this._widgetVisible.set(true);\n        this._sessionDispoables.add(this._model);\n        this._sessionDispoables.add(this._widget);\n        // follow cursor\n        this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(e => {\n            if (!this._model?.selected || !Range.containsPosition(this._model?.selected.marker, e.position)) {\n                this._model?.resetIndex();\n            }\n        }));\n        // update markers\n        this._sessionDispoables.add(this._model.onDidChange(() => {\n            if (!this._widget || !this._widget.position || !this._model) {\n                return;\n            }\n            const info = this._model.find(this._editor.getModel().uri, this._widget.position);\n            if (info) {\n                this._widget.updateMarker(info.marker);\n            }\n            else {\n                this._widget.showStale();\n            }\n        }));\n        // open related\n        this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(related => {\n            this._editorService.openCodeEditor({\n                resource: related.resource,\n                options: { pinned: true, revealIfOpened: true, selection: Range.lift(related).collapseToStart() }\n            }, this._editor);\n            this.close(false);\n        }));\n        this._sessionDispoables.add(this._editor.onDidChangeModel(() => this._cleanUp()));\n        return this._model;\n    }\n    close(focusEditor = true) {\n        this._cleanUp();\n        if (focusEditor) {\n            this._editor.focus();\n        }\n    }\n    showAtMarker(marker) {\n        if (this._editor.hasModel()) {\n            const model = this._getOrCreateModel(this._editor.getModel().uri);\n            model.resetIndex();\n            model.move(true, this._editor.getModel(), new Position(marker.startLineNumber, marker.startColumn));\n            if (model.selected) {\n                this._widget.showAtMarker(model.selected.marker, model.selected.index, model.selected.total);\n            }\n        }\n    }\n    async nagivate(next, multiFile) {\n        if (this._editor.hasModel()) {\n            const model = this._getOrCreateModel(multiFile ? undefined : this._editor.getModel().uri);\n            model.move(next, this._editor.getModel(), this._editor.getPosition());\n            if (!model.selected) {\n                return;\n            }\n            if (model.selected.marker.resource.toString() !== this._editor.getModel().uri.toString()) {\n                // show in different editor\n                this._cleanUp();\n                const otherEditor = await this._editorService.openCodeEditor({\n                    resource: model.selected.marker.resource,\n                    options: { pinned: false, revealIfOpened: true, selectionRevealType: 2 /* TextEditorSelectionRevealType.NearTop */, selection: model.selected.marker }\n                }, this._editor);\n                if (otherEditor) {\n                    MarkerController_1.get(otherEditor)?.close();\n                    MarkerController_1.get(otherEditor)?.nagivate(next, multiFile);\n                }\n            }\n            else {\n                // show in this editor\n                this._widget.showAtMarker(model.selected.marker, model.selected.index, model.selected.total);\n            }\n        }\n    }\n};\nMarkerController = MarkerController_1 = __decorate([\n    __param(1, IMarkerNavigationService),\n    __param(2, IContextKeyService),\n    __param(3, ICodeEditorService),\n    __param(4, IInstantiationService)\n], MarkerController);\nexport { MarkerController };\nclass MarkerNavigationAction extends EditorAction {\n    constructor(_next, _multiFile, opts) {\n        super(opts);\n        this._next = _next;\n        this._multiFile = _multiFile;\n    }\n    async run(_accessor, editor) {\n        if (editor.hasModel()) {\n            MarkerController.get(editor)?.nagivate(this._next, this._multiFile);\n        }\n    }\n}\nexport class NextMarkerAction extends MarkerNavigationAction {\n    static { this.ID = 'editor.action.marker.next'; }\n    static { this.LABEL = nls.localize('markerAction.next.label', \"Go to Next Problem (Error, Warning, Info)\"); }\n    constructor() {\n        super(true, false, {\n            id: NextMarkerAction.ID,\n            label: NextMarkerAction.LABEL,\n            alias: 'Go to Next Problem (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 512 /* KeyMod.Alt */ | 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MarkerNavigationWidget.TitleMenu,\n                title: NextMarkerAction.LABEL,\n                icon: registerIcon('marker-navigation-next', Codicon.arrowDown, nls.localize('nextMarkerIcon', 'Icon for goto next marker.')),\n                group: 'navigation',\n                order: 1\n            }\n        });\n    }\n}\nclass PrevMarkerAction extends MarkerNavigationAction {\n    static { this.ID = 'editor.action.marker.prev'; }\n    static { this.LABEL = nls.localize('markerAction.previous.label', \"Go to Previous Problem (Error, Warning, Info)\"); }\n    constructor() {\n        super(false, false, {\n            id: PrevMarkerAction.ID,\n            label: PrevMarkerAction.LABEL,\n            alias: 'Go to Previous Problem (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MarkerNavigationWidget.TitleMenu,\n                title: PrevMarkerAction.LABEL,\n                icon: registerIcon('marker-navigation-previous', Codicon.arrowUp, nls.localize('previousMarkerIcon', 'Icon for goto previous marker.')),\n                group: 'navigation',\n                order: 2\n            }\n        });\n    }\n}\nclass NextMarkerInFilesAction extends MarkerNavigationAction {\n    constructor() {\n        super(true, true, {\n            id: 'editor.action.marker.nextInFiles',\n            label: nls.localize('markerAction.nextInFiles.label', \"Go to Next Problem in Files (Error, Warning, Info)\"),\n            alias: 'Go to Next Problem in Files (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarGoMenu,\n                title: nls.localize({ key: 'miGotoNextProblem', comment: ['&& denotes a mnemonic'] }, \"Next &&Problem\"),\n                group: '6_problem_nav',\n                order: 1\n            }\n        });\n    }\n}\nclass PrevMarkerInFilesAction extends MarkerNavigationAction {\n    constructor() {\n        super(false, true, {\n            id: 'editor.action.marker.prevInFiles',\n            label: nls.localize('markerAction.previousInFiles.label', \"Go to Previous Problem in Files (Error, Warning, Info)\"),\n            alias: 'Go to Previous Problem in Files (Error, Warning, Info)',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 1024 /* KeyMod.Shift */ | 66 /* KeyCode.F8 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarGoMenu,\n                title: nls.localize({ key: 'miGotoPreviousProblem', comment: ['&& denotes a mnemonic'] }, \"Previous &&Problem\"),\n                group: '6_problem_nav',\n                order: 2\n            }\n        });\n    }\n}\nregisterEditorContribution(MarkerController.ID, MarkerController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(NextMarkerAction);\nregisterEditorAction(PrevMarkerAction);\nregisterEditorAction(NextMarkerInFilesAction);\nregisterEditorAction(PrevMarkerInFilesAction);\nconst CONTEXT_MARKERS_NAVIGATION_VISIBLE = new RawContextKey('markersNavigationVisible', false);\nconst MarkerCommand = EditorCommand.bindToContribution(MarkerController.get);\nregisterEditorCommand(new MarkerCommand({\n    id: 'closeMarkersNavigation',\n    precondition: CONTEXT_MARKERS_NAVIGATION_VISIBLE,\n    handler: x => x.close(),\n    kbOpts: {\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 50,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7694, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/indentation/common/indentUtils.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function getSpaceCnt(str, tabSize) {\n    let spacesCnt = 0;\n    for (let i = 0; i < str.length; i++) {\n        if (str.charAt(i) === '\\t') {\n            spacesCnt += tabSize;\n        }\n        else {\n            spacesCnt++;\n        }\n    }\n    return spacesCnt;\n}\nexport function generateIndent(spacesCnt, tabSize, insertSpaces) {\n    spacesCnt = spacesCnt < 0 ? 0 : spacesCnt;\n    let result = '';\n    if (!insertSpaces) {\n        const tabsCnt = Math.floor(spacesCnt / tabSize);\n        spacesCnt = spacesCnt % tabSize;\n        for (let i = 0; i < tabsCnt; i++) {\n            result += '\\t';\n        }\n    }\n    for (let i = 0; i < spacesCnt; i++) {\n        result += ' ';\n    }\n    return result;\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AACvF,SAAS,YAAY,GAAG,EAAE,OAAO;IACpC,IAAI,YAAY;IAChB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,IAAK;QACjC,IAAI,IAAI,MAAM,CAAC,OAAO,MAAM;YACxB,aAAa;QACjB,OACK;YACD;QACJ;IACJ;IACA,OAAO;AACX;AACO,SAAS,eAAe,SAAS,EAAE,OAAO,EAAE,YAAY;IAC3D,YAAY,YAAY,IAAI,IAAI;IAChC,IAAI,SAAS;IACb,IAAI,CAAC,cAAc;QACf,MAAM,UAAU,KAAK,KAAK,CAAC,YAAY;QACvC,YAAY,YAAY;QACxB,IAAK,IAAI,IAAI,GAAG,IAAI,SAAS,IAAK;YAC9B,UAAU;QACd;IACJ;IACA,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;QAChC,UAAU;IACd;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7731, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/indentation/common/indentation.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from '../../../../base/common/strings.js';\nimport { ShiftCommand } from '../../../common/commands/shiftCommand.js';\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { normalizeIndentation } from '../../../common/core/indentation.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ProcessedIndentRulesSupport } from '../../../common/languages/supports/indentationLineProcessor.js';\nexport function getReindentEditOperations(model, languageConfigurationService, startLineNumber, endLineNumber) {\n    if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) {\n        // Model is empty\n        return [];\n    }\n    const indentationRulesSupport = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).indentRulesSupport;\n    if (!indentationRulesSupport) {\n        return [];\n    }\n    const processedIndentRulesSupport = new ProcessedIndentRulesSupport(model, indentationRulesSupport, languageConfigurationService);\n    endLineNumber = Math.min(endLineNumber, model.getLineCount());\n    // Skip `unIndentedLinePattern` lines\n    while (startLineNumber <= endLineNumber) {\n        if (!processedIndentRulesSupport.shouldIgnore(startLineNumber)) {\n            break;\n        }\n        startLineNumber++;\n    }\n    if (startLineNumber > endLineNumber - 1) {\n        return [];\n    }\n    const { tabSize, indentSize, insertSpaces } = model.getOptions();\n    const shiftIndent = (indentation, count) => {\n        count = count || 1;\n        return ShiftCommand.shiftIndent(indentation, indentation.length + count, tabSize, indentSize, insertSpaces);\n    };\n    const unshiftIndent = (indentation, count) => {\n        count = count || 1;\n        return ShiftCommand.unshiftIndent(indentation, indentation.length + count, tabSize, indentSize, insertSpaces);\n    };\n    const indentEdits = [];\n    // indentation being passed to lines below\n    // Calculate indentation for the first line\n    // If there is no passed-in indentation, we use the indentation of the first line as base.\n    const currentLineText = model.getLineContent(startLineNumber);\n    let globalIndent = strings.getLeadingWhitespace(currentLineText);\n    // idealIndentForNextLine doesn't equal globalIndent when there is a line matching `indentNextLinePattern`.\n    let idealIndentForNextLine = globalIndent;\n    if (processedIndentRulesSupport.shouldIncrease(startLineNumber)) {\n        idealIndentForNextLine = shiftIndent(idealIndentForNextLine);\n        globalIndent = shiftIndent(globalIndent);\n    }\n    else if (processedIndentRulesSupport.shouldIndentNextLine(startLineNumber)) {\n        idealIndentForNextLine = shiftIndent(idealIndentForNextLine);\n    }\n    startLineNumber++;\n    // Calculate indentation adjustment for all following lines\n    for (let lineNumber = startLineNumber; lineNumber <= endLineNumber; lineNumber++) {\n        if (doesLineStartWithString(model, lineNumber)) {\n            continue;\n        }\n        const text = model.getLineContent(lineNumber);\n        const oldIndentation = strings.getLeadingWhitespace(text);\n        const currentIdealIndent = idealIndentForNextLine;\n        if (processedIndentRulesSupport.shouldDecrease(lineNumber, currentIdealIndent)) {\n            idealIndentForNextLine = unshiftIndent(idealIndentForNextLine);\n            globalIndent = unshiftIndent(globalIndent);\n        }\n        if (oldIndentation !== idealIndentForNextLine) {\n            indentEdits.push(EditOperation.replaceMove(new Selection(lineNumber, 1, lineNumber, oldIndentation.length + 1), normalizeIndentation(idealIndentForNextLine, indentSize, insertSpaces)));\n        }\n        // calculate idealIndentForNextLine\n        if (processedIndentRulesSupport.shouldIgnore(lineNumber)) {\n            // In reindent phase, if the line matches `unIndentedLinePattern` we inherit indentation from above lines\n            // but don't change globalIndent and idealIndentForNextLine.\n            continue;\n        }\n        else if (processedIndentRulesSupport.shouldIncrease(lineNumber, currentIdealIndent)) {\n            globalIndent = shiftIndent(globalIndent);\n            idealIndentForNextLine = globalIndent;\n        }\n        else if (processedIndentRulesSupport.shouldIndentNextLine(lineNumber, currentIdealIndent)) {\n            idealIndentForNextLine = shiftIndent(idealIndentForNextLine);\n        }\n        else {\n            idealIndentForNextLine = globalIndent;\n        }\n    }\n    return indentEdits;\n}\nfunction doesLineStartWithString(model, lineNumber) {\n    if (!model.tokenization.isCheapToTokenize(lineNumber)) {\n        return false;\n    }\n    const lineTokens = model.tokenization.getLineTokens(lineNumber);\n    return lineTokens.getStandardTokenType(0) === 2 /* StandardTokenType.String */;\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7834, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/indentation/browser/indentation.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ShiftCommand } from '../../../common/commands/shiftCommand.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport * as indentUtils from '../common/indentUtils.js';\nimport * as nls from '../../../../nls.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { getGoodIndentForLine, getIndentMetadata } from '../../../common/languages/autoIndent.js';\nimport { getReindentEditOperations } from '../common/indentation.js';\nimport { getStandardTokenTypeAtPosition } from '../../../common/tokens/lineTokens.js';\nexport class IndentationToSpacesAction extends EditorAction {\n    static { this.ID = 'editor.action.indentationToSpaces'; }\n    constructor() {\n        super({\n            id: IndentationToSpacesAction.ID,\n            label: nls.localize('indentationToSpaces', \"Convert Indentation to Spaces\"),\n            alias: 'Convert Indentation to Spaces',\n            precondition: EditorContextKeys.writable,\n            metadata: {\n                description: nls.localize2('indentationToSpacesDescription', \"Convert the tab indentation to spaces.\"),\n            }\n        });\n    }\n    run(accessor, editor) {\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        const modelOpts = model.getOptions();\n        const selection = editor.getSelection();\n        if (!selection) {\n            return;\n        }\n        const command = new IndentationToSpacesCommand(selection, modelOpts.tabSize);\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, [command]);\n        editor.pushUndoStop();\n        model.updateOptions({\n            insertSpaces: true\n        });\n    }\n}\nexport class IndentationToTabsAction extends EditorAction {\n    static { this.ID = 'editor.action.indentationToTabs'; }\n    constructor() {\n        super({\n            id: IndentationToTabsAction.ID,\n            label: nls.localize('indentationToTabs', \"Convert Indentation to Tabs\"),\n            alias: 'Convert Indentation to Tabs',\n            precondition: EditorContextKeys.writable,\n            metadata: {\n                description: nls.localize2('indentationToTabsDescription', \"Convert the spaces indentation to tabs.\"),\n            }\n        });\n    }\n    run(accessor, editor) {\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        const modelOpts = model.getOptions();\n        const selection = editor.getSelection();\n        if (!selection) {\n            return;\n        }\n        const command = new IndentationToTabsCommand(selection, modelOpts.tabSize);\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, [command]);\n        editor.pushUndoStop();\n        model.updateOptions({\n            insertSpaces: false\n        });\n    }\n}\nexport class ChangeIndentationSizeAction extends EditorAction {\n    constructor(insertSpaces, displaySizeOnly, opts) {\n        super(opts);\n        this.insertSpaces = insertSpaces;\n        this.displaySizeOnly = displaySizeOnly;\n    }\n    run(accessor, editor) {\n        const quickInputService = accessor.get(IQuickInputService);\n        const modelService = accessor.get(IModelService);\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        const creationOpts = modelService.getCreationOptions(model.getLanguageId(), model.uri, model.isForSimpleWidget);\n        const modelOpts = model.getOptions();\n        const picks = [1, 2, 3, 4, 5, 6, 7, 8].map(n => ({\n            id: n.toString(),\n            label: n.toString(),\n            // add description for tabSize value set in the configuration\n            description: (n === creationOpts.tabSize && n === modelOpts.tabSize\n                ? nls.localize('configuredTabSize', \"Configured Tab Size\")\n                : n === creationOpts.tabSize\n                    ? nls.localize('defaultTabSize', \"Default Tab Size\")\n                    : n === modelOpts.tabSize\n                        ? nls.localize('currentTabSize', \"Current Tab Size\")\n                        : undefined)\n        }));\n        // auto focus the tabSize set for the current editor\n        const autoFocusIndex = Math.min(model.getOptions().tabSize - 1, 7);\n        setTimeout(() => {\n            quickInputService.pick(picks, { placeHolder: nls.localize({ key: 'selectTabWidth', comment: ['Tab corresponds to the tab key'] }, \"Select Tab Size for Current File\"), activeItem: picks[autoFocusIndex] }).then(pick => {\n                if (pick) {\n                    if (model && !model.isDisposed()) {\n                        const pickedVal = parseInt(pick.label, 10);\n                        if (this.displaySizeOnly) {\n                            model.updateOptions({\n                                tabSize: pickedVal\n                            });\n                        }\n                        else {\n                            model.updateOptions({\n                                tabSize: pickedVal,\n                                indentSize: pickedVal,\n                                insertSpaces: this.insertSpaces\n                            });\n                        }\n                    }\n                }\n            });\n        }, 50 /* quick input is sensitive to being opened so soon after another */);\n    }\n}\nexport class IndentUsingTabs extends ChangeIndentationSizeAction {\n    static { this.ID = 'editor.action.indentUsingTabs'; }\n    constructor() {\n        super(false, false, {\n            id: IndentUsingTabs.ID,\n            label: nls.localize('indentUsingTabs', \"Indent Using Tabs\"),\n            alias: 'Indent Using Tabs',\n            precondition: undefined,\n            metadata: {\n                description: nls.localize2('indentUsingTabsDescription', \"Use indentation with tabs.\"),\n            }\n        });\n    }\n}\nexport class IndentUsingSpaces extends ChangeIndentationSizeAction {\n    static { this.ID = 'editor.action.indentUsingSpaces'; }\n    constructor() {\n        super(true, false, {\n            id: IndentUsingSpaces.ID,\n            label: nls.localize('indentUsingSpaces', \"Indent Using Spaces\"),\n            alias: 'Indent Using Spaces',\n            precondition: undefined,\n            metadata: {\n                description: nls.localize2('indentUsingSpacesDescription', \"Use indentation with spaces.\"),\n            }\n        });\n    }\n}\nexport class ChangeTabDisplaySize extends ChangeIndentationSizeAction {\n    static { this.ID = 'editor.action.changeTabDisplaySize'; }\n    constructor() {\n        super(true, true, {\n            id: ChangeTabDisplaySize.ID,\n            label: nls.localize('changeTabDisplaySize', \"Change Tab Display Size\"),\n            alias: 'Change Tab Display Size',\n            precondition: undefined,\n            metadata: {\n                description: nls.localize2('changeTabDisplaySizeDescription', \"Change the space size equivalent of the tab.\"),\n            }\n        });\n    }\n}\nexport class DetectIndentation extends EditorAction {\n    static { this.ID = 'editor.action.detectIndentation'; }\n    constructor() {\n        super({\n            id: DetectIndentation.ID,\n            label: nls.localize('detectIndentation', \"Detect Indentation from Content\"),\n            alias: 'Detect Indentation from Content',\n            precondition: undefined,\n            metadata: {\n                description: nls.localize2('detectIndentationDescription', \"Detect the indentation from content.\"),\n            }\n        });\n    }\n    run(accessor, editor) {\n        const modelService = accessor.get(IModelService);\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        const creationOpts = modelService.getCreationOptions(model.getLanguageId(), model.uri, model.isForSimpleWidget);\n        model.detectIndentation(creationOpts.insertSpaces, creationOpts.tabSize);\n    }\n}\nexport class ReindentLinesAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.reindentlines',\n            label: nls.localize('editor.reindentlines', \"Reindent Lines\"),\n            alias: 'Reindent Lines',\n            precondition: EditorContextKeys.writable,\n            metadata: {\n                description: nls.localize2('editor.reindentlinesDescription', \"Reindent the lines of the editor.\"),\n            }\n        });\n    }\n    run(accessor, editor) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        const edits = getReindentEditOperations(model, languageConfigurationService, 1, model.getLineCount());\n        if (edits.length > 0) {\n            editor.pushUndoStop();\n            editor.executeEdits(this.id, edits);\n            editor.pushUndoStop();\n        }\n    }\n}\nexport class ReindentSelectedLinesAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.reindentselectedlines',\n            label: nls.localize('editor.reindentselectedlines', \"Reindent Selected Lines\"),\n            alias: 'Reindent Selected Lines',\n            precondition: EditorContextKeys.writable,\n            metadata: {\n                description: nls.localize2('editor.reindentselectedlinesDescription', \"Reindent the selected lines of the editor.\"),\n            }\n        });\n    }\n    run(accessor, editor) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        const model = editor.getModel();\n        if (!model) {\n            return;\n        }\n        const selections = editor.getSelections();\n        if (selections === null) {\n            return;\n        }\n        const edits = [];\n        for (const selection of selections) {\n            let startLineNumber = selection.startLineNumber;\n            let endLineNumber = selection.endLineNumber;\n            if (startLineNumber !== endLineNumber && selection.endColumn === 1) {\n                endLineNumber--;\n            }\n            if (startLineNumber === 1) {\n                if (startLineNumber === endLineNumber) {\n                    continue;\n                }\n            }\n            else {\n                startLineNumber--;\n            }\n            const editOperations = getReindentEditOperations(model, languageConfigurationService, startLineNumber, endLineNumber);\n            edits.push(...editOperations);\n        }\n        if (edits.length > 0) {\n            editor.pushUndoStop();\n            editor.executeEdits(this.id, edits);\n            editor.pushUndoStop();\n        }\n    }\n}\nexport class AutoIndentOnPasteCommand {\n    constructor(edits, initialSelection) {\n        this._initialSelection = initialSelection;\n        this._edits = [];\n        this._selectionId = null;\n        for (const edit of edits) {\n            if (edit.range && typeof edit.text === 'string') {\n                this._edits.push(edit);\n            }\n        }\n    }\n    getEditOperations(model, builder) {\n        for (const edit of this._edits) {\n            builder.addEditOperation(Range.lift(edit.range), edit.text);\n        }\n        let selectionIsSet = false;\n        if (Array.isArray(this._edits) && this._edits.length === 1 && this._initialSelection.isEmpty()) {\n            if (this._edits[0].range.startColumn === this._initialSelection.endColumn &&\n                this._edits[0].range.startLineNumber === this._initialSelection.endLineNumber) {\n                selectionIsSet = true;\n                this._selectionId = builder.trackSelection(this._initialSelection, true);\n            }\n            else if (this._edits[0].range.endColumn === this._initialSelection.startColumn &&\n                this._edits[0].range.endLineNumber === this._initialSelection.startLineNumber) {\n                selectionIsSet = true;\n                this._selectionId = builder.trackSelection(this._initialSelection, false);\n            }\n        }\n        if (!selectionIsSet) {\n            this._selectionId = builder.trackSelection(this._initialSelection);\n        }\n    }\n    computeCursorState(model, helper) {\n        return helper.getTrackedSelection(this._selectionId);\n    }\n}\nlet AutoIndentOnPaste = class AutoIndentOnPaste {\n    static { this.ID = 'editor.contrib.autoIndentOnPaste'; }\n    constructor(editor, _languageConfigurationService) {\n        this.editor = editor;\n        this._languageConfigurationService = _languageConfigurationService;\n        this.callOnDispose = new DisposableStore();\n        this.callOnModel = new DisposableStore();\n        this.callOnDispose.add(editor.onDidChangeConfiguration(() => this.update()));\n        this.callOnDispose.add(editor.onDidChangeModel(() => this.update()));\n        this.callOnDispose.add(editor.onDidChangeModelLanguage(() => this.update()));\n    }\n    update() {\n        // clean up\n        this.callOnModel.clear();\n        // we are disabled\n        if (this.editor.getOption(12 /* EditorOption.autoIndent */) < 4 /* EditorAutoIndentStrategy.Full */ || this.editor.getOption(55 /* EditorOption.formatOnPaste */)) {\n            return;\n        }\n        // no model\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        this.callOnModel.add(this.editor.onDidPaste(({ range }) => {\n            this.trigger(range);\n        }));\n    }\n    trigger(range) {\n        const selections = this.editor.getSelections();\n        if (selections === null || selections.length > 1) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (!model) {\n            return;\n        }\n        const containsOnlyWhitespace = this.rangeContainsOnlyWhitespaceCharacters(model, range);\n        if (containsOnlyWhitespace) {\n            return;\n        }\n        if (isStartOrEndInString(model, range)) {\n            return;\n        }\n        if (!model.tokenization.isCheapToTokenize(range.getStartPosition().lineNumber)) {\n            return;\n        }\n        const autoIndent = this.editor.getOption(12 /* EditorOption.autoIndent */);\n        const { tabSize, indentSize, insertSpaces } = model.getOptions();\n        const textEdits = [];\n        const indentConverter = {\n            shiftIndent: (indentation) => {\n                return ShiftCommand.shiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);\n            },\n            unshiftIndent: (indentation) => {\n                return ShiftCommand.unshiftIndent(indentation, indentation.length + 1, tabSize, indentSize, insertSpaces);\n            }\n        };\n        let startLineNumber = range.startLineNumber;\n        while (startLineNumber <= range.endLineNumber) {\n            if (this.shouldIgnoreLine(model, startLineNumber)) {\n                startLineNumber++;\n                continue;\n            }\n            break;\n        }\n        if (startLineNumber > range.endLineNumber) {\n            return;\n        }\n        let firstLineText = model.getLineContent(startLineNumber);\n        if (!/\\S/.test(firstLineText.substring(0, range.startColumn - 1))) {\n            const indentOfFirstLine = getGoodIndentForLine(autoIndent, model, model.getLanguageId(), startLineNumber, indentConverter, this._languageConfigurationService);\n            if (indentOfFirstLine !== null) {\n                const oldIndentation = strings.getLeadingWhitespace(firstLineText);\n                const newSpaceCnt = indentUtils.getSpaceCnt(indentOfFirstLine, tabSize);\n                const oldSpaceCnt = indentUtils.getSpaceCnt(oldIndentation, tabSize);\n                if (newSpaceCnt !== oldSpaceCnt) {\n                    const newIndent = indentUtils.generateIndent(newSpaceCnt, tabSize, insertSpaces);\n                    textEdits.push({\n                        range: new Range(startLineNumber, 1, startLineNumber, oldIndentation.length + 1),\n                        text: newIndent\n                    });\n                    firstLineText = newIndent + firstLineText.substring(oldIndentation.length);\n                }\n                else {\n                    const indentMetadata = getIndentMetadata(model, startLineNumber, this._languageConfigurationService);\n                    if (indentMetadata === 0 || indentMetadata === 8 /* IndentConsts.UNINDENT_MASK */) {\n                        // we paste content into a line where only contains whitespaces\n                        // after pasting, the indentation of the first line is already correct\n                        // the first line doesn't match any indentation rule\n                        // then no-op.\n                        return;\n                    }\n                }\n            }\n        }\n        const firstLineNumber = startLineNumber;\n        // ignore empty or ignored lines\n        while (startLineNumber < range.endLineNumber) {\n            if (!/\\S/.test(model.getLineContent(startLineNumber + 1))) {\n                startLineNumber++;\n                continue;\n            }\n            break;\n        }\n        if (startLineNumber !== range.endLineNumber) {\n            const virtualModel = {\n                tokenization: {\n                    getLineTokens: (lineNumber) => {\n                        return model.tokenization.getLineTokens(lineNumber);\n                    },\n                    getLanguageId: () => {\n                        return model.getLanguageId();\n                    },\n                    getLanguageIdAtPosition: (lineNumber, column) => {\n                        return model.getLanguageIdAtPosition(lineNumber, column);\n                    },\n                },\n                getLineContent: (lineNumber) => {\n                    if (lineNumber === firstLineNumber) {\n                        return firstLineText;\n                    }\n                    else {\n                        return model.getLineContent(lineNumber);\n                    }\n                }\n            };\n            const indentOfSecondLine = getGoodIndentForLine(autoIndent, virtualModel, model.getLanguageId(), startLineNumber + 1, indentConverter, this._languageConfigurationService);\n            if (indentOfSecondLine !== null) {\n                const newSpaceCntOfSecondLine = indentUtils.getSpaceCnt(indentOfSecondLine, tabSize);\n                const oldSpaceCntOfSecondLine = indentUtils.getSpaceCnt(strings.getLeadingWhitespace(model.getLineContent(startLineNumber + 1)), tabSize);\n                if (newSpaceCntOfSecondLine !== oldSpaceCntOfSecondLine) {\n                    const spaceCntOffset = newSpaceCntOfSecondLine - oldSpaceCntOfSecondLine;\n                    for (let i = startLineNumber + 1; i <= range.endLineNumber; i++) {\n                        const lineContent = model.getLineContent(i);\n                        const originalIndent = strings.getLeadingWhitespace(lineContent);\n                        const originalSpacesCnt = indentUtils.getSpaceCnt(originalIndent, tabSize);\n                        const newSpacesCnt = originalSpacesCnt + spaceCntOffset;\n                        const newIndent = indentUtils.generateIndent(newSpacesCnt, tabSize, insertSpaces);\n                        if (newIndent !== originalIndent) {\n                            textEdits.push({\n                                range: new Range(i, 1, i, originalIndent.length + 1),\n                                text: newIndent\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        if (textEdits.length > 0) {\n            this.editor.pushUndoStop();\n            const cmd = new AutoIndentOnPasteCommand(textEdits, this.editor.getSelection());\n            this.editor.executeCommand('autoIndentOnPaste', cmd);\n            this.editor.pushUndoStop();\n        }\n    }\n    rangeContainsOnlyWhitespaceCharacters(model, range) {\n        const lineContainsOnlyWhitespace = (content) => {\n            return content.trim().length === 0;\n        };\n        let containsOnlyWhitespace = true;\n        if (range.startLineNumber === range.endLineNumber) {\n            const lineContent = model.getLineContent(range.startLineNumber);\n            const linePart = lineContent.substring(range.startColumn - 1, range.endColumn - 1);\n            containsOnlyWhitespace = lineContainsOnlyWhitespace(linePart);\n        }\n        else {\n            for (let i = range.startLineNumber; i <= range.endLineNumber; i++) {\n                const lineContent = model.getLineContent(i);\n                if (i === range.startLineNumber) {\n                    const linePart = lineContent.substring(range.startColumn - 1);\n                    containsOnlyWhitespace = lineContainsOnlyWhitespace(linePart);\n                }\n                else if (i === range.endLineNumber) {\n                    const linePart = lineContent.substring(0, range.endColumn - 1);\n                    containsOnlyWhitespace = lineContainsOnlyWhitespace(linePart);\n                }\n                else {\n                    containsOnlyWhitespace = model.getLineFirstNonWhitespaceColumn(i) === 0;\n                }\n                if (!containsOnlyWhitespace) {\n                    break;\n                }\n            }\n        }\n        return containsOnlyWhitespace;\n    }\n    shouldIgnoreLine(model, lineNumber) {\n        model.tokenization.forceTokenization(lineNumber);\n        const nonWhitespaceColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);\n        if (nonWhitespaceColumn === 0) {\n            return true;\n        }\n        const tokens = model.tokenization.getLineTokens(lineNumber);\n        if (tokens.getCount() > 0) {\n            const firstNonWhitespaceTokenIndex = tokens.findTokenIndexAtOffset(nonWhitespaceColumn);\n            if (firstNonWhitespaceTokenIndex >= 0 && tokens.getStandardTokenType(firstNonWhitespaceTokenIndex) === 1 /* StandardTokenType.Comment */) {\n                return true;\n            }\n        }\n        return false;\n    }\n    dispose() {\n        this.callOnDispose.dispose();\n        this.callOnModel.dispose();\n    }\n};\nAutoIndentOnPaste = __decorate([\n    __param(1, ILanguageConfigurationService)\n], AutoIndentOnPaste);\nexport { AutoIndentOnPaste };\nfunction isStartOrEndInString(model, range) {\n    const isPositionInString = (position) => {\n        const tokenType = getStandardTokenTypeAtPosition(model, position);\n        return tokenType === 2 /* StandardTokenType.String */;\n    };\n    return isPositionInString(range.getStartPosition()) || isPositionInString(range.getEndPosition());\n}\nfunction getIndentationEditOperations(model, builder, tabSize, tabsToSpaces) {\n    if (model.getLineCount() === 1 && model.getLineMaxColumn(1) === 1) {\n        // Model is empty\n        return;\n    }\n    let spaces = '';\n    for (let i = 0; i < tabSize; i++) {\n        spaces += ' ';\n    }\n    const spacesRegExp = new RegExp(spaces, 'gi');\n    for (let lineNumber = 1, lineCount = model.getLineCount(); lineNumber <= lineCount; lineNumber++) {\n        let lastIndentationColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);\n        if (lastIndentationColumn === 0) {\n            lastIndentationColumn = model.getLineMaxColumn(lineNumber);\n        }\n        if (lastIndentationColumn === 1) {\n            continue;\n        }\n        const originalIndentationRange = new Range(lineNumber, 1, lineNumber, lastIndentationColumn);\n        const originalIndentation = model.getValueInRange(originalIndentationRange);\n        const newIndentation = (tabsToSpaces\n            ? originalIndentation.replace(/\\t/ig, spaces)\n            : originalIndentation.replace(spacesRegExp, '\\t'));\n        builder.addEditOperation(originalIndentationRange, newIndentation);\n    }\n}\nexport class IndentationToSpacesCommand {\n    constructor(selection, tabSize) {\n        this.selection = selection;\n        this.tabSize = tabSize;\n        this.selectionId = null;\n    }\n    getEditOperations(model, builder) {\n        this.selectionId = builder.trackSelection(this.selection);\n        getIndentationEditOperations(model, builder, this.tabSize, true);\n    }\n    computeCursorState(model, helper) {\n        return helper.getTrackedSelection(this.selectionId);\n    }\n}\nexport class IndentationToTabsCommand {\n    constructor(selection, tabSize) {\n        this.selection = selection;\n        this.tabSize = tabSize;\n        this.selectionId = null;\n    }\n    getEditOperations(model, builder) {\n        this.selectionId = builder.trackSelection(this.selection);\n        getIndentationEditOperations(model, builder, this.tabSize, false);\n    }\n    computeCursorState(model, helper) {\n        return helper.getTrackedSelection(this.selectionId);\n    }\n}\nregisterEditorContribution(AutoIndentOnPaste.ID, AutoIndentOnPaste, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(IndentationToSpacesAction);\nregisterEditorAction(IndentationToTabsAction);\nregisterEditorAction(IndentUsingTabs);\nregisterEditorAction(IndentUsingSpaces);\nregisterEditorAction(ChangeTabDisplaySize);\nregisterEditorAction(DetectIndentation);\nregisterEditorAction(ReindentLinesAction);\nregisterEditorAction(ReindentSelectedLinesAction);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8469, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Selection } from '../../../common/core/selection.js';\nexport class InPlaceReplaceCommand {\n    constructor(editRange, originalSelection, text) {\n        this._editRange = editRange;\n        this._originalSelection = originalSelection;\n        this._text = text;\n    }\n    getEditOperations(model, builder) {\n        builder.addTrackedEditOperation(this._editRange, this._text);\n    }\n    computeCursorState(model, helper) {\n        const inverseEditOperations = helper.getInverseEditOperations();\n        const srcRange = inverseEditOperations[0].range;\n        if (!this._originalSelection.isEmpty()) {\n            // Preserve selection and extends to typed text\n            return new Selection(srcRange.endLineNumber, srcRange.endColumn - this._text.length, srcRange.endLineNumber, srcRange.endColumn);\n        }\n        return new Selection(srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn), srcRange.endLineNumber, Math.min(this._originalSelection.positionColumn, srcRange.endColumn));\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;;AACO,MAAM;IAMT,kBAAkB,KAAK,EAAE,OAAO,EAAE;QAC9B,QAAQ,uBAAuB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK;IAC/D;IACA,mBAAmB,KAAK,EAAE,MAAM,EAAE;QAC9B,MAAM,wBAAwB,OAAO,wBAAwB;QAC7D,MAAM,WAAW,qBAAqB,CAAC,EAAE,CAAC,KAAK;QAC/C,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,OAAO,IAAI;YACpC,+CAA+C;YAC/C,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,SAAS,aAAa,EAAE,SAAS,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,SAAS,aAAa,EAAE,SAAS,SAAS;QACnI;QACA,OAAO,IAAI,uPAAA,CAAA,YAAS,CAAC,SAAS,aAAa,EAAE,KAAK,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,SAAS,SAAS,GAAG,SAAS,aAAa,EAAE,KAAK,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,SAAS,SAAS;IAClN;IAhBA,YAAY,SAAS,EAAE,iBAAiB,EAAE,IAAI,CAAE;QAC5C,IAAI,CAAC,UAAU,GAAG;QAClB,IAAI,CAAC,kBAAkB,GAAG;QAC1B,IAAI,CAAC,KAAK,GAAG;IACjB;AAaJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8500, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar InPlaceReplaceController_1;\nimport { createCancelablePromise, timeout } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { EditorState } from '../../editorState/browser/editorState.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport * as nls from '../../../../nls.js';\nimport { InPlaceReplaceCommand } from './inPlaceReplaceCommand.js';\nimport './inPlaceReplace.css';\nlet InPlaceReplaceController = class InPlaceReplaceController {\n    static { InPlaceReplaceController_1 = this; }\n    static { this.ID = 'editor.contrib.inPlaceReplaceController'; }\n    static get(editor) {\n        return editor.getContribution(InPlaceReplaceController_1.ID);\n    }\n    static { this.DECORATION = ModelDecorationOptions.register({\n        description: 'in-place-replace',\n        className: 'valueSetReplacement'\n    }); }\n    constructor(editor, editorWorkerService) {\n        this.editor = editor;\n        this.editorWorkerService = editorWorkerService;\n        this.decorations = this.editor.createDecorationsCollection();\n    }\n    dispose() {\n    }\n    run(source, up) {\n        // cancel any pending request\n        this.currentRequest?.cancel();\n        const editorSelection = this.editor.getSelection();\n        const model = this.editor.getModel();\n        if (!model || !editorSelection) {\n            return undefined;\n        }\n        let selection = editorSelection;\n        if (selection.startLineNumber !== selection.endLineNumber) {\n            // Can't accept multiline selection\n            return undefined;\n        }\n        const state = new EditorState(this.editor, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */);\n        const modelURI = model.uri;\n        if (!this.editorWorkerService.canNavigateValueSet(modelURI)) {\n            return Promise.resolve(undefined);\n        }\n        this.currentRequest = createCancelablePromise(token => this.editorWorkerService.navigateValueSet(modelURI, selection, up));\n        return this.currentRequest.then(result => {\n            if (!result || !result.range || !result.value) {\n                // No proper result\n                return;\n            }\n            if (!state.validate(this.editor)) {\n                // state has changed\n                return;\n            }\n            // Selection\n            const editRange = Range.lift(result.range);\n            let highlightRange = result.range;\n            const diff = result.value.length - (selection.endColumn - selection.startColumn);\n            // highlight\n            highlightRange = {\n                startLineNumber: highlightRange.startLineNumber,\n                startColumn: highlightRange.startColumn,\n                endLineNumber: highlightRange.endLineNumber,\n                endColumn: highlightRange.startColumn + result.value.length\n            };\n            if (diff > 1) {\n                selection = new Selection(selection.startLineNumber, selection.startColumn, selection.endLineNumber, selection.endColumn + diff - 1);\n            }\n            // Insert new text\n            const command = new InPlaceReplaceCommand(editRange, selection, result.value);\n            this.editor.pushUndoStop();\n            this.editor.executeCommand(source, command);\n            this.editor.pushUndoStop();\n            // add decoration\n            this.decorations.set([{\n                    range: highlightRange,\n                    options: InPlaceReplaceController_1.DECORATION\n                }]);\n            // remove decoration after delay\n            this.decorationRemover?.cancel();\n            this.decorationRemover = timeout(350);\n            this.decorationRemover.then(() => this.decorations.clear()).catch(onUnexpectedError);\n        }).catch(onUnexpectedError);\n    }\n};\nInPlaceReplaceController = InPlaceReplaceController_1 = __decorate([\n    __param(1, IEditorWorkerService)\n], InPlaceReplaceController);\nclass InPlaceReplaceUp extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.inPlaceReplace.up',\n            label: nls.localize('InPlaceReplaceAction.previous.label', \"Replace with Previous Value\"),\n            alias: 'Replace with Previous Value',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 87 /* KeyCode.Comma */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = InPlaceReplaceController.get(editor);\n        if (!controller) {\n            return Promise.resolve(undefined);\n        }\n        return controller.run(this.id, false);\n    }\n}\nclass InPlaceReplaceDown extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.inPlaceReplace.down',\n            label: nls.localize('InPlaceReplaceAction.next.label', \"Replace with Next Value\"),\n            alias: 'Replace with Next Value',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 89 /* KeyCode.Period */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = InPlaceReplaceController.get(editor);\n        if (!controller) {\n            return Promise.resolve(undefined);\n        }\n        return controller.run(this.id, true);\n    }\n}\nregisterEditorContribution(InPlaceReplaceController.ID, InPlaceReplaceController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(InPlaceReplaceUp);\nregisterEditorAction(InPlaceReplaceDown);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8671, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/lineSelection/browser/lineSelection.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport { CursorMoveCommands } from '../../../common/cursor/cursorMoveCommands.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as nls from '../../../../nls.js';\nexport class ExpandLineSelectionAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'expandLineSelection',\n            label: nls.localize('expandLineSelection', \"Expand Line Selection\"),\n            alias: 'Expand Line Selection',\n            precondition: undefined,\n            kbOpts: {\n                weight: 0 /* KeybindingWeight.EditorCore */,\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 42 /* KeyCode.KeyL */\n            },\n        });\n    }\n    run(_accessor, editor, args) {\n        args = args || {};\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        viewModel.model.pushStackElement();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.expandLineSelection(viewModel, viewModel.getCursorStates()));\n        viewModel.revealAllCursors(args.source, true);\n    }\n}\nregisterEditorAction(ExpandLineSelectionAction);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;AACA;AAAA;;;;;AACO,MAAM,kCAAkC,uPAAA,CAAA,eAAY;IAcvD,IAAI,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE;QACzB,OAAO,QAAQ,CAAC;QAChB,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB;QACJ;QACA,MAAM,YAAY,OAAO,aAAa;QACtC,UAAU,KAAK,CAAC,gBAAgB;QAChC,UAAU,eAAe,CAAC,KAAK,MAAM,EAAE,EAAE,+BAA+B,KAAI,kQAAA,CAAA,qBAAkB,CAAC,mBAAmB,CAAC,WAAW,UAAU,eAAe;QACvJ,UAAU,gBAAgB,CAAC,KAAK,MAAM,EAAE;IAC5C;IAtBA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,uBAAuB;YAC3C,OAAO;YACP,cAAc;YACd,QAAQ;gBACJ,QAAQ,EAAE,+BAA+B;gBACzC,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,cAAc;gBACxC,SAAS,KAAK,kBAAkB,MAAK,GAAG,gBAAgB;YAC5D;QACJ;IACJ;AAWJ;AACA,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8716, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/linkedEditing/browser/linkedEditing.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar LinkedEditingContribution_1;\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { Delayer, first } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { isCancellationError, onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport './linkedEditing.css';\nexport const CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE = new RawContextKey('LinkedEditingInputVisible', false);\nconst DECORATION_CLASS_NAME = 'linked-editing-decoration';\nlet LinkedEditingContribution = class LinkedEditingContribution extends Disposable {\n    static { LinkedEditingContribution_1 = this; }\n    static { this.ID = 'editor.contrib.linkedEditing'; }\n    static { this.DECORATION = ModelDecorationOptions.register({\n        description: 'linked-editing',\n        stickiness: 0 /* TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges */,\n        className: DECORATION_CLASS_NAME\n    }); }\n    static get(editor) {\n        return editor.getContribution(LinkedEditingContribution_1.ID);\n    }\n    constructor(editor, contextKeyService, languageFeaturesService, languageConfigurationService, languageFeatureDebounceService) {\n        super();\n        this.languageConfigurationService = languageConfigurationService;\n        this._syncRangesToken = 0;\n        this._localToDispose = this._register(new DisposableStore());\n        this._editor = editor;\n        this._providers = languageFeaturesService.linkedEditingRangeProvider;\n        this._enabled = false;\n        this._visibleContextKey = CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(contextKeyService);\n        this._debounceInformation = languageFeatureDebounceService.for(this._providers, 'Linked Editing', { max: 200 });\n        this._currentDecorations = this._editor.createDecorationsCollection();\n        this._languageWordPattern = null;\n        this._currentWordPattern = null;\n        this._ignoreChangeEvent = false;\n        this._localToDispose = this._register(new DisposableStore());\n        this._rangeUpdateTriggerPromise = null;\n        this._rangeSyncTriggerPromise = null;\n        this._currentRequestCts = null;\n        this._currentRequestPosition = null;\n        this._currentRequestModelVersion = null;\n        this._register(this._editor.onDidChangeModel(() => this.reinitialize(true)));\n        this._register(this._editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(70 /* EditorOption.linkedEditing */) || e.hasChanged(94 /* EditorOption.renameOnType */)) {\n                this.reinitialize(false);\n            }\n        }));\n        this._register(this._providers.onDidChange(() => this.reinitialize(false)));\n        this._register(this._editor.onDidChangeModelLanguage(() => this.reinitialize(true)));\n        this.reinitialize(true);\n    }\n    reinitialize(forceRefresh) {\n        const model = this._editor.getModel();\n        const isEnabled = model !== null && (this._editor.getOption(70 /* EditorOption.linkedEditing */) || this._editor.getOption(94 /* EditorOption.renameOnType */)) && this._providers.has(model);\n        if (isEnabled === this._enabled && !forceRefresh) {\n            return;\n        }\n        this._enabled = isEnabled;\n        this.clearRanges();\n        this._localToDispose.clear();\n        if (!isEnabled || model === null) {\n            return;\n        }\n        this._localToDispose.add(Event.runAndSubscribe(model.onDidChangeLanguageConfiguration, () => {\n            this._languageWordPattern = this.languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getWordDefinition();\n        }));\n        const rangeUpdateScheduler = new Delayer(this._debounceInformation.get(model));\n        const triggerRangeUpdate = () => {\n            this._rangeUpdateTriggerPromise = rangeUpdateScheduler.trigger(() => this.updateRanges(), this._debounceDuration ?? this._debounceInformation.get(model));\n        };\n        const rangeSyncScheduler = new Delayer(0);\n        const triggerRangeSync = (token) => {\n            this._rangeSyncTriggerPromise = rangeSyncScheduler.trigger(() => this._syncRanges(token));\n        };\n        this._localToDispose.add(this._editor.onDidChangeCursorPosition(() => {\n            triggerRangeUpdate();\n        }));\n        this._localToDispose.add(this._editor.onDidChangeModelContent((e) => {\n            if (!this._ignoreChangeEvent) {\n                if (this._currentDecorations.length > 0) {\n                    const referenceRange = this._currentDecorations.getRange(0);\n                    if (referenceRange && e.changes.every(c => referenceRange.intersectRanges(c.range))) {\n                        triggerRangeSync(this._syncRangesToken);\n                        return;\n                    }\n                }\n            }\n            triggerRangeUpdate();\n        }));\n        this._localToDispose.add({\n            dispose: () => {\n                rangeUpdateScheduler.dispose();\n                rangeSyncScheduler.dispose();\n            }\n        });\n        this.updateRanges();\n    }\n    _syncRanges(token) {\n        // delayed invocation, make sure we're still on\n        if (!this._editor.hasModel() || token !== this._syncRangesToken || this._currentDecorations.length === 0) {\n            // nothing to do\n            return;\n        }\n        const model = this._editor.getModel();\n        const referenceRange = this._currentDecorations.getRange(0);\n        if (!referenceRange || referenceRange.startLineNumber !== referenceRange.endLineNumber) {\n            return this.clearRanges();\n        }\n        const referenceValue = model.getValueInRange(referenceRange);\n        if (this._currentWordPattern) {\n            const match = referenceValue.match(this._currentWordPattern);\n            const matchLength = match ? match[0].length : 0;\n            if (matchLength !== referenceValue.length) {\n                return this.clearRanges();\n            }\n        }\n        const edits = [];\n        for (let i = 1, len = this._currentDecorations.length; i < len; i++) {\n            const mirrorRange = this._currentDecorations.getRange(i);\n            if (!mirrorRange) {\n                continue;\n            }\n            if (mirrorRange.startLineNumber !== mirrorRange.endLineNumber) {\n                edits.push({\n                    range: mirrorRange,\n                    text: referenceValue\n                });\n            }\n            else {\n                let oldValue = model.getValueInRange(mirrorRange);\n                let newValue = referenceValue;\n                let rangeStartColumn = mirrorRange.startColumn;\n                let rangeEndColumn = mirrorRange.endColumn;\n                const commonPrefixLength = strings.commonPrefixLength(oldValue, newValue);\n                rangeStartColumn += commonPrefixLength;\n                oldValue = oldValue.substr(commonPrefixLength);\n                newValue = newValue.substr(commonPrefixLength);\n                const commonSuffixLength = strings.commonSuffixLength(oldValue, newValue);\n                rangeEndColumn -= commonSuffixLength;\n                oldValue = oldValue.substr(0, oldValue.length - commonSuffixLength);\n                newValue = newValue.substr(0, newValue.length - commonSuffixLength);\n                if (rangeStartColumn !== rangeEndColumn || newValue.length !== 0) {\n                    edits.push({\n                        range: new Range(mirrorRange.startLineNumber, rangeStartColumn, mirrorRange.endLineNumber, rangeEndColumn),\n                        text: newValue\n                    });\n                }\n            }\n        }\n        if (edits.length === 0) {\n            return;\n        }\n        try {\n            this._editor.popUndoStop();\n            this._ignoreChangeEvent = true;\n            const prevEditOperationType = this._editor._getViewModel().getPrevEditOperationType();\n            this._editor.executeEdits('linkedEditing', edits);\n            this._editor._getViewModel().setPrevEditOperationType(prevEditOperationType);\n        }\n        finally {\n            this._ignoreChangeEvent = false;\n        }\n    }\n    dispose() {\n        this.clearRanges();\n        super.dispose();\n    }\n    clearRanges() {\n        this._visibleContextKey.set(false);\n        this._currentDecorations.clear();\n        if (this._currentRequestCts) {\n            this._currentRequestCts.cancel();\n            this._currentRequestCts = null;\n            this._currentRequestPosition = null;\n        }\n    }\n    async updateRanges(force = false) {\n        if (!this._editor.hasModel()) {\n            this.clearRanges();\n            return;\n        }\n        const position = this._editor.getPosition();\n        if (!this._enabled && !force || this._editor.getSelections().length > 1) {\n            // disabled or multicursor\n            this.clearRanges();\n            return;\n        }\n        const model = this._editor.getModel();\n        const modelVersionId = model.getVersionId();\n        if (this._currentRequestPosition && this._currentRequestModelVersion === modelVersionId) {\n            if (position.equals(this._currentRequestPosition)) {\n                return; // same position\n            }\n            if (this._currentDecorations.length > 0) {\n                const range = this._currentDecorations.getRange(0);\n                if (range && range.containsPosition(position)) {\n                    return; // just moving inside the existing primary range\n                }\n            }\n        }\n        // Clear existing decorations while we compute new ones\n        this.clearRanges();\n        this._currentRequestPosition = position;\n        this._currentRequestModelVersion = modelVersionId;\n        const currentRequestCts = this._currentRequestCts = new CancellationTokenSource();\n        try {\n            const sw = new StopWatch(false);\n            const response = await getLinkedEditingRanges(this._providers, model, position, currentRequestCts.token);\n            this._debounceInformation.update(model, sw.elapsed());\n            if (currentRequestCts !== this._currentRequestCts) {\n                return;\n            }\n            this._currentRequestCts = null;\n            if (modelVersionId !== model.getVersionId()) {\n                return;\n            }\n            let ranges = [];\n            if (response?.ranges) {\n                ranges = response.ranges;\n            }\n            this._currentWordPattern = response?.wordPattern || this._languageWordPattern;\n            let foundReferenceRange = false;\n            for (let i = 0, len = ranges.length; i < len; i++) {\n                if (Range.containsPosition(ranges[i], position)) {\n                    foundReferenceRange = true;\n                    if (i !== 0) {\n                        const referenceRange = ranges[i];\n                        ranges.splice(i, 1);\n                        ranges.unshift(referenceRange);\n                    }\n                    break;\n                }\n            }\n            if (!foundReferenceRange) {\n                // Cannot do linked editing if the ranges are not where the cursor is...\n                this.clearRanges();\n                return;\n            }\n            const decorations = ranges.map(range => ({ range: range, options: LinkedEditingContribution_1.DECORATION }));\n            this._visibleContextKey.set(true);\n            this._currentDecorations.set(decorations);\n            this._syncRangesToken++; // cancel any pending syncRanges call\n        }\n        catch (err) {\n            if (!isCancellationError(err)) {\n                onUnexpectedError(err);\n            }\n            if (this._currentRequestCts === currentRequestCts || !this._currentRequestCts) {\n                // stop if we are still the latest request\n                this.clearRanges();\n            }\n        }\n    }\n};\nLinkedEditingContribution = LinkedEditingContribution_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ILanguageConfigurationService),\n    __param(4, ILanguageFeatureDebounceService)\n], LinkedEditingContribution);\nexport { LinkedEditingContribution };\nexport class LinkedEditingAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.linkedEditing',\n            label: nls.localize('linkedEditing.label', \"Start Linked Editing\"),\n            alias: 'Start Linked Editing',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasRenameProvider),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 60 /* KeyCode.F2 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    runCommand(accessor, args) {\n        const editorService = accessor.get(ICodeEditorService);\n        const [uri, pos] = Array.isArray(args) && args || [undefined, undefined];\n        if (URI.isUri(uri) && Position.isIPosition(pos)) {\n            return editorService.openCodeEditor({ resource: uri }, editorService.getActiveCodeEditor()).then(editor => {\n                if (!editor) {\n                    return;\n                }\n                editor.setPosition(pos);\n                editor.invokeWithinContext(accessor => {\n                    this.reportTelemetry(accessor, editor);\n                    return this.run(accessor, editor);\n                });\n            }, onUnexpectedError);\n        }\n        return super.runCommand(accessor, args);\n    }\n    run(_accessor, editor) {\n        const controller = LinkedEditingContribution.get(editor);\n        if (controller) {\n            return Promise.resolve(controller.updateRanges(true));\n        }\n        return Promise.resolve();\n    }\n}\nconst LinkedEditingCommand = EditorCommand.bindToContribution(LinkedEditingContribution.get);\nregisterEditorCommand(new LinkedEditingCommand({\n    id: 'cancelLinkedEditingInput',\n    precondition: CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,\n    handler: x => x.clearRanges(),\n    kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        weight: 100 /* KeybindingWeight.EditorContrib */ + 99,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\nfunction getLinkedEditingRanges(providers, model, position, token) {\n    const orderedByScore = providers.ordered(model);\n    // in order of score ask the linked editing range provider\n    // until someone response with a good result\n    // (good = not null)\n    return first(orderedByScore.map(provider => async () => {\n        try {\n            return await provider.provideLinkedEditingRanges(model, position, token);\n        }\n        catch (e) {\n            onUnexpectedExternalError(e);\n            return undefined;\n        }\n    }), result => !!result && arrays.isNonEmptyArray(result?.ranges));\n}\nexport const editorLinkedEditingBackground = registerColor('editor.linkedEditingBackground', { dark: Color.fromHex('#f00').transparent(0.3), light: Color.fromHex('#f00').transparent(0.3), hcDark: Color.fromHex('#f00').transparent(0.3), hcLight: Color.white }, nls.localize('editorLinkedEditingBackground', 'Background color when the editor auto renames on type.'));\nregisterModelAndPositionCommand('_executeLinkedEditingProvider', (_accessor, model, position) => {\n    const { linkedEditingRangeProvider } = _accessor.get(ILanguageFeaturesService);\n    return getLinkedEditingRanges(linkedEditingRangeProvider, model, position, CancellationToken.None);\n});\nregisterEditorContribution(LinkedEditingContribution.ID, LinkedEditingContribution, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(LinkedEditingAction);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9127, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/links/browser/getLinks.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { DisposableStore, isDisposable } from '../../../../base/common/lifecycle.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Range } from '../../../common/core/range.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport class Link {\n    constructor(link, provider) {\n        this._link = link;\n        this._provider = provider;\n    }\n    toJSON() {\n        return {\n            range: this.range,\n            url: this.url,\n            tooltip: this.tooltip\n        };\n    }\n    get range() {\n        return this._link.range;\n    }\n    get url() {\n        return this._link.url;\n    }\n    get tooltip() {\n        return this._link.tooltip;\n    }\n    async resolve(token) {\n        if (this._link.url) {\n            return this._link.url;\n        }\n        if (typeof this._provider.resolveLink === 'function') {\n            return Promise.resolve(this._provider.resolveLink(this._link, token)).then(value => {\n                this._link = value || this._link;\n                if (this._link.url) {\n                    // recurse\n                    return this.resolve(token);\n                }\n                return Promise.reject(new Error('missing'));\n            });\n        }\n        return Promise.reject(new Error('missing'));\n    }\n}\nexport class LinksList {\n    constructor(tuples) {\n        this._disposables = new DisposableStore();\n        let links = [];\n        for (const [list, provider] of tuples) {\n            // merge all links\n            const newLinks = list.links.map(link => new Link(link, provider));\n            links = LinksList._union(links, newLinks);\n            // register disposables\n            if (isDisposable(list)) {\n                this._disposables.add(list);\n            }\n        }\n        this.links = links;\n    }\n    dispose() {\n        this._disposables.dispose();\n        this.links.length = 0;\n    }\n    static _union(oldLinks, newLinks) {\n        // reunite oldLinks with newLinks and remove duplicates\n        const result = [];\n        let oldIndex;\n        let oldLen;\n        let newIndex;\n        let newLen;\n        for (oldIndex = 0, newIndex = 0, oldLen = oldLinks.length, newLen = newLinks.length; oldIndex < oldLen && newIndex < newLen;) {\n            const oldLink = oldLinks[oldIndex];\n            const newLink = newLinks[newIndex];\n            if (Range.areIntersectingOrTouching(oldLink.range, newLink.range)) {\n                // Remove the oldLink\n                oldIndex++;\n                continue;\n            }\n            const comparisonResult = Range.compareRangesUsingStarts(oldLink.range, newLink.range);\n            if (comparisonResult < 0) {\n                // oldLink is before\n                result.push(oldLink);\n                oldIndex++;\n            }\n            else {\n                // newLink is before\n                result.push(newLink);\n                newIndex++;\n            }\n        }\n        for (; oldIndex < oldLen; oldIndex++) {\n            result.push(oldLinks[oldIndex]);\n        }\n        for (; newIndex < newLen; newIndex++) {\n            result.push(newLinks[newIndex]);\n        }\n        return result;\n    }\n}\nexport function getLinks(providers, model, token) {\n    const lists = [];\n    // ask all providers for links in parallel\n    const promises = providers.ordered(model).reverse().map((provider, i) => {\n        return Promise.resolve(provider.provideLinks(model, token)).then(result => {\n            if (result) {\n                lists[i] = [result, provider];\n            }\n        }, onUnexpectedExternalError);\n    });\n    return Promise.all(promises).then(() => {\n        const result = new LinksList(coalesce(lists));\n        if (!token.isCancellationRequested) {\n            return result;\n        }\n        result.dispose();\n        return new LinksList([]);\n    });\n}\nCommandsRegistry.registerCommand('_executeLinkProvider', async (accessor, ...args) => {\n    let [uri, resolveCount] = args;\n    assertType(uri instanceof URI);\n    if (typeof resolveCount !== 'number') {\n        resolveCount = 0;\n    }\n    const { linkProvider } = accessor.get(ILanguageFeaturesService);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return [];\n    }\n    const list = await getLinks(linkProvider, model, CancellationToken.None);\n    if (!list) {\n        return [];\n    }\n    // resolve links\n    for (let i = 0; i < Math.min(resolveCount, list.links.length); i++) {\n        await list.links[i].resolve(CancellationToken.None);\n    }\n    const result = list.links.slice(0);\n    list.dispose();\n    return result;\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9299, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/links/browser/links.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar LinkDetector_1;\nimport { createCancelablePromise, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport './links.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ClickLinkGesture } from '../../gotoSymbol/browser/link/clickLinkGesture.js';\nimport { getLinks } from './getLinks.js';\nimport * as nls from '../../../../nls.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nlet LinkDetector = class LinkDetector extends Disposable {\n    static { LinkDetector_1 = this; }\n    static { this.ID = 'editor.linkDetector'; }\n    static get(editor) {\n        return editor.getContribution(LinkDetector_1.ID);\n    }\n    constructor(editor, openerService, notificationService, languageFeaturesService, languageFeatureDebounceService) {\n        super();\n        this.editor = editor;\n        this.openerService = openerService;\n        this.notificationService = notificationService;\n        this.languageFeaturesService = languageFeaturesService;\n        this.providers = this.languageFeaturesService.linkProvider;\n        this.debounceInformation = languageFeatureDebounceService.for(this.providers, 'Links', { min: 1000, max: 4000 });\n        this.computeLinks = this._register(new RunOnceScheduler(() => this.computeLinksNow(), 1000));\n        this.computePromise = null;\n        this.activeLinksList = null;\n        this.currentOccurrences = {};\n        this.activeLinkDecorationId = null;\n        const clickLinkGesture = this._register(new ClickLinkGesture(editor));\n        this._register(clickLinkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent]) => {\n            this._onEditorMouseMove(mouseEvent, keyboardEvent);\n        }));\n        this._register(clickLinkGesture.onExecute((e) => {\n            this.onEditorMouseUp(e);\n        }));\n        this._register(clickLinkGesture.onCancel((e) => {\n            this.cleanUpActiveLinkDecoration();\n        }));\n        this._register(editor.onDidChangeConfiguration((e) => {\n            if (!e.hasChanged(71 /* EditorOption.links */)) {\n                return;\n            }\n            // Remove any links (for the getting disabled case)\n            this.updateDecorations([]);\n            // Stop any computation (for the getting disabled case)\n            this.stop();\n            // Start computing (for the getting enabled case)\n            this.computeLinks.schedule(0);\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            if (!this.editor.hasModel()) {\n                return;\n            }\n            this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()));\n        }));\n        this._register(editor.onDidChangeModel((e) => {\n            this.currentOccurrences = {};\n            this.activeLinkDecorationId = null;\n            this.stop();\n            this.computeLinks.schedule(0);\n        }));\n        this._register(editor.onDidChangeModelLanguage((e) => {\n            this.stop();\n            this.computeLinks.schedule(0);\n        }));\n        this._register(this.providers.onDidChange((e) => {\n            this.stop();\n            this.computeLinks.schedule(0);\n        }));\n        this.computeLinks.schedule(0);\n    }\n    async computeLinksNow() {\n        if (!this.editor.hasModel() || !this.editor.getOption(71 /* EditorOption.links */)) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (model.isTooLargeForSyncing()) {\n            return;\n        }\n        if (!this.providers.has(model)) {\n            return;\n        }\n        if (this.activeLinksList) {\n            this.activeLinksList.dispose();\n            this.activeLinksList = null;\n        }\n        this.computePromise = createCancelablePromise(token => getLinks(this.providers, model, token));\n        try {\n            const sw = new StopWatch(false);\n            this.activeLinksList = await this.computePromise;\n            this.debounceInformation.update(model, sw.elapsed());\n            if (model.isDisposed()) {\n                return;\n            }\n            this.updateDecorations(this.activeLinksList.links);\n        }\n        catch (err) {\n            onUnexpectedError(err);\n        }\n        finally {\n            this.computePromise = null;\n        }\n    }\n    updateDecorations(links) {\n        const useMetaKey = (this.editor.getOption(78 /* EditorOption.multiCursorModifier */) === 'altKey');\n        const oldDecorations = [];\n        const keys = Object.keys(this.currentOccurrences);\n        for (const decorationId of keys) {\n            const occurence = this.currentOccurrences[decorationId];\n            oldDecorations.push(occurence.decorationId);\n        }\n        const newDecorations = [];\n        if (links) {\n            // Not sure why this is sometimes null\n            for (const link of links) {\n                newDecorations.push(LinkOccurrence.decoration(link, useMetaKey));\n            }\n        }\n        this.editor.changeDecorations((changeAccessor) => {\n            const decorations = changeAccessor.deltaDecorations(oldDecorations, newDecorations);\n            this.currentOccurrences = {};\n            this.activeLinkDecorationId = null;\n            for (let i = 0, len = decorations.length; i < len; i++) {\n                const occurence = new LinkOccurrence(links[i], decorations[i]);\n                this.currentOccurrences[occurence.decorationId] = occurence;\n            }\n        });\n    }\n    _onEditorMouseMove(mouseEvent, withKey) {\n        const useMetaKey = (this.editor.getOption(78 /* EditorOption.multiCursorModifier */) === 'altKey');\n        if (this.isEnabled(mouseEvent, withKey)) {\n            this.cleanUpActiveLinkDecoration(); // always remove previous link decoration as their can only be one\n            const occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n            if (occurrence) {\n                this.editor.changeDecorations((changeAccessor) => {\n                    occurrence.activate(changeAccessor, useMetaKey);\n                    this.activeLinkDecorationId = occurrence.decorationId;\n                });\n            }\n        }\n        else {\n            this.cleanUpActiveLinkDecoration();\n        }\n    }\n    cleanUpActiveLinkDecoration() {\n        const useMetaKey = (this.editor.getOption(78 /* EditorOption.multiCursorModifier */) === 'altKey');\n        if (this.activeLinkDecorationId) {\n            const occurrence = this.currentOccurrences[this.activeLinkDecorationId];\n            if (occurrence) {\n                this.editor.changeDecorations((changeAccessor) => {\n                    occurrence.deactivate(changeAccessor, useMetaKey);\n                });\n            }\n            this.activeLinkDecorationId = null;\n        }\n    }\n    onEditorMouseUp(mouseEvent) {\n        if (!this.isEnabled(mouseEvent)) {\n            return;\n        }\n        const occurrence = this.getLinkOccurrence(mouseEvent.target.position);\n        if (!occurrence) {\n            return;\n        }\n        this.openLinkOccurrence(occurrence, mouseEvent.hasSideBySideModifier, true /* from user gesture */);\n    }\n    openLinkOccurrence(occurrence, openToSide, fromUserGesture = false) {\n        if (!this.openerService) {\n            return;\n        }\n        const { link } = occurrence;\n        link.resolve(CancellationToken.None).then(uri => {\n            // Support for relative file URIs of the shape file://./relativeFile.txt or file:///./relativeFile.txt\n            if (typeof uri === 'string' && this.editor.hasModel()) {\n                const modelUri = this.editor.getModel().uri;\n                if (modelUri.scheme === Schemas.file && uri.startsWith(`${Schemas.file}:`)) {\n                    const parsedUri = URI.parse(uri);\n                    if (parsedUri.scheme === Schemas.file) {\n                        const fsPath = resources.originalFSPath(parsedUri);\n                        let relativePath = null;\n                        if (fsPath.startsWith('/./') || fsPath.startsWith('\\\\.\\\\')) {\n                            relativePath = `.${fsPath.substr(1)}`;\n                        }\n                        else if (fsPath.startsWith('//./') || fsPath.startsWith('\\\\\\\\.\\\\')) {\n                            relativePath = `.${fsPath.substr(2)}`;\n                        }\n                        if (relativePath) {\n                            uri = resources.joinPath(modelUri, relativePath);\n                        }\n                    }\n                }\n            }\n            return this.openerService.open(uri, { openToSide, fromUserGesture, allowContributedOpeners: true, allowCommands: true, fromWorkspace: true });\n        }, err => {\n            const messageOrError = err instanceof Error ? err.message : err;\n            // different error cases\n            if (messageOrError === 'invalid') {\n                this.notificationService.warn(nls.localize('invalid.url', 'Failed to open this link because it is not well-formed: {0}', link.url.toString()));\n            }\n            else if (messageOrError === 'missing') {\n                this.notificationService.warn(nls.localize('missing.url', 'Failed to open this link because its target is missing.'));\n            }\n            else {\n                onUnexpectedError(err);\n            }\n        });\n    }\n    getLinkOccurrence(position) {\n        if (!this.editor.hasModel() || !position) {\n            return null;\n        }\n        const decorations = this.editor.getModel().getDecorationsInRange({\n            startLineNumber: position.lineNumber,\n            startColumn: position.column,\n            endLineNumber: position.lineNumber,\n            endColumn: position.column\n        }, 0, true);\n        for (const decoration of decorations) {\n            const currentOccurrence = this.currentOccurrences[decoration.id];\n            if (currentOccurrence) {\n                return currentOccurrence;\n            }\n        }\n        return null;\n    }\n    isEnabled(mouseEvent, withKey) {\n        return Boolean((mouseEvent.target.type === 6 /* MouseTargetType.CONTENT_TEXT */)\n            && (mouseEvent.hasTriggerModifier || (withKey && withKey.keyCodeIsTriggerKey)));\n    }\n    stop() {\n        this.computeLinks.cancel();\n        if (this.activeLinksList) {\n            this.activeLinksList?.dispose();\n            this.activeLinksList = null;\n        }\n        if (this.computePromise) {\n            this.computePromise.cancel();\n            this.computePromise = null;\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.stop();\n    }\n};\nLinkDetector = LinkDetector_1 = __decorate([\n    __param(1, IOpenerService),\n    __param(2, INotificationService),\n    __param(3, ILanguageFeaturesService),\n    __param(4, ILanguageFeatureDebounceService)\n], LinkDetector);\nexport { LinkDetector };\nconst decoration = {\n    general: ModelDecorationOptions.register({\n        description: 'detected-link',\n        stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n        collapseOnReplaceEdit: true,\n        inlineClassName: 'detected-link'\n    }),\n    active: ModelDecorationOptions.register({\n        description: 'detected-link-active',\n        stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n        collapseOnReplaceEdit: true,\n        inlineClassName: 'detected-link-active'\n    })\n};\nclass LinkOccurrence {\n    static decoration(link, useMetaKey) {\n        return {\n            range: link.range,\n            options: LinkOccurrence._getOptions(link, useMetaKey, false)\n        };\n    }\n    static _getOptions(link, useMetaKey, isActive) {\n        const options = { ...(isActive ? decoration.active : decoration.general) };\n        options.hoverMessage = getHoverMessage(link, useMetaKey);\n        return options;\n    }\n    constructor(link, decorationId) {\n        this.link = link;\n        this.decorationId = decorationId;\n    }\n    activate(changeAccessor, useMetaKey) {\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, true));\n    }\n    deactivate(changeAccessor, useMetaKey) {\n        changeAccessor.changeDecorationOptions(this.decorationId, LinkOccurrence._getOptions(this.link, useMetaKey, false));\n    }\n}\nfunction getHoverMessage(link, useMetaKey) {\n    const executeCmd = link.url && /^command:/i.test(link.url.toString());\n    const label = link.tooltip\n        ? link.tooltip\n        : executeCmd\n            ? nls.localize('links.navigate.executeCmd', 'Execute command')\n            : nls.localize('links.navigate.follow', 'Follow link');\n    const kb = useMetaKey\n        ? platform.isMacintosh\n            ? nls.localize('links.navigate.kb.meta.mac', \"cmd + click\")\n            : nls.localize('links.navigate.kb.meta', \"ctrl + click\")\n        : platform.isMacintosh\n            ? nls.localize('links.navigate.kb.alt.mac', \"option + click\")\n            : nls.localize('links.navigate.kb.alt', \"alt + click\");\n    if (link.url) {\n        let nativeLabel = '';\n        if (/^command:/i.test(link.url.toString())) {\n            // Don't show complete command arguments in the native tooltip\n            const match = link.url.toString().match(/^command:([^?#]+)/);\n            if (match) {\n                const commandId = match[1];\n                nativeLabel = nls.localize('tooltip.explanation', \"Execute command {0}\", commandId);\n            }\n        }\n        const hoverMessage = new MarkdownString('', true)\n            .appendLink(link.url.toString(true).replace(/ /g, '%20'), label, nativeLabel)\n            .appendMarkdown(` (${kb})`);\n        return hoverMessage;\n    }\n    else {\n        return new MarkdownString().appendText(`${label} (${kb})`);\n    }\n}\nclass OpenLinkAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.openLink',\n            label: nls.localize('label', \"Open Link\"),\n            alias: 'Open Link',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        const linkDetector = LinkDetector.get(editor);\n        if (!linkDetector) {\n            return;\n        }\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        for (const sel of selections) {\n            const link = linkDetector.getLinkOccurrence(sel.getEndPosition());\n            if (link) {\n                linkDetector.openLinkOccurrence(link, false);\n            }\n        }\n    }\n}\nregisterEditorContribution(LinkDetector.ID, LinkDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(OpenLinkAction);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9695, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/longLinesHelper/browser/longLinesHelper.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nclass LongLinesHelper extends Disposable {\n    static { this.ID = 'editor.contrib.longLinesHelper'; }\n    constructor(_editor) {\n        super();\n        this._editor = _editor;\n        this._register(this._editor.onMouseDown((e) => {\n            const stopRenderingLineAfter = this._editor.getOption(118 /* EditorOption.stopRenderingLineAfter */);\n            if (stopRenderingLineAfter >= 0 && e.target.type === 6 /* MouseTargetType.CONTENT_TEXT */ && e.target.position.column >= stopRenderingLineAfter) {\n                this._editor.updateOptions({\n                    stopRenderingLineAfter: -1\n                });\n            }\n        }));\n    }\n}\nregisterEditorContribution(LongLinesHelper.ID, LongLinesHelper, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;;;AACA,MAAM,wBAAwB,6OAAA,CAAA,aAAU;IAEpC,YAAY,OAAO,CAAE;QACjB,KAAK;QACL,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YACrC,MAAM,yBAAyB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,uCAAuC;YACjG,IAAI,0BAA0B,KAAK,EAAE,MAAM,CAAC,IAAI,KAAK,EAAE,gCAAgC,OAAM,EAAE,MAAM,CAAC,QAAQ,CAAC,MAAM,IAAI,wBAAwB;gBAC7I,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC;oBACvB,wBAAwB,CAAC;gBAC7B;YACJ;QACJ;IACJ;AACJ;AAdM,gBACY,EAAE,GAAG;AAcvB,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,gBAAgB,EAAE,EAAE,iBAAiB,EAAE,0DAA0D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9723, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/highlightDecorations.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './highlightDecorations.css';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { activeContrastBorder, editorSelectionHighlight, minimapSelectionOccurrenceHighlight, overviewRulerSelectionHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nconst wordHighlightBackground = registerColor('editor.wordHighlightBackground', { dark: '#575757B8', light: '#57575740', hcDark: null, hcLight: null }, nls.localize('wordHighlight', 'Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightStrongBackground', { dark: '#004972B8', light: '#0e639c40', hcDark: null, hcLight: null }, nls.localize('wordHighlightStrong', 'Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations.'), true);\nregisterColor('editor.wordHighlightTextBackground', wordHighlightBackground, nls.localize('wordHighlightText', 'Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst wordHighlightBorder = registerColor('editor.wordHighlightBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightBorder', 'Border color of a symbol during read-access, like reading a variable.'));\nregisterColor('editor.wordHighlightStrongBorder', { light: null, dark: null, hcDark: activeContrastBorder, hcLight: activeContrastBorder }, nls.localize('wordHighlightStrongBorder', 'Border color of a symbol during write-access, like writing to a variable.'));\nregisterColor('editor.wordHighlightTextBorder', wordHighlightBorder, nls.localize('wordHighlightTextBorder', \"Border color of a textual occurrence for a symbol.\"));\nconst overviewRulerWordHighlightForeground = registerColor('editorOverviewRuler.wordHighlightForeground', '#A0A0A0CC', nls.localize('overviewRulerWordHighlightForeground', 'Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightStrongForeground = registerColor('editorOverviewRuler.wordHighlightStrongForeground', '#C0A0C0CC', nls.localize('overviewRulerWordHighlightStrongForeground', 'Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst overviewRulerWordHighlightTextForeground = registerColor('editorOverviewRuler.wordHighlightTextForeground', overviewRulerSelectionHighlightForeground, nls.localize('overviewRulerWordHighlightTextForeground', 'Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations.'), true);\nconst _WRITE_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-strong',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightStrong',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightStrongForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nconst _TEXT_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight-text',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlightText',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightTextForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS = ModelDecorationOptions.register({\n    description: 'selection-highlight-overview',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerSelectionHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nconst _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW = ModelDecorationOptions.register({\n    description: 'selection-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'selectionHighlight',\n});\nconst _REGULAR_OPTIONS = ModelDecorationOptions.register({\n    description: 'word-highlight',\n    stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n    className: 'wordHighlight',\n    overviewRuler: {\n        color: themeColorFromId(overviewRulerWordHighlightForeground),\n        position: OverviewRulerLane.Center\n    },\n    minimap: {\n        color: themeColorFromId(minimapSelectionOccurrenceHighlight),\n        position: 1 /* MinimapPosition.Inline */\n    },\n});\nexport function getHighlightDecorationOptions(kind) {\n    if (kind === DocumentHighlightKind.Write) {\n        return _WRITE_OPTIONS;\n    }\n    else if (kind === DocumentHighlightKind.Text) {\n        return _TEXT_OPTIONS;\n    }\n    else {\n        return _REGULAR_OPTIONS;\n    }\n}\nexport function getSelectionHighlightDecorationOptions(hasSemanticHighlights) {\n    // Show in overviewRuler only if model has no semantic highlighting\n    return (hasSemanticHighlights ? _SELECTION_HIGHLIGHT_OPTIONS_NO_OVERVIEW : _SELECTION_HIGHLIGHT_OPTIONS);\n}\nregisterThemingParticipant((theme, collector) => {\n    const selectionHighlight = theme.getColor(editorSelectionHighlight);\n    if (selectionHighlight) {\n        collector.addRule(`.monaco-editor .selectionHighlight { background-color: ${selectionHighlight.transparent(0.5)}; }`);\n    }\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9857, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/textualHighlightProvider.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { USUAL_WORD_SEPARATORS } from '../../../common/core/wordHelper.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { DocumentHighlightKind } from '../../../common/languages.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nclass TextualDocumentHighlightProvider {\n    constructor() {\n        this.selector = { language: '*' };\n    }\n    provideDocumentHighlights(model, position, token) {\n        const result = [];\n        const word = model.getWordAtPosition({\n            lineNumber: position.lineNumber,\n            column: position.column\n        });\n        if (!word) {\n            return Promise.resolve(result);\n        }\n        if (model.isDisposed()) {\n            return;\n        }\n        const matches = model.findMatches(word.word, true, false, true, USUAL_WORD_SEPARATORS, false);\n        return matches.map(m => ({\n            range: m.range,\n            kind: DocumentHighlightKind.Text\n        }));\n    }\n    provideMultiDocumentHighlights(primaryModel, position, otherModels, token) {\n        const result = new ResourceMap();\n        const word = primaryModel.getWordAtPosition({\n            lineNumber: position.lineNumber,\n            column: position.column\n        });\n        if (!word) {\n            return Promise.resolve(result);\n        }\n        for (const model of [primaryModel, ...otherModels]) {\n            if (model.isDisposed()) {\n                continue;\n            }\n            const matches = model.findMatches(word.word, true, false, true, USUAL_WORD_SEPARATORS, false);\n            const highlights = matches.map(m => ({\n                range: m.range,\n                kind: DocumentHighlightKind.Text\n            }));\n            if (highlights) {\n                result.set(model.uri, highlights);\n            }\n        }\n        return result;\n    }\n}\nlet TextualMultiDocumentHighlightFeature = class TextualMultiDocumentHighlightFeature extends Disposable {\n    constructor(languageFeaturesService) {\n        super();\n        this._register(languageFeaturesService.documentHighlightProvider.register('*', new TextualDocumentHighlightProvider()));\n        this._register(languageFeaturesService.multiDocumentHighlightProvider.register('*', new TextualDocumentHighlightProvider()));\n    }\n};\nTextualMultiDocumentHighlightFeature = __decorate([\n    __param(0, ILanguageFeaturesService)\n], TextualMultiDocumentHighlightFeature);\nexport { TextualMultiDocumentHighlightFeature };\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAU9F;AACA;AACA;AACA;AACA;AAbA,IAAI,aAAa,4CAAS,yCAAK,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACjF,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,4CAAS,yCAAK,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IACnE,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;;;;;;AAMA,MAAM;IAIF,0BAA0B,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;QAC9C,MAAM,SAAS,EAAE;QACjB,MAAM,OAAO,MAAM,iBAAiB,CAAC;YACjC,YAAY,SAAS,UAAU;YAC/B,QAAQ,SAAS,MAAM;QAC3B;QACA,IAAI,CAAC,MAAM;YACP,OAAO,QAAQ,OAAO,CAAC;QAC3B;QACA,IAAI,MAAM,UAAU,IAAI;YACpB;QACJ;QACA,MAAM,UAAU,MAAM,WAAW,CAAC,KAAK,IAAI,EAAE,MAAM,OAAO,MAAM,wPAAA,CAAA,wBAAqB,EAAE;QACvF,OAAO,QAAQ,GAAG,CAAC,CAAA,IAAK,CAAC;gBACrB,OAAO,EAAE,KAAK;gBACd,MAAM,+OAAA,CAAA,wBAAqB,CAAC,IAAI;YACpC,CAAC;IACL;IACA,+BAA+B,YAAY,EAAE,QAAQ,EAAE,WAAW,EAAE,KAAK,EAAE;QACvE,MAAM,SAAS,IAAI,uOAAA,CAAA,cAAW;QAC9B,MAAM,OAAO,aAAa,iBAAiB,CAAC;YACxC,YAAY,SAAS,UAAU;YAC/B,QAAQ,SAAS,MAAM;QAC3B;QACA,IAAI,CAAC,MAAM;YACP,OAAO,QAAQ,OAAO,CAAC;QAC3B;QACA,KAAK,MAAM,SAAS;YAAC;eAAiB;SAAY,CAAE;YAChD,IAAI,MAAM,UAAU,IAAI;gBACpB;YACJ;YACA,MAAM,UAAU,MAAM,WAAW,CAAC,KAAK,IAAI,EAAE,MAAM,OAAO,MAAM,wPAAA,CAAA,wBAAqB,EAAE;YACvF,MAAM,aAAa,QAAQ,GAAG,CAAC,CAAA,IAAK,CAAC;oBACjC,OAAO,EAAE,KAAK;oBACd,MAAM,+OAAA,CAAA,wBAAqB,CAAC,IAAI;gBACpC,CAAC;YACD,IAAI,YAAY;gBACZ,OAAO,GAAG,CAAC,MAAM,GAAG,EAAE;YAC1B;QACJ;QACA,OAAO;IACX;IA5CA,aAAc;QACV,IAAI,CAAC,QAAQ,GAAG;YAAE,UAAU;QAAI;IACpC;AA2CJ;AACA,IAAI,uCAAuC,MAAM,6CAA6C,6OAAA,CAAA,aAAU;IACpG,YAAY,uBAAuB,CAAE;QACjC,KAAK;QACL,IAAI,CAAC,SAAS,CAAC,wBAAwB,yBAAyB,CAAC,QAAQ,CAAC,KAAK,IAAI;QACnF,IAAI,CAAC,SAAS,CAAC,wBAAwB,8BAA8B,CAAC,QAAQ,CAAC,KAAK,IAAI;IAC5F;AACJ;AACA,uCAAuC,WAAW;IAC9C,QAAQ,GAAG,kQAAA,CAAA,2BAAwB;CACtC,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9951, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/wordHighlighter/browser/wordHighlighter.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar WordHighlighter_1, WordHighlighterContribution_1;\nimport * as nls from '../../../../nls.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, Delayer, first } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { isDiffEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution, registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { shouldSynchronizeModel } from '../../../common/model.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getHighlightDecorationOptions } from './highlightDecorations.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { matchesScheme, Schemas } from '../../../../base/common/network.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { score } from '../../../common/languageSelector.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { TextualMultiDocumentHighlightFeature } from './textualHighlightProvider.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nconst ctxHasWordHighlights = new RawContextKey('hasWordHighlights', false);\nexport function getOccurrencesAtPosition(registry, model, position, token) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = non undefined and non null value)\n    // (result of size == 0 is valid, no highlights is a valid/expected result -- not a signal to fall back to other providers)\n    return first(orderedByScore.map(provider => () => {\n        return Promise.resolve(provider.provideDocumentHighlights(model, position, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), (result) => result !== undefined && result !== null).then(result => {\n        if (result) {\n            const map = new ResourceMap();\n            map.set(model.uri, result);\n            return map;\n        }\n        return new ResourceMap();\n    });\n}\nexport function getOccurrencesAcrossMultipleModels(registry, model, position, wordSeparators, token, otherModels) {\n    const orderedByScore = registry.ordered(model);\n    // in order of score ask the occurrences provider\n    // until someone response with a good result\n    // (good = non undefined and non null ResourceMap)\n    // (result of size == 0 is valid, no highlights is a valid/expected result -- not a signal to fall back to other providers)\n    return first(orderedByScore.map(provider => () => {\n        const filteredModels = otherModels.filter(otherModel => {\n            return shouldSynchronizeModel(otherModel);\n        }).filter(otherModel => {\n            return score(provider.selector, otherModel.uri, otherModel.getLanguageId(), true, undefined, undefined) > 0;\n        });\n        return Promise.resolve(provider.provideMultiDocumentHighlights(model, position, filteredModels, token))\n            .then(undefined, onUnexpectedExternalError);\n    }), (result) => result !== undefined && result !== null);\n}\nclass OccurenceAtPositionRequest {\n    constructor(_model, _selection, _wordSeparators) {\n        this._model = _model;\n        this._selection = _selection;\n        this._wordSeparators = _wordSeparators;\n        this._wordRange = this._getCurrentWordRange(_model, _selection);\n        this._result = null;\n    }\n    get result() {\n        if (!this._result) {\n            this._result = createCancelablePromise(token => this._compute(this._model, this._selection, this._wordSeparators, token));\n        }\n        return this._result;\n    }\n    _getCurrentWordRange(model, selection) {\n        const word = model.getWordAtPosition(selection.getPosition());\n        if (word) {\n            return new Range(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n        }\n        return null;\n    }\n    isValid(model, selection, decorations) {\n        const lineNumber = selection.startLineNumber;\n        const startColumn = selection.startColumn;\n        const endColumn = selection.endColumn;\n        const currentWordRange = this._getCurrentWordRange(model, selection);\n        let requestIsValid = Boolean(this._wordRange && this._wordRange.equalsRange(currentWordRange));\n        // Even if we are on a different word, if that word is in the decorations ranges, the request is still valid\n        // (Same symbol)\n        for (let i = 0, len = decorations.length; !requestIsValid && i < len; i++) {\n            const range = decorations.getRange(i);\n            if (range && range.startLineNumber === lineNumber) {\n                if (range.startColumn <= startColumn && range.endColumn >= endColumn) {\n                    requestIsValid = true;\n                }\n            }\n        }\n        return requestIsValid;\n    }\n    cancel() {\n        this.result.cancel();\n    }\n}\nclass SemanticOccurenceAtPositionRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAtPosition(this._providers, model, selection.getPosition(), token).then(value => {\n            if (!value) {\n                return new ResourceMap();\n            }\n            return value;\n        });\n    }\n}\nclass MultiModelOccurenceRequest extends OccurenceAtPositionRequest {\n    constructor(model, selection, wordSeparators, providers, otherModels) {\n        super(model, selection, wordSeparators);\n        this._providers = providers;\n        this._otherModels = otherModels;\n    }\n    _compute(model, selection, wordSeparators, token) {\n        return getOccurrencesAcrossMultipleModels(this._providers, model, selection.getPosition(), wordSeparators, token, this._otherModels).then(value => {\n            if (!value) {\n                return new ResourceMap();\n            }\n            return value;\n        });\n    }\n}\nfunction computeOccurencesAtPosition(registry, model, selection, word, wordSeparators) {\n    return new SemanticOccurenceAtPositionRequest(model, selection, wordSeparators, registry);\n}\nfunction computeOccurencesMultiModel(registry, model, selection, word, wordSeparators, otherModels) {\n    return new MultiModelOccurenceRequest(model, selection, wordSeparators, registry, otherModels);\n}\nregisterModelAndPositionCommand('_executeDocumentHighlights', async (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const map = await getOccurrencesAtPosition(languageFeaturesService.documentHighlightProvider, model, position, CancellationToken.None);\n    return map?.get(model.uri);\n});\nlet WordHighlighter = class WordHighlighter {\n    static { WordHighlighter_1 = this; }\n    static { this.storedDecorationIDs = new ResourceMap(); }\n    static { this.query = null; }\n    constructor(editor, providers, multiProviders, contextKeyService, codeEditorService) {\n        this.toUnhook = new DisposableStore();\n        this.workerRequestTokenId = 0;\n        this.workerRequestCompleted = false;\n        this.workerRequestValue = new ResourceMap();\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        this.runDelayer = this.toUnhook.add(new Delayer(50));\n        this.editor = editor;\n        this.providers = providers;\n        this.multiDocumentProviders = multiProviders;\n        this.codeEditorService = codeEditorService;\n        this._hasWordHighlights = ctxHasWordHighlights.bindTo(contextKeyService);\n        this._ignorePositionChangeEvent = false;\n        this.occurrencesHighlight = this.editor.getOption(81 /* EditorOption.occurrencesHighlight */);\n        this.model = this.editor.getModel();\n        this.toUnhook.add(editor.onDidChangeCursorPosition((e) => {\n            if (this._ignorePositionChangeEvent) {\n                // We are changing the position => ignore this event\n                return;\n            }\n            if (this.occurrencesHighlight === 'off') {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            this.runDelayer.trigger(() => { this._onPositionChanged(e); });\n        }));\n        this.toUnhook.add(editor.onDidFocusEditorText((e) => {\n            if (this.occurrencesHighlight === 'off') {\n                // Early exit if nothing needs to be done\n                return;\n            }\n            if (!this.workerRequest) {\n                this.runDelayer.trigger(() => { this._run(); });\n            }\n        }));\n        this.toUnhook.add(editor.onDidChangeModelContent((e) => {\n            if (!matchesScheme(this.model.uri, 'output')) {\n                this._stopAll();\n            }\n        }));\n        this.toUnhook.add(editor.onDidChangeModel((e) => {\n            if (!e.newModelUrl && e.oldModelUrl) {\n                this._stopSingular();\n            }\n            else {\n                if (WordHighlighter_1.query) {\n                    this._run();\n                }\n            }\n        }));\n        this.toUnhook.add(editor.onDidChangeConfiguration((e) => {\n            const newValue = this.editor.getOption(81 /* EditorOption.occurrencesHighlight */);\n            if (this.occurrencesHighlight !== newValue) {\n                this.occurrencesHighlight = newValue;\n                switch (newValue) {\n                    case 'off':\n                        this._stopAll();\n                        break;\n                    case 'singleFile':\n                        this._stopAll(WordHighlighter_1.query?.modelInfo?.model);\n                        break;\n                    case 'multiFile':\n                        if (WordHighlighter_1.query) {\n                            this._run(true);\n                        }\n                        break;\n                    default:\n                        console.warn('Unknown occurrencesHighlight setting value:', newValue);\n                        break;\n                }\n            }\n        }));\n        this.decorations = this.editor.createDecorationsCollection();\n        this.workerRequestTokenId = 0;\n        this.workerRequest = null;\n        this.workerRequestCompleted = false;\n        this.lastCursorPositionChangeTime = 0;\n        this.renderDecorationsTimer = -1;\n        // if there is a query already, highlight off that query\n        if (WordHighlighter_1.query) {\n            this._run();\n        }\n    }\n    hasDecorations() {\n        return (this.decorations.length > 0);\n    }\n    restore() {\n        if (this.occurrencesHighlight === 'off') {\n            return;\n        }\n        this.runDelayer.cancel();\n        this._run();\n    }\n    _getSortedHighlights() {\n        return (this.decorations.getRanges()\n            .sort(Range.compareRangesUsingStarts));\n    }\n    moveNext() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index + 1) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    moveBack() {\n        const highlights = this._getSortedHighlights();\n        const index = highlights.findIndex((range) => range.containsPosition(this.editor.getPosition()));\n        const newIndex = ((index - 1 + highlights.length) % highlights.length);\n        const dest = highlights[newIndex];\n        try {\n            this._ignorePositionChangeEvent = true;\n            this.editor.setPosition(dest.getStartPosition());\n            this.editor.revealRangeInCenterIfOutsideViewport(dest);\n            const word = this._getWord();\n            if (word) {\n                const lineContent = this.editor.getModel().getLineContent(dest.startLineNumber);\n                alert(`${lineContent}, ${newIndex + 1} of ${highlights.length} for '${word.word}'`);\n            }\n        }\n        finally {\n            this._ignorePositionChangeEvent = false;\n        }\n    }\n    _removeSingleDecorations() {\n        // return if no model\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        const currentDecorationIDs = WordHighlighter_1.storedDecorationIDs.get(this.editor.getModel().uri);\n        if (!currentDecorationIDs) {\n            return;\n        }\n        this.editor.removeDecorations(currentDecorationIDs);\n        WordHighlighter_1.storedDecorationIDs.delete(this.editor.getModel().uri);\n        if (this.decorations.length > 0) {\n            this.decorations.clear();\n            this._hasWordHighlights.set(false);\n        }\n    }\n    _removeAllDecorations(preservedModel) {\n        const currentEditors = this.codeEditorService.listCodeEditors();\n        const deleteURI = [];\n        // iterate over editors and store models in currentModels\n        for (const editor of currentEditors) {\n            if (!editor.hasModel() || isEqual(editor.getModel().uri, preservedModel?.uri)) {\n                continue;\n            }\n            const currentDecorationIDs = WordHighlighter_1.storedDecorationIDs.get(editor.getModel().uri);\n            if (!currentDecorationIDs) {\n                continue;\n            }\n            editor.removeDecorations(currentDecorationIDs);\n            deleteURI.push(editor.getModel().uri);\n            const editorHighlighterContrib = WordHighlighterContribution.get(editor);\n            if (!editorHighlighterContrib?.wordHighlighter) {\n                continue;\n            }\n            if (editorHighlighterContrib.wordHighlighter.decorations.length > 0) {\n                editorHighlighterContrib.wordHighlighter.decorations.clear();\n                editorHighlighterContrib.wordHighlighter.workerRequest = null;\n                editorHighlighterContrib.wordHighlighter._hasWordHighlights.set(false);\n            }\n        }\n        for (const uri of deleteURI) {\n            WordHighlighter_1.storedDecorationIDs.delete(uri);\n        }\n    }\n    _stopSingular() {\n        // Remove any existing decorations + a possible query, and re - run to update decorations\n        this._removeSingleDecorations();\n        if (this.editor.hasTextFocus()) {\n            if (this.editor.getModel()?.uri.scheme !== Schemas.vscodeNotebookCell && WordHighlighter_1.query?.modelInfo?.model.uri.scheme !== Schemas.vscodeNotebookCell) { // clear query if focused non-nb editor\n                WordHighlighter_1.query = null;\n                this._run(); // TODO: @Yoyokrazy -- investigate why we need a full rerun here. likely addressed a case/patch in the first iteration of this feature\n            }\n            else { // remove modelInfo to account for nb cell being disposed\n                if (WordHighlighter_1.query?.modelInfo) {\n                    WordHighlighter_1.query.modelInfo = null;\n                }\n            }\n        }\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _stopAll(preservedModel) {\n        // Remove any existing decorations\n        // TODO: @Yoyokrazy -- this triggers as notebooks scroll, causing highlights to disappear momentarily.\n        // maybe a nb type check?\n        this._removeAllDecorations(preservedModel);\n        // Cancel any renderDecorationsTimer\n        if (this.renderDecorationsTimer !== -1) {\n            clearTimeout(this.renderDecorationsTimer);\n            this.renderDecorationsTimer = -1;\n        }\n        // Cancel any worker request\n        if (this.workerRequest !== null) {\n            this.workerRequest.cancel();\n            this.workerRequest = null;\n        }\n        // Invalidate any worker request callback\n        if (!this.workerRequestCompleted) {\n            this.workerRequestTokenId++;\n            this.workerRequestCompleted = true;\n        }\n    }\n    _onPositionChanged(e) {\n        // disabled\n        if (this.occurrencesHighlight === 'off') {\n            this._stopAll();\n            return;\n        }\n        // ignore typing & other\n        // need to check if the model is a notebook cell, should not stop if nb\n        if (e.reason !== 3 /* CursorChangeReason.Explicit */ && this.editor.getModel()?.uri.scheme !== Schemas.vscodeNotebookCell) {\n            this._stopAll();\n            return;\n        }\n        this._run();\n    }\n    _getWord() {\n        const editorSelection = this.editor.getSelection();\n        const lineNumber = editorSelection.startLineNumber;\n        const startColumn = editorSelection.startColumn;\n        if (this.model.isDisposed()) {\n            return null;\n        }\n        return this.model.getWordAtPosition({\n            lineNumber: lineNumber,\n            column: startColumn\n        });\n    }\n    getOtherModelsToHighlight(model) {\n        if (!model) {\n            return [];\n        }\n        // notebook case\n        const isNotebookEditor = model.uri.scheme === Schemas.vscodeNotebookCell;\n        if (isNotebookEditor) {\n            const currentModels = [];\n            const currentEditors = this.codeEditorService.listCodeEditors();\n            for (const editor of currentEditors) {\n                const tempModel = editor.getModel();\n                if (tempModel && tempModel !== model && tempModel.uri.scheme === Schemas.vscodeNotebookCell) {\n                    currentModels.push(tempModel);\n                }\n            }\n            return currentModels;\n        }\n        // inline case\n        // ? current works when highlighting outside of an inline diff, highlighting in.\n        // ? broken when highlighting within a diff editor. highlighting the main editor does not work\n        // ? editor group service could be useful here\n        const currentModels = [];\n        const currentEditors = this.codeEditorService.listCodeEditors();\n        for (const editor of currentEditors) {\n            if (!isDiffEditor(editor)) {\n                continue;\n            }\n            const diffModel = editor.getModel();\n            if (!diffModel) {\n                continue;\n            }\n            if (model === diffModel.modified) { // embedded inline chat diff would pass this, allowing highlights\n                //? currentModels.push(diffModel.original);\n                currentModels.push(diffModel.modified);\n            }\n        }\n        if (currentModels.length) { // no matching editors have been found\n            return currentModels;\n        }\n        // multi-doc OFF\n        if (this.occurrencesHighlight === 'singleFile') {\n            return [];\n        }\n        // multi-doc ON\n        for (const editor of currentEditors) {\n            const tempModel = editor.getModel();\n            const isValidModel = tempModel && tempModel !== model;\n            if (isValidModel) {\n                currentModels.push(tempModel);\n            }\n        }\n        return currentModels;\n    }\n    _run(multiFileConfigChange) {\n        let workerRequestIsValid;\n        const hasTextFocus = this.editor.hasTextFocus();\n        if (!hasTextFocus) { // new nb cell scrolled in, didChangeModel fires\n            if (!WordHighlighter_1.query) { // no previous query, nothing to highlight off of\n                this._stopAll();\n                return;\n            }\n        }\n        else { // has text focus\n            const editorSelection = this.editor.getSelection();\n            // ignore multiline selection\n            if (!editorSelection || editorSelection.startLineNumber !== editorSelection.endLineNumber) {\n                WordHighlighter_1.query = null;\n                this._stopAll();\n                return;\n            }\n            const startColumn = editorSelection.startColumn;\n            const endColumn = editorSelection.endColumn;\n            const word = this._getWord();\n            // The selection must be inside a word or surround one word at most\n            if (!word || word.startColumn > startColumn || word.endColumn < endColumn) {\n                // no previous query, nothing to highlight\n                WordHighlighter_1.query = null;\n                this._stopAll();\n                return;\n            }\n            // All the effort below is trying to achieve this:\n            // - when cursor is moved to a word, trigger immediately a findOccurrences request\n            // - 250ms later after the last cursor move event, render the occurrences\n            // - no flickering!\n            workerRequestIsValid = (this.workerRequest && this.workerRequest.isValid(this.model, editorSelection, this.decorations));\n            WordHighlighter_1.query = {\n                modelInfo: {\n                    model: this.model,\n                    selection: editorSelection,\n                },\n                word: word\n            };\n        }\n        // There are 4 cases:\n        // a) old workerRequest is valid & completed, renderDecorationsTimer fired\n        // b) old workerRequest is valid & completed, renderDecorationsTimer not fired\n        // c) old workerRequest is valid, but not completed\n        // d) old workerRequest is not valid\n        // For a) no action is needed\n        // For c), member 'lastCursorPositionChangeTime' will be used when installing the timer so no action is needed\n        this.lastCursorPositionChangeTime = (new Date()).getTime();\n        if (workerRequestIsValid) {\n            if (this.workerRequestCompleted && this.renderDecorationsTimer !== -1) {\n                // case b)\n                // Delay the firing of renderDecorationsTimer by an extra 250 ms\n                clearTimeout(this.renderDecorationsTimer);\n                this.renderDecorationsTimer = -1;\n                this._beginRenderDecorations();\n            }\n        }\n        else if (isEqual(this.editor.getModel().uri, WordHighlighter_1.query.modelInfo?.model.uri)) { // only trigger new worker requests from the primary model that initiated the query\n            // case d)\n            // check if the new queried word is contained in the range of a stored decoration for this model\n            if (!multiFileConfigChange) {\n                const currentModelDecorationRanges = this.decorations.getRanges();\n                for (const storedRange of currentModelDecorationRanges) {\n                    if (storedRange.containsPosition(this.editor.getPosition())) {\n                        return;\n                    }\n                }\n            }\n            // stop all previous actions if new word is highlighted\n            // if we trigger the run off a setting change -> multifile highlighting, we do not want to remove decorations from this model\n            this._stopAll(multiFileConfigChange ? this.model : undefined);\n            const myRequestId = ++this.workerRequestTokenId;\n            this.workerRequestCompleted = false;\n            const otherModelsToHighlight = this.getOtherModelsToHighlight(this.editor.getModel());\n            // when reaching here, there are two possible states.\n            // \t\t1) we have text focus, and a valid query was updated.\n            // \t\t2) we do not have text focus, and a valid query is cached.\n            // the query will ALWAYS have the correct data for the current highlight request, so it can always be passed to the workerRequest safely\n            if (!WordHighlighter_1.query || !WordHighlighter_1.query.modelInfo || WordHighlighter_1.query.modelInfo.model.isDisposed()) {\n                return;\n            }\n            this.workerRequest = this.computeWithModel(WordHighlighter_1.query.modelInfo.model, WordHighlighter_1.query.modelInfo.selection, WordHighlighter_1.query.word, otherModelsToHighlight);\n            this.workerRequest?.result.then(data => {\n                if (myRequestId === this.workerRequestTokenId) {\n                    this.workerRequestCompleted = true;\n                    this.workerRequestValue = data || [];\n                    this._beginRenderDecorations();\n                }\n            }, onUnexpectedError);\n        }\n    }\n    computeWithModel(model, selection, word, otherModels) {\n        if (!otherModels.length) {\n            return computeOccurencesAtPosition(this.providers, model, selection, word, this.editor.getOption(132 /* EditorOption.wordSeparators */));\n        }\n        else {\n            return computeOccurencesMultiModel(this.multiDocumentProviders, model, selection, word, this.editor.getOption(132 /* EditorOption.wordSeparators */), otherModels);\n        }\n    }\n    _beginRenderDecorations() {\n        const currentTime = (new Date()).getTime();\n        const minimumRenderTime = this.lastCursorPositionChangeTime + 250;\n        if (currentTime >= minimumRenderTime) {\n            // Synchronous\n            this.renderDecorationsTimer = -1;\n            this.renderDecorations();\n        }\n        else {\n            // Asynchronous\n            this.renderDecorationsTimer = setTimeout(() => {\n                this.renderDecorations();\n            }, (minimumRenderTime - currentTime));\n        }\n    }\n    renderDecorations() {\n        this.renderDecorationsTimer = -1;\n        // create new loop, iterate over current editors using this.codeEditorService.listCodeEditors(),\n        // if the URI of that codeEditor is in the map, then add the decorations to the decorations array\n        // then set the decorations for the editor\n        const currentEditors = this.codeEditorService.listCodeEditors();\n        for (const editor of currentEditors) {\n            const editorHighlighterContrib = WordHighlighterContribution.get(editor);\n            if (!editorHighlighterContrib) {\n                continue;\n            }\n            const newDecorations = [];\n            const uri = editor.getModel()?.uri;\n            if (uri && this.workerRequestValue.has(uri)) {\n                const oldDecorationIDs = WordHighlighter_1.storedDecorationIDs.get(uri);\n                const newDocumentHighlights = this.workerRequestValue.get(uri);\n                if (newDocumentHighlights) {\n                    for (const highlight of newDocumentHighlights) {\n                        if (!highlight.range) {\n                            continue;\n                        }\n                        newDecorations.push({\n                            range: highlight.range,\n                            options: getHighlightDecorationOptions(highlight.kind)\n                        });\n                    }\n                }\n                let newDecorationIDs = [];\n                editor.changeDecorations((changeAccessor) => {\n                    newDecorationIDs = changeAccessor.deltaDecorations(oldDecorationIDs ?? [], newDecorations);\n                });\n                WordHighlighter_1.storedDecorationIDs = WordHighlighter_1.storedDecorationIDs.set(uri, newDecorationIDs);\n                if (newDecorations.length > 0) {\n                    editorHighlighterContrib.wordHighlighter?.decorations.set(newDecorations);\n                    editorHighlighterContrib.wordHighlighter?._hasWordHighlights.set(true);\n                }\n            }\n        }\n    }\n    dispose() {\n        this._stopSingular();\n        this.toUnhook.dispose();\n    }\n};\nWordHighlighter = WordHighlighter_1 = __decorate([\n    __param(4, ICodeEditorService)\n], WordHighlighter);\nlet WordHighlighterContribution = class WordHighlighterContribution extends Disposable {\n    static { WordHighlighterContribution_1 = this; }\n    static { this.ID = 'editor.contrib.wordHighlighter'; }\n    static get(editor) {\n        return editor.getContribution(WordHighlighterContribution_1.ID);\n    }\n    constructor(editor, contextKeyService, languageFeaturesService, codeEditorService) {\n        super();\n        this._wordHighlighter = null;\n        const createWordHighlighterIfPossible = () => {\n            if (editor.hasModel() && !editor.getModel().isTooLargeForTokenization()) {\n                this._wordHighlighter = new WordHighlighter(editor, languageFeaturesService.documentHighlightProvider, languageFeaturesService.multiDocumentHighlightProvider, contextKeyService, codeEditorService);\n            }\n        };\n        this._register(editor.onDidChangeModel((e) => {\n            if (this._wordHighlighter) {\n                this._wordHighlighter.dispose();\n                this._wordHighlighter = null;\n            }\n            createWordHighlighterIfPossible();\n        }));\n        createWordHighlighterIfPossible();\n    }\n    get wordHighlighter() {\n        return this._wordHighlighter;\n    }\n    saveViewState() {\n        if (this._wordHighlighter && this._wordHighlighter.hasDecorations()) {\n            return true;\n        }\n        return false;\n    }\n    moveNext() {\n        this._wordHighlighter?.moveNext();\n    }\n    moveBack() {\n        this._wordHighlighter?.moveBack();\n    }\n    restoreViewState(state) {\n        if (this._wordHighlighter && state) {\n            this._wordHighlighter.restore();\n        }\n    }\n    dispose() {\n        if (this._wordHighlighter) {\n            this._wordHighlighter.dispose();\n            this._wordHighlighter = null;\n        }\n        super.dispose();\n    }\n};\nWordHighlighterContribution = WordHighlighterContribution_1 = __decorate([\n    __param(1, IContextKeyService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ICodeEditorService)\n], WordHighlighterContribution);\nexport { WordHighlighterContribution };\nclass WordHighlightNavigationAction extends EditorAction {\n    constructor(next, opts) {\n        super(opts);\n        this._isNext = next;\n    }\n    run(accessor, editor) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        if (this._isNext) {\n            controller.moveNext();\n        }\n        else {\n            controller.moveBack();\n        }\n    }\n}\nclass NextWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(true, {\n            id: 'editor.action.wordHighlight.next',\n            label: nls.localize('wordHighlight.next.label', \"Go to Next Symbol Highlight\"),\n            alias: 'Go to Next Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass PrevWordHighlightAction extends WordHighlightNavigationAction {\n    constructor() {\n        super(false, {\n            id: 'editor.action.wordHighlight.prev',\n            label: nls.localize('wordHighlight.previous.label', \"Go to Previous Symbol Highlight\"),\n            alias: 'Go to Previous Symbol Highlight',\n            precondition: ctxHasWordHighlights,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 65 /* KeyCode.F7 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nclass TriggerWordHighlightAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.wordHighlight.trigger',\n            label: nls.localize('wordHighlight.trigger.label', \"Trigger Symbol Highlight\"),\n            alias: 'Trigger Symbol Highlight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        const controller = WordHighlighterContribution.get(editor);\n        if (!controller) {\n            return;\n        }\n        controller.restoreViewState(true);\n    }\n}\nregisterEditorContribution(WordHighlighterContribution.ID, WordHighlighterContribution, 0 /* EditorContributionInstantiation.Eager */); // eager because it uses `saveViewState`/`restoreViewState`\nregisterEditorAction(NextWordHighlightAction);\nregisterEditorAction(PrevWordHighlightAction);\nregisterEditorAction(TriggerWordHighlightAction);\nregisterEditorFeature(TextualMultiDocumentHighlightFeature);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10742, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/multicursor/browser/multicursor.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SelectionHighlighter_1;\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { CursorMoveCommands } from '../../../common/cursor/cursorMoveCommands.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { CommonFindController } from '../../find/browser/findController.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getSelectionHighlightDecorationOptions } from '../../wordHighlighter/browser/highlightDecorations.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nfunction announceCursorChange(previousCursorState, cursorState) {\n    const cursorDiff = cursorState.filter(cs => !previousCursorState.find(pcs => pcs.equals(cs)));\n    if (cursorDiff.length >= 1) {\n        const cursorPositions = cursorDiff.map(cs => `line ${cs.viewState.position.lineNumber} column ${cs.viewState.position.column}`).join(', ');\n        const msg = cursorDiff.length === 1 ? nls.localize('cursorAdded', \"Cursor added: {0}\", cursorPositions) : nls.localize('cursorsAdded', \"Cursors added: {0}\", cursorPositions);\n        status(msg);\n    }\n}\nexport class InsertCursorAbove extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorAbove',\n            label: nls.localize('mutlicursor.insertAbove', \"Add Cursor Above\"),\n            alias: 'Add Cursor Above',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */,\n                linux: {\n                    primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */,\n                    secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 16 /* KeyCode.UpArrow */]\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorAbove', comment: ['&& denotes a mnemonic'] }, \"&&Add Cursor Above\"),\n                order: 2\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        let useLogicalLine = true;\n        if (args && args.logicalLine === false) {\n            useLogicalLine = false;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = viewModel.getCursorStates();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.addCursorUp(viewModel, previousCursorState, useLogicalLine));\n        viewModel.revealTopMostCursor(args.source);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class InsertCursorBelow extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorBelow',\n            label: nls.localize('mutlicursor.insertBelow', \"Add Cursor Below\"),\n            alias: 'Add Cursor Below',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */,\n                linux: {\n                    primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */,\n                    secondary: [2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 18 /* KeyCode.DownArrow */]\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorBelow', comment: ['&& denotes a mnemonic'] }, \"A&&dd Cursor Below\"),\n                order: 3\n            }\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        let useLogicalLine = true;\n        if (args && args.logicalLine === false) {\n            useLogicalLine = false;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = viewModel.getCursorStates();\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, CursorMoveCommands.addCursorDown(viewModel, previousCursorState, useLogicalLine));\n        viewModel.revealBottomMostCursor(args.source);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtEndOfEachLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.insertCursorAtEndOfEachLineSelected',\n            label: nls.localize('mutlicursor.insertAtEndOfEachLineSelected', \"Add Cursors to Line Ends\"),\n            alias: 'Add Cursors to Line Ends',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 39 /* KeyCode.KeyI */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miInsertCursorAtEndOfEachLineSelected', comment: ['&& denotes a mnemonic'] }, \"Add C&&ursors to Line Ends\"),\n                order: 4\n            }\n        });\n    }\n    getCursorsForSelection(selection, model, result) {\n        if (selection.isEmpty()) {\n            return;\n        }\n        for (let i = selection.startLineNumber; i < selection.endLineNumber; i++) {\n            const currentLineMaxColumn = model.getLineMaxColumn(i);\n            result.push(new Selection(i, currentLineMaxColumn, i, currentLineMaxColumn));\n        }\n        if (selection.endColumn > 1) {\n            result.push(new Selection(selection.endLineNumber, selection.endColumn, selection.endLineNumber, selection.endColumn));\n        }\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        const newSelections = [];\n        selections.forEach((sel) => this.getCursorsForSelection(sel, model, newSelections));\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtEndOfLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.addCursorsToBottom',\n            label: nls.localize('mutlicursor.addCursorsToBottom', \"Add Cursors To Bottom\"),\n            alias: 'Add Cursors To Bottom',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        const lineCount = editor.getModel().getLineCount();\n        const newSelections = [];\n        for (let i = selections[0].startLineNumber; i <= lineCount; i++) {\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\n        }\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nclass InsertCursorAtTopOfLineSelected extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.addCursorsToTop',\n            label: nls.localize('mutlicursor.addCursorsToTop', \"Add Cursors To Top\"),\n            alias: 'Add Cursors To Top',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const selections = editor.getSelections();\n        const newSelections = [];\n        for (let i = selections[0].startLineNumber; i >= 1; i--) {\n            newSelections.push(new Selection(i, selections[0].startColumn, i, selections[0].endColumn));\n        }\n        const viewModel = editor._getViewModel();\n        const previousCursorState = viewModel.getCursorStates();\n        if (newSelections.length > 0) {\n            editor.setSelections(newSelections);\n        }\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class MultiCursorSessionResult {\n    constructor(selections, revealRange, revealScrollType) {\n        this.selections = selections;\n        this.revealRange = revealRange;\n        this.revealScrollType = revealScrollType;\n    }\n}\nexport class MultiCursorSession {\n    static create(editor, findController) {\n        if (!editor.hasModel()) {\n            return null;\n        }\n        const findState = findController.getState();\n        // Find widget owns entirely what we search for if:\n        //  - focus is not in the editor (i.e. it is in the find widget)\n        //  - and the search widget is visible\n        //  - and the search string is non-empty\n        if (!editor.hasTextFocus() && findState.isRevealed && findState.searchString.length > 0) {\n            // Find widget owns what is searched for\n            return new MultiCursorSession(editor, findController, false, findState.searchString, findState.wholeWord, findState.matchCase, null);\n        }\n        // Otherwise, the selection gives the search text, and the find widget gives the search settings\n        // The exception is the find state disassociation case: when beginning with a single, collapsed selection\n        let isDisconnectedFromFindController = false;\n        let wholeWord;\n        let matchCase;\n        const selections = editor.getSelections();\n        if (selections.length === 1 && selections[0].isEmpty()) {\n            isDisconnectedFromFindController = true;\n            wholeWord = true;\n            matchCase = true;\n        }\n        else {\n            wholeWord = findState.wholeWord;\n            matchCase = findState.matchCase;\n        }\n        // Selection owns what is searched for\n        const s = editor.getSelection();\n        let searchText;\n        let currentMatch = null;\n        if (s.isEmpty()) {\n            // selection is empty => expand to current word\n            const word = editor.getConfiguredWordAtPosition(s.getStartPosition());\n            if (!word) {\n                return null;\n            }\n            searchText = word.word;\n            currentMatch = new Selection(s.startLineNumber, word.startColumn, s.startLineNumber, word.endColumn);\n        }\n        else {\n            searchText = editor.getModel().getValueInRange(s).replace(/\\r\\n/g, '\\n');\n        }\n        return new MultiCursorSession(editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch);\n    }\n    constructor(_editor, findController, isDisconnectedFromFindController, searchText, wholeWord, matchCase, currentMatch) {\n        this._editor = _editor;\n        this.findController = findController;\n        this.isDisconnectedFromFindController = isDisconnectedFromFindController;\n        this.searchText = searchText;\n        this.wholeWord = wholeWord;\n        this.matchCase = matchCase;\n        this.currentMatch = currentMatch;\n    }\n    addSelectionToNextFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(nextMatch), nextMatch, 0 /* ScrollType.Smooth */);\n    }\n    moveSelectionToNextFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const nextMatch = this._getNextMatch();\n        if (!nextMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(nextMatch), nextMatch, 0 /* ScrollType.Smooth */);\n    }\n    _getNextMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (this.currentMatch) {\n            const result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        const allSelections = this._editor.getSelections();\n        const lastAddedSelection = allSelections[allSelections.length - 1];\n        const nextMatch = this._editor.getModel().findNextMatch(this.searchText, lastAddedSelection.getEndPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(132 /* EditorOption.wordSeparators */) : null, false);\n        if (!nextMatch) {\n            return null;\n        }\n        return new Selection(nextMatch.range.startLineNumber, nextMatch.range.startColumn, nextMatch.range.endLineNumber, nextMatch.range.endColumn);\n    }\n    addSelectionToPreviousFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.concat(previousMatch), previousMatch, 0 /* ScrollType.Smooth */);\n    }\n    moveSelectionToPreviousFindMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        const previousMatch = this._getPreviousMatch();\n        if (!previousMatch) {\n            return null;\n        }\n        const allSelections = this._editor.getSelections();\n        return new MultiCursorSessionResult(allSelections.slice(0, allSelections.length - 1).concat(previousMatch), previousMatch, 0 /* ScrollType.Smooth */);\n    }\n    _getPreviousMatch() {\n        if (!this._editor.hasModel()) {\n            return null;\n        }\n        if (this.currentMatch) {\n            const result = this.currentMatch;\n            this.currentMatch = null;\n            return result;\n        }\n        this.findController.highlightFindOptions();\n        const allSelections = this._editor.getSelections();\n        const lastAddedSelection = allSelections[allSelections.length - 1];\n        const previousMatch = this._editor.getModel().findPreviousMatch(this.searchText, lastAddedSelection.getStartPosition(), false, this.matchCase, this.wholeWord ? this._editor.getOption(132 /* EditorOption.wordSeparators */) : null, false);\n        if (!previousMatch) {\n            return null;\n        }\n        return new Selection(previousMatch.range.startLineNumber, previousMatch.range.startColumn, previousMatch.range.endLineNumber, previousMatch.range.endColumn);\n    }\n    selectAll(searchScope) {\n        if (!this._editor.hasModel()) {\n            return [];\n        }\n        this.findController.highlightFindOptions();\n        const editorModel = this._editor.getModel();\n        if (searchScope) {\n            return editorModel.findMatches(this.searchText, searchScope, false, this.matchCase, this.wholeWord ? this._editor.getOption(132 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        }\n        return editorModel.findMatches(this.searchText, true, false, this.matchCase, this.wholeWord ? this._editor.getOption(132 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n    }\n}\nexport class MultiCursorSelectionController extends Disposable {\n    static { this.ID = 'editor.contrib.multiCursorController'; }\n    static get(editor) {\n        return editor.getContribution(MultiCursorSelectionController.ID);\n    }\n    constructor(editor) {\n        super();\n        this._sessionDispose = this._register(new DisposableStore());\n        this._editor = editor;\n        this._ignoreSelectionChange = false;\n        this._session = null;\n    }\n    dispose() {\n        this._endSession();\n        super.dispose();\n    }\n    _beginSessionIfNeeded(findController) {\n        if (!this._session) {\n            // Create a new session\n            const session = MultiCursorSession.create(this._editor, findController);\n            if (!session) {\n                return;\n            }\n            this._session = session;\n            const newState = { searchString: this._session.searchText };\n            if (this._session.isDisconnectedFromFindController) {\n                newState.wholeWordOverride = 1 /* FindOptionOverride.True */;\n                newState.matchCaseOverride = 1 /* FindOptionOverride.True */;\n                newState.isRegexOverride = 2 /* FindOptionOverride.False */;\n            }\n            findController.getState().change(newState, false);\n            this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e) => {\n                if (this._ignoreSelectionChange) {\n                    return;\n                }\n                this._endSession();\n            }));\n            this._sessionDispose.add(this._editor.onDidBlurEditorText(() => {\n                this._endSession();\n            }));\n            this._sessionDispose.add(findController.getState().onFindReplaceStateChange((e) => {\n                if (e.matchCase || e.wholeWord) {\n                    this._endSession();\n                }\n            }));\n        }\n    }\n    _endSession() {\n        this._sessionDispose.clear();\n        if (this._session && this._session.isDisconnectedFromFindController) {\n            const newState = {\n                wholeWordOverride: 0 /* FindOptionOverride.NotSet */,\n                matchCaseOverride: 0 /* FindOptionOverride.NotSet */,\n                isRegexOverride: 0 /* FindOptionOverride.NotSet */,\n            };\n            this._session.findController.getState().change(newState, false);\n        }\n        this._session = null;\n    }\n    _setSelections(selections) {\n        this._ignoreSelectionChange = true;\n        this._editor.setSelections(selections);\n        this._ignoreSelectionChange = false;\n    }\n    _expandEmptyToWord(model, selection) {\n        if (!selection.isEmpty()) {\n            return selection;\n        }\n        const word = this._editor.getConfiguredWordAtPosition(selection.getStartPosition());\n        if (!word) {\n            return selection;\n        }\n        return new Selection(selection.startLineNumber, word.startColumn, selection.startLineNumber, word.endColumn);\n    }\n    _applySessionResult(result) {\n        if (!result) {\n            return;\n        }\n        this._setSelections(result.selections);\n        if (result.revealRange) {\n            this._editor.revealRangeInCenterIfOutsideViewport(result.revealRange, result.revealScrollType);\n        }\n    }\n    getSession(findController) {\n        return this._session;\n    }\n    addSelectionToNextFindMatch(findController) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        if (!this._session) {\n            // If there are multiple cursors, handle the case where they do not all select the same text.\n            const allSelections = this._editor.getSelections();\n            if (allSelections.length > 1) {\n                const findState = findController.getState();\n                const matchCase = findState.matchCase;\n                const selectionsContainSameText = modelRangesContainSameText(this._editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    const model = this._editor.getModel();\n                    const resultingSelections = [];\n                    for (let i = 0, len = allSelections.length; i < len; i++) {\n                        resultingSelections[i] = this._expandEmptyToWord(model, allSelections[i]);\n                    }\n                    this._editor.setSelections(resultingSelections);\n                    return;\n                }\n            }\n        }\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToNextFindMatch());\n        }\n    }\n    addSelectionToPreviousFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.addSelectionToPreviousFindMatch());\n        }\n    }\n    moveSelectionToNextFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToNextFindMatch());\n        }\n    }\n    moveSelectionToPreviousFindMatch(findController) {\n        this._beginSessionIfNeeded(findController);\n        if (this._session) {\n            this._applySessionResult(this._session.moveSelectionToPreviousFindMatch());\n        }\n    }\n    selectAll(findController) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        let matches = null;\n        const findState = findController.getState();\n        // Special case: find widget owns entirely what we search for if:\n        // - focus is not in the editor (i.e. it is in the find widget)\n        // - and the search widget is visible\n        // - and the search string is non-empty\n        // - and we're searching for a regex\n        if (findState.isRevealed && findState.searchString.length > 0 && findState.isRegex) {\n            const editorModel = this._editor.getModel();\n            if (findState.searchScope) {\n                matches = editorModel.findMatches(findState.searchString, findState.searchScope, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(132 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n            }\n            else {\n                matches = editorModel.findMatches(findState.searchString, true, findState.isRegex, findState.matchCase, findState.wholeWord ? this._editor.getOption(132 /* EditorOption.wordSeparators */) : null, false, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n            }\n        }\n        else {\n            this._beginSessionIfNeeded(findController);\n            if (!this._session) {\n                return;\n            }\n            matches = this._session.selectAll(findState.searchScope);\n        }\n        if (matches.length > 0) {\n            const editorSelection = this._editor.getSelection();\n            // Have the primary cursor remain the one where the action was invoked\n            for (let i = 0, len = matches.length; i < len; i++) {\n                const match = matches[i];\n                const intersection = match.range.intersectRanges(editorSelection);\n                if (intersection) {\n                    // bingo!\n                    matches[i] = matches[0];\n                    matches[0] = match;\n                    break;\n                }\n            }\n            this._setSelections(matches.map(m => new Selection(m.range.startLineNumber, m.range.startColumn, m.range.endLineNumber, m.range.endColumn)));\n        }\n    }\n}\nexport class MultiCursorSelectionControllerAction extends EditorAction {\n    run(accessor, editor) {\n        const multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel) {\n            const previousCursorState = viewModel.getCursorStates();\n            const findController = CommonFindController.get(editor);\n            if (findController) {\n                this._run(multiCursorController, findController);\n            }\n            else {\n                const newFindController = accessor.get(IInstantiationService).createInstance(CommonFindController, editor);\n                this._run(multiCursorController, newFindController);\n                newFindController.dispose();\n            }\n            announceCursorChange(previousCursorState, viewModel.getCursorStates());\n        }\n    }\n}\nexport class AddSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.addSelectionToNextFindMatch',\n            label: nls.localize('addSelectionToNextFindMatch', \"Add Selection To Next Find Match\"),\n            alias: 'Add Selection To Next Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 34 /* KeyCode.KeyD */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miAddSelectionToNextFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add &&Next Occurrence\"),\n                order: 5\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.addSelectionToNextFindMatch(findController);\n    }\n}\nexport class AddSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.addSelectionToPreviousFindMatch',\n            label: nls.localize('addSelectionToPreviousFindMatch', \"Add Selection To Previous Find Match\"),\n            alias: 'Add Selection To Previous Find Match',\n            precondition: undefined,\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miAddSelectionToPreviousFindMatch', comment: ['&& denotes a mnemonic'] }, \"Add P&&revious Occurrence\"),\n                order: 6\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.addSelectionToPreviousFindMatch(findController);\n    }\n}\nexport class MoveSelectionToNextFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.moveSelectionToNextFindMatch',\n            label: nls.localize('moveSelectionToNextFindMatch', \"Move Last Selection To Next Find Match\"),\n            alias: 'Move Last Selection To Next Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 34 /* KeyCode.KeyD */),\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.moveSelectionToNextFindMatch(findController);\n    }\n}\nexport class MoveSelectionToPreviousFindMatchAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.moveSelectionToPreviousFindMatch',\n            label: nls.localize('moveSelectionToPreviousFindMatch', \"Move Last Selection To Previous Find Match\"),\n            alias: 'Move Last Selection To Previous Find Match',\n            precondition: undefined\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.moveSelectionToPreviousFindMatch(findController);\n    }\n}\nexport class SelectHighlightsAction extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.selectHighlights',\n            label: nls.localize('selectAllOccurrencesOfFindMatch', \"Select All Occurrences of Find Match\"),\n            alias: 'Select All Occurrences of Find Match',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.focus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 42 /* KeyCode.KeyL */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '3_multi',\n                title: nls.localize({ key: 'miSelectHighlights', comment: ['&& denotes a mnemonic'] }, \"Select All &&Occurrences\"),\n                order: 7\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    }\n}\nexport class CompatChangeAll extends MultiCursorSelectionControllerAction {\n    constructor() {\n        super({\n            id: 'editor.action.changeAll',\n            label: nls.localize('changeAll.label', \"Change All Occurrences\"),\n            alias: 'Change All Occurrences',\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.editorTextFocus),\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 60 /* KeyCode.F2 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            contextMenuOpts: {\n                group: '1_modification',\n                order: 1.2\n            }\n        });\n    }\n    _run(multiCursorController, findController) {\n        multiCursorController.selectAll(findController);\n    }\n}\nclass SelectionHighlighterState {\n    constructor(_model, _searchText, _matchCase, _wordSeparators, prevState) {\n        this._model = _model;\n        this._searchText = _searchText;\n        this._matchCase = _matchCase;\n        this._wordSeparators = _wordSeparators;\n        this._modelVersionId = this._model.getVersionId();\n        this._cachedFindMatches = null;\n        if (prevState\n            && this._model === prevState._model\n            && this._searchText === prevState._searchText\n            && this._matchCase === prevState._matchCase\n            && this._wordSeparators === prevState._wordSeparators\n            && this._modelVersionId === prevState._modelVersionId) {\n            this._cachedFindMatches = prevState._cachedFindMatches;\n        }\n    }\n    findMatches() {\n        if (this._cachedFindMatches === null) {\n            this._cachedFindMatches = this._model.findMatches(this._searchText, true, false, this._matchCase, this._wordSeparators, false).map(m => m.range);\n            this._cachedFindMatches.sort(Range.compareRangesUsingStarts);\n        }\n        return this._cachedFindMatches;\n    }\n}\nlet SelectionHighlighter = class SelectionHighlighter extends Disposable {\n    static { SelectionHighlighter_1 = this; }\n    static { this.ID = 'editor.contrib.selectionHighlighter'; }\n    constructor(editor, _languageFeaturesService) {\n        super();\n        this._languageFeaturesService = _languageFeaturesService;\n        this.editor = editor;\n        this._isEnabled = editor.getOption(109 /* EditorOption.selectionHighlight */);\n        this._decorations = editor.createDecorationsCollection();\n        this.updateSoon = this._register(new RunOnceScheduler(() => this._update(), 300));\n        this.state = null;\n        this._register(editor.onDidChangeConfiguration((e) => {\n            this._isEnabled = editor.getOption(109 /* EditorOption.selectionHighlight */);\n        }));\n        this._register(editor.onDidChangeCursorSelection((e) => {\n            if (!this._isEnabled) {\n                // Early exit if nothing needs to be done!\n                // Leave some form of early exit check here if you wish to continue being a cursor position change listener ;)\n                return;\n            }\n            if (e.selection.isEmpty()) {\n                if (e.reason === 3 /* CursorChangeReason.Explicit */) {\n                    if (this.state) {\n                        // no longer valid\n                        this._setState(null);\n                    }\n                    this.updateSoon.schedule();\n                }\n                else {\n                    this._setState(null);\n                }\n            }\n            else {\n                this._update();\n            }\n        }));\n        this._register(editor.onDidChangeModel((e) => {\n            this._setState(null);\n        }));\n        this._register(editor.onDidChangeModelContent((e) => {\n            if (this._isEnabled) {\n                this.updateSoon.schedule();\n            }\n        }));\n        const findController = CommonFindController.get(editor);\n        if (findController) {\n            this._register(findController.getState().onFindReplaceStateChange((e) => {\n                this._update();\n            }));\n        }\n        this.updateSoon.schedule();\n    }\n    _update() {\n        this._setState(SelectionHighlighter_1._createState(this.state, this._isEnabled, this.editor));\n    }\n    static _createState(oldState, isEnabled, editor) {\n        if (!isEnabled) {\n            return null;\n        }\n        if (!editor.hasModel()) {\n            return null;\n        }\n        const s = editor.getSelection();\n        if (s.startLineNumber !== s.endLineNumber) {\n            // multiline forbidden for perf reasons\n            return null;\n        }\n        const multiCursorController = MultiCursorSelectionController.get(editor);\n        if (!multiCursorController) {\n            return null;\n        }\n        const findController = CommonFindController.get(editor);\n        if (!findController) {\n            return null;\n        }\n        let r = multiCursorController.getSession(findController);\n        if (!r) {\n            const allSelections = editor.getSelections();\n            if (allSelections.length > 1) {\n                const findState = findController.getState();\n                const matchCase = findState.matchCase;\n                const selectionsContainSameText = modelRangesContainSameText(editor.getModel(), allSelections, matchCase);\n                if (!selectionsContainSameText) {\n                    return null;\n                }\n            }\n            r = MultiCursorSession.create(editor, findController);\n        }\n        if (!r) {\n            return null;\n        }\n        if (r.currentMatch) {\n            // This is an empty selection\n            // Do not interfere with semantic word highlighting in the no selection case\n            return null;\n        }\n        if (/^[ \\t]+$/.test(r.searchText)) {\n            // whitespace only selection\n            return null;\n        }\n        if (r.searchText.length > 200) {\n            // very long selection\n            return null;\n        }\n        // TODO: better handling of this case\n        const findState = findController.getState();\n        const caseSensitive = findState.matchCase;\n        // Return early if the find widget shows the exact same matches\n        if (findState.isRevealed) {\n            let findStateSearchString = findState.searchString;\n            if (!caseSensitive) {\n                findStateSearchString = findStateSearchString.toLowerCase();\n            }\n            let mySearchString = r.searchText;\n            if (!caseSensitive) {\n                mySearchString = mySearchString.toLowerCase();\n            }\n            if (findStateSearchString === mySearchString && r.matchCase === findState.matchCase && r.wholeWord === findState.wholeWord && !findState.isRegex) {\n                return null;\n            }\n        }\n        return new SelectionHighlighterState(editor.getModel(), r.searchText, r.matchCase, r.wholeWord ? editor.getOption(132 /* EditorOption.wordSeparators */) : null, oldState);\n    }\n    _setState(newState) {\n        this.state = newState;\n        if (!this.state) {\n            this._decorations.clear();\n            return;\n        }\n        if (!this.editor.hasModel()) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (model.isTooLargeForTokenization()) {\n            // the file is too large, so searching word under cursor in the whole document would be blocking the UI.\n            return;\n        }\n        const allMatches = this.state.findMatches();\n        const selections = this.editor.getSelections();\n        selections.sort(Range.compareRangesUsingStarts);\n        // do not overlap with selection (issue #64 and #512)\n        const matches = [];\n        for (let i = 0, j = 0, len = allMatches.length, lenJ = selections.length; i < len;) {\n            const match = allMatches[i];\n            if (j >= lenJ) {\n                // finished all editor selections\n                matches.push(match);\n                i++;\n            }\n            else {\n                const cmp = Range.compareRangesUsingStarts(match, selections[j]);\n                if (cmp < 0) {\n                    // match is before sel\n                    if (selections[j].isEmpty() || !Range.areIntersecting(match, selections[j])) {\n                        matches.push(match);\n                    }\n                    i++;\n                }\n                else if (cmp > 0) {\n                    // sel is before match\n                    j++;\n                }\n                else {\n                    // sel is equal to match\n                    i++;\n                    j++;\n                }\n            }\n        }\n        const occurrenceHighlighting = this.editor.getOption(81 /* EditorOption.occurrencesHighlight */) !== 'off';\n        const hasSemanticHighlights = this._languageFeaturesService.documentHighlightProvider.has(model) && occurrenceHighlighting;\n        const decorations = matches.map(r => {\n            return {\n                range: r,\n                options: getSelectionHighlightDecorationOptions(hasSemanticHighlights)\n            };\n        });\n        this._decorations.set(decorations);\n    }\n    dispose() {\n        this._setState(null);\n        super.dispose();\n    }\n};\nSelectionHighlighter = SelectionHighlighter_1 = __decorate([\n    __param(1, ILanguageFeaturesService)\n], SelectionHighlighter);\nexport { SelectionHighlighter };\nfunction modelRangesContainSameText(model, ranges, matchCase) {\n    const selectedText = getValueInRange(model, ranges[0], !matchCase);\n    for (let i = 1, len = ranges.length; i < len; i++) {\n        const range = ranges[i];\n        if (range.isEmpty()) {\n            return false;\n        }\n        const thisSelectedText = getValueInRange(model, range, !matchCase);\n        if (selectedText !== thisSelectedText) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getValueInRange(model, range, toLowerCase) {\n    const text = model.getValueInRange(range);\n    return (toLowerCase ? text.toLowerCase() : text);\n}\nexport class FocusNextCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.focusNextCursor',\n            label: nls.localize('mutlicursor.focusNextCursor', \"Focus Next Cursor\"),\n            metadata: {\n                description: nls.localize('mutlicursor.focusNextCursor.description', \"Focuses the next cursor\"),\n                args: [],\n            },\n            alias: 'Focus Next Cursor',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = Array.from(viewModel.getCursorStates());\n        const firstCursor = previousCursorState.shift();\n        if (!firstCursor) {\n            return;\n        }\n        previousCursorState.push(firstCursor);\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, previousCursorState);\n        viewModel.revealPrimaryCursor(args.source, true);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nexport class FocusPreviousCursor extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.focusPreviousCursor',\n            label: nls.localize('mutlicursor.focusPreviousCursor', \"Focus Previous Cursor\"),\n            metadata: {\n                description: nls.localize('mutlicursor.focusPreviousCursor.description', \"Focuses the previous cursor\"),\n                args: [],\n            },\n            alias: 'Focus Previous Cursor',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const viewModel = editor._getViewModel();\n        if (viewModel.cursorConfig.readOnly) {\n            return;\n        }\n        viewModel.model.pushStackElement();\n        const previousCursorState = Array.from(viewModel.getCursorStates());\n        const firstCursor = previousCursorState.pop();\n        if (!firstCursor) {\n            return;\n        }\n        previousCursorState.unshift(firstCursor);\n        viewModel.setCursorStates(args.source, 3 /* CursorChangeReason.Explicit */, previousCursorState);\n        viewModel.revealPrimaryCursor(args.source, true);\n        announceCursorChange(previousCursorState, viewModel.getCursorStates());\n    }\n}\nregisterEditorContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorContribution(SelectionHighlighter.ID, SelectionHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterEditorAction(InsertCursorAbove);\nregisterEditorAction(InsertCursorBelow);\nregisterEditorAction(InsertCursorAtEndOfEachLineSelected);\nregisterEditorAction(AddSelectionToNextFindMatchAction);\nregisterEditorAction(AddSelectionToPreviousFindMatchAction);\nregisterEditorAction(MoveSelectionToNextFindMatchAction);\nregisterEditorAction(MoveSelectionToPreviousFindMatchAction);\nregisterEditorAction(SelectHighlightsAction);\nregisterEditorAction(CompatChangeAll);\nregisterEditorAction(InsertCursorAtEndOfLineSelected);\nregisterEditorAction(InsertCursorAtTopOfLineSelected);\nregisterEditorAction(FocusNextCursor);\nregisterEditorAction(FocusPreviousCursor);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11810, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineEdits/browser/consts.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { localize } from '../../../../nls.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const inlineEditAcceptId = 'editor.action.inlineEdits.accept';\nexport const showPreviousInlineEditActionId = 'editor.action.inlineEdits.showPrevious';\nexport const showNextInlineEditActionId = 'editor.action.inlineEdits.showNext';\nexport const inlineEditVisible = new RawContextKey('inlineEditsVisible', false, localize('inlineEditsVisible', \"Whether an inline edit is visible\"));\nexport const isPinnedContextKey = new RawContextKey('inlineEditsIsPinned', false, localize('isPinned', \"Whether an inline edit is visible\"));\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;;;;AAC9F;AAAA;AACA;;;AACO,MAAM,qBAAqB;AAC3B,MAAM,iCAAiC;AACvC,MAAM,6BAA6B;AACnC,MAAM,oBAAoB,IAAI,gQAAA,CAAA,gBAAa,CAAC,sBAAsB,OAAO,CAAA,GAAA,qOAAA,CAAA,WAAQ,AAAD,EAAE,sBAAsB;AACxG,MAAM,qBAAqB,IAAI,gQAAA,CAAA,gBAAa,CAAC,uBAAuB,OAAO,CAAA,GAAA,qOAAA,CAAA,WAAQ,AAAD,EAAE,YAAY","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11834, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineEdits/browser/inlineEditsWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { h, svgElem } from '../../../../base/browser/dom.js';\nimport { DEFAULT_FONT_FAMILY } from '../../../../base/browser/fonts.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { autorun, constObservable, derived } from '../../../../base/common/observable.js';\nimport { derivedWithSetter } from '../../../../base/common/observableInternal/derived.js';\nimport './inlineEditsWidget.css';\nimport { EditorExtensionsRegistry } from '../../../browser/editorExtensions.js';\nimport { observableCodeEditor } from '../../../browser/observableCodeEditor.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { diffAddDecoration, diffAddDecorationEmpty, diffDeleteDecoration, diffDeleteDecorationEmpty, diffLineAddDecorationBackgroundWithIndicator, diffLineDeleteDecorationBackgroundWithIndicator, diffWholeLineAddDecoration, diffWholeLineDeleteDecoration } from '../../../browser/widget/diffEditor/registrations.contribution.js';\nimport { appendRemoveOnDispose, applyStyle } from '../../../browser/widget/diffEditor/utils.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../common/languages/modesRegistry.js';\nimport { TextModel } from '../../../common/model/textModel.js';\nimport { ContextMenuController } from '../../contextmenu/browser/contextmenu.js';\nimport { PlaceholderTextContribution } from '../../placeholderText/browser/placeholderTextContribution.js';\nimport { SuggestController } from '../../suggest/browser/suggestController.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nexport class InlineEdit {\n    constructor(range, newLines, changes) {\n        this.range = range;\n        this.newLines = newLines;\n        this.changes = changes;\n    }\n}\nlet InlineEditsWidget = class InlineEditsWidget extends Disposable {\n    constructor(_editor, _edit, _userPrompt, _instantiationService) {\n        super();\n        this._editor = _editor;\n        this._edit = _edit;\n        this._userPrompt = _userPrompt;\n        this._instantiationService = _instantiationService;\n        this._editorObs = observableCodeEditor(this._editor);\n        this._elements = h('div.inline-edits-widget', {\n            style: {\n                position: 'absolute',\n                overflow: 'visible',\n                top: '0px',\n                left: '0px',\n            },\n        }, [\n            h('div@editorContainer', { style: { position: 'absolute', top: '0px', left: '0px', width: '500px', height: '500px', } }, [\n                h('div.toolbar@toolbar', { style: { position: 'absolute', top: '-25px', left: '0px' } }),\n                h('div.promptEditor@promptEditor', { style: { position: 'absolute', top: '-25px', left: '80px', width: '300px', height: '22px' } }),\n                h('div.preview@editor', { style: { position: 'absolute', top: '0px', left: '0px' } }),\n            ]),\n            svgElem('svg', { style: { overflow: 'visible', pointerEvents: 'none' }, }, [\n                svgElem('defs', [\n                    svgElem('linearGradient', {\n                        id: 'Gradient2',\n                        x1: '0',\n                        y1: '0',\n                        x2: '1',\n                        y2: '0',\n                    }, [\n                        /*svgElem('stop', { offset: '0%', class: 'gradient-start', }),\n                        svgElem('stop', { offset: '0%', class: 'gradient-start', }),\n                        svgElem('stop', { offset: '20%', class: 'gradient-stop', }),*/\n                        svgElem('stop', { offset: '0%', class: 'gradient-stop', }),\n                        svgElem('stop', { offset: '100%', class: 'gradient-stop', }),\n                    ]),\n                ]),\n                svgElem('path@path', {\n                    d: '',\n                    fill: 'url(#Gradient2)',\n                }),\n            ]),\n        ]);\n        this._previewTextModel = this._register(this._instantiationService.createInstance(TextModel, '', PLAINTEXT_LANGUAGE_ID, TextModel.DEFAULT_CREATION_OPTIONS, null));\n        this._setText = derived(reader => {\n            const edit = this._edit.read(reader);\n            if (!edit) {\n                return;\n            }\n            this._previewTextModel.setValue(edit.newLines.join('\\n'));\n        }).recomputeInitiallyAndOnChange(this._store);\n        this._promptTextModel = this._register(this._instantiationService.createInstance(TextModel, '', PLAINTEXT_LANGUAGE_ID, TextModel.DEFAULT_CREATION_OPTIONS, null));\n        this._promptEditor = this._register(this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._elements.promptEditor, {\n            glyphMargin: false,\n            lineNumbers: 'off',\n            minimap: { enabled: false },\n            guides: {\n                indentation: false,\n                bracketPairs: false,\n                bracketPairsHorizontal: false,\n                highlightActiveIndentation: false,\n            },\n            folding: false,\n            selectOnLineNumbers: false,\n            selectionHighlight: false,\n            columnSelection: false,\n            overviewRulerBorder: false,\n            overviewRulerLanes: 0,\n            lineDecorationsWidth: 0,\n            lineNumbersMinChars: 0,\n            placeholder: 'Describe the change you want...',\n            fontFamily: DEFAULT_FONT_FAMILY,\n        }, {\n            contributions: EditorExtensionsRegistry.getSomeEditorContributions([\n                SuggestController.ID,\n                PlaceholderTextContribution.ID,\n                ContextMenuController.ID,\n            ]),\n            isSimpleWidget: true\n        }, this._editor));\n        this._previewEditor = this._register(this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._elements.editor, {\n            glyphMargin: false,\n            lineNumbers: 'off',\n            minimap: { enabled: false },\n            guides: {\n                indentation: false,\n                bracketPairs: false,\n                bracketPairsHorizontal: false,\n                highlightActiveIndentation: false,\n            },\n            folding: false,\n            selectOnLineNumbers: false,\n            selectionHighlight: false,\n            columnSelection: false,\n            overviewRulerBorder: false,\n            overviewRulerLanes: 0,\n            lineDecorationsWidth: 0,\n            lineNumbersMinChars: 0,\n        }, { contributions: [], }, this._editor));\n        this._previewEditorObs = observableCodeEditor(this._previewEditor);\n        this._decorations = derived(this, (reader) => {\n            this._setText.read(reader);\n            const diff = this._edit.read(reader)?.changes;\n            if (!diff) {\n                return [];\n            }\n            const originalDecorations = [];\n            const modifiedDecorations = [];\n            if (diff.length === 1 && diff[0].innerChanges[0].modifiedRange.equalsRange(this._previewTextModel.getFullModelRange())) {\n                return [];\n            }\n            for (const m of diff) {\n                if (!m.original.isEmpty) {\n                    originalDecorations.push({ range: m.original.toInclusiveRange(), options: diffLineDeleteDecorationBackgroundWithIndicator });\n                }\n                if (!m.modified.isEmpty) {\n                    modifiedDecorations.push({ range: m.modified.toInclusiveRange(), options: diffLineAddDecorationBackgroundWithIndicator });\n                }\n                if (m.modified.isEmpty || m.original.isEmpty) {\n                    if (!m.original.isEmpty) {\n                        originalDecorations.push({ range: m.original.toInclusiveRange(), options: diffWholeLineDeleteDecoration });\n                    }\n                    if (!m.modified.isEmpty) {\n                        modifiedDecorations.push({ range: m.modified.toInclusiveRange(), options: diffWholeLineAddDecoration });\n                    }\n                }\n                else {\n                    for (const i of m.innerChanges || []) {\n                        // Don't show empty markers outside the line range\n                        if (m.original.contains(i.originalRange.startLineNumber)) {\n                            originalDecorations.push({ range: i.originalRange, options: i.originalRange.isEmpty() ? diffDeleteDecorationEmpty : diffDeleteDecoration });\n                        }\n                        if (m.modified.contains(i.modifiedRange.startLineNumber)) {\n                            modifiedDecorations.push({ range: i.modifiedRange, options: i.modifiedRange.isEmpty() ? diffAddDecorationEmpty : diffAddDecoration });\n                        }\n                    }\n                }\n            }\n            return modifiedDecorations;\n        });\n        this._layout1 = derived(this, reader => {\n            const model = this._editor.getModel();\n            const inlineEdit = this._edit.read(reader);\n            if (!inlineEdit) {\n                return null;\n            }\n            const range = inlineEdit.range;\n            let maxLeft = 0;\n            for (let i = range.startLineNumber; i < range.endLineNumberExclusive; i++) {\n                const column = model.getLineMaxColumn(i);\n                const left = this._editor.getOffsetForColumn(i, column);\n                maxLeft = Math.max(maxLeft, left);\n            }\n            const layoutInfo = this._editor.getLayoutInfo();\n            const contentLeft = layoutInfo.contentLeft;\n            return { left: contentLeft + maxLeft };\n        });\n        this._layout = derived(this, (reader) => {\n            const inlineEdit = this._edit.read(reader);\n            if (!inlineEdit) {\n                return null;\n            }\n            const range = inlineEdit.range;\n            const scrollLeft = this._editorObs.scrollLeft.read(reader);\n            const left = this._layout1.read(reader).left + 20 - scrollLeft;\n            const selectionTop = this._editor.getTopForLineNumber(range.startLineNumber) - this._editorObs.scrollTop.read(reader);\n            const selectionBottom = this._editor.getTopForLineNumber(range.endLineNumberExclusive) - this._editorObs.scrollTop.read(reader);\n            const topCode = new Point(left, selectionTop);\n            const bottomCode = new Point(left, selectionBottom);\n            const codeHeight = selectionBottom - selectionTop;\n            const codeEditDist = 50;\n            const editHeight = this._editor.getOption(67 /* EditorOption.lineHeight */) * inlineEdit.newLines.length;\n            const difference = codeHeight - editHeight;\n            const topEdit = new Point(left + codeEditDist, selectionTop + (difference / 2));\n            const bottomEdit = new Point(left + codeEditDist, selectionBottom - (difference / 2));\n            return {\n                topCode,\n                bottomCode,\n                codeHeight,\n                topEdit,\n                bottomEdit,\n                editHeight,\n            };\n        });\n        const visible = derived(this, reader => this._edit.read(reader) !== undefined || this._userPrompt.read(reader) !== undefined);\n        this._register(applyStyle(this._elements.root, {\n            display: derived(this, reader => visible.read(reader) ? 'block' : 'none')\n        }));\n        this._register(appendRemoveOnDispose(this._editor.getDomNode(), this._elements.root));\n        this._register(observableCodeEditor(_editor).createOverlayWidget({\n            domNode: this._elements.root,\n            position: constObservable(null),\n            allowEditorOverflow: false,\n            minContentWidthInPx: derived(reader => {\n                const x = this._layout1.read(reader)?.left;\n                if (x === undefined) {\n                    return 0;\n                }\n                const width = this._previewEditorObs.contentWidth.read(reader);\n                return x + width;\n            }),\n        }));\n        this._previewEditor.setModel(this._previewTextModel);\n        this._register(this._previewEditorObs.setDecorations(this._decorations));\n        this._register(autorun(reader => {\n            const layoutInfo = this._layout.read(reader);\n            if (!layoutInfo) {\n                return;\n            }\n            const { topCode, bottomCode, topEdit, bottomEdit, editHeight } = layoutInfo;\n            const straightWidthCode = 10;\n            const straightWidthEdit = 0;\n            const bezierDist = 40;\n            const path = new PathBuilder()\n                .moveTo(topCode)\n                .lineTo(topCode.deltaX(straightWidthCode))\n                .curveTo(topCode.deltaX(straightWidthCode + bezierDist), topEdit.deltaX(-bezierDist - straightWidthEdit), topEdit.deltaX(-straightWidthEdit))\n                .lineTo(topEdit)\n                .lineTo(bottomEdit)\n                .lineTo(bottomEdit.deltaX(-straightWidthEdit))\n                .curveTo(bottomEdit.deltaX(-bezierDist - straightWidthEdit), bottomCode.deltaX(straightWidthCode + bezierDist), bottomCode.deltaX(straightWidthCode))\n                .lineTo(bottomCode)\n                .build();\n            this._elements.path.setAttribute('d', path);\n            this._elements.editorContainer.style.top = `${topEdit.y}px`;\n            this._elements.editorContainer.style.left = `${topEdit.x}px`;\n            this._elements.editorContainer.style.height = `${editHeight}px`;\n            const width = this._previewEditorObs.contentWidth.read(reader);\n            this._previewEditor.layout({ height: editHeight, width });\n        }));\n        this._promptEditor.setModel(this._promptTextModel);\n        this._promptEditor.layout();\n        this._register(createTwoWaySync(mapSettableObservable(this._userPrompt, v => v ?? '', v => v), observableCodeEditor(this._promptEditor).value));\n        this._register(autorun(reader => {\n            const isFocused = observableCodeEditor(this._promptEditor).isFocused.read(reader);\n            this._elements.root.classList.toggle('focused', isFocused);\n        }));\n    }\n};\nInlineEditsWidget = __decorate([\n    __param(3, IInstantiationService)\n], InlineEditsWidget);\nexport { InlineEditsWidget };\nfunction mapSettableObservable(obs, fn1, fn2) {\n    return derivedWithSetter(undefined, reader => fn1(obs.read(reader)), (value, tx) => obs.set(fn2(value), tx));\n}\nclass Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    deltaX(delta) {\n        return new Point(this.x + delta, this.y);\n    }\n}\nclass PathBuilder {\n    constructor() {\n        this._data = '';\n    }\n    moveTo(point) {\n        this._data += `M ${point.x} ${point.y} `;\n        return this;\n    }\n    lineTo(point) {\n        this._data += `L ${point.x} ${point.y} `;\n        return this;\n    }\n    curveTo(cp1, cp2, to) {\n        this._data += `C ${cp1.x} ${cp1.y} ${cp2.x} ${cp2.y} ${to.x} ${to.y} `;\n        return this;\n    }\n    build() {\n        return this._data;\n    }\n}\nfunction createTwoWaySync(main, target) {\n    const store = new DisposableStore();\n    store.add(autorun(reader => {\n        const value = main.read(reader);\n        target.set(value, undefined);\n    }));\n    store.add(autorun(reader => {\n        const value = target.read(reader);\n        main.set(value, undefined);\n    }));\n    return store;\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12244, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineEdits/browser/inlineEditsModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar InlineEditsModel_1;\nimport { timeout } from '../../../../base/common/async.js';\nimport { CancellationToken, cancelOnDispose } from '../../../../base/common/cancellation.js';\nimport { itemsEquals, structuralEquals } from '../../../../base/common/equals.js';\nimport { BugIndicatingError } from '../../../../base/common/errors.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ObservablePromise, derived, derivedHandleChanges, derivedOpts, disposableObservableValue, observableSignal, observableValue, recomputeInitiallyAndOnChange, subtransaction } from '../../../../base/common/observable.js';\nimport { derivedDisposable } from '../../../../base/common/observableInternal/derived.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IDiffProviderFactoryService } from '../../../browser/widget/diffEditor/diffProviderFactoryService.js';\nimport { LineRange } from '../../../common/core/lineRange.js';\nimport { InlineCompletionTriggerKind } from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { provideInlineCompletions } from '../../inlineCompletions/browser/model/provideInlineCompletions.js';\nimport { InlineEdit } from './inlineEditsWidget.js';\nlet InlineEditsModel = class InlineEditsModel extends Disposable {\n    static { InlineEditsModel_1 = this; }\n    static { this._modelId = 0; }\n    static _createUniqueUri() {\n        return URI.from({ scheme: 'inline-edits', path: new Date().toString() + String(InlineEditsModel_1._modelId++) });\n    }\n    constructor(textModel, _textModelVersionId, _selection, _debounceValue, languageFeaturesService, _diffProviderFactoryService, _modelService) {\n        super();\n        this.textModel = textModel;\n        this._textModelVersionId = _textModelVersionId;\n        this._selection = _selection;\n        this._debounceValue = _debounceValue;\n        this.languageFeaturesService = languageFeaturesService;\n        this._diffProviderFactoryService = _diffProviderFactoryService;\n        this._modelService = _modelService;\n        this._forceUpdateExplicitlySignal = observableSignal(this);\n        // We use a semantic id to keep the same inline completion selected even if the provider reorders the completions.\n        this._selectedInlineCompletionId = observableValue(this, undefined);\n        this._isActive = observableValue(this, false);\n        this._originalModel = derivedDisposable(() => this._modelService.createModel('', null, InlineEditsModel_1._createUniqueUri())).keepObserved(this._store);\n        this._modifiedModel = derivedDisposable(() => this._modelService.createModel('', null, InlineEditsModel_1._createUniqueUri())).keepObserved(this._store);\n        this._pinnedRange = new TrackedRange(this.textModel, this._textModelVersionId);\n        this.isPinned = this._pinnedRange.range.map(range => !!range);\n        this.userPrompt = observableValue(this, undefined);\n        this.inlineEdit = derived(this, reader => {\n            return this._inlineEdit.read(reader)?.promiseResult.read(reader)?.data;\n        });\n        this._inlineEdit = derived(this, reader => {\n            const edit = this.selectedInlineEdit.read(reader);\n            if (!edit) {\n                return undefined;\n            }\n            const range = edit.inlineCompletion.range;\n            if (edit.inlineCompletion.insertText.trim() === '') {\n                return undefined;\n            }\n            let newLines = edit.inlineCompletion.insertText.split(/\\r\\n|\\r|\\n/);\n            function removeIndentation(lines) {\n                const indentation = lines[0].match(/^\\s*/)?.[0] ?? '';\n                return lines.map(l => l.replace(new RegExp('^' + indentation), ''));\n            }\n            newLines = removeIndentation(newLines);\n            const existing = this.textModel.getValueInRange(range);\n            let existingLines = existing.split(/\\r\\n|\\r|\\n/);\n            existingLines = removeIndentation(existingLines);\n            this._originalModel.get().setValue(existingLines.join('\\n'));\n            this._modifiedModel.get().setValue(newLines.join('\\n'));\n            const d = this._diffProviderFactoryService.createDiffProvider({ diffAlgorithm: 'advanced' });\n            return ObservablePromise.fromFn(async () => {\n                const result = await d.computeDiff(this._originalModel.get(), this._modifiedModel.get(), {\n                    computeMoves: false,\n                    ignoreTrimWhitespace: false,\n                    maxComputationTimeMs: 1000,\n                }, CancellationToken.None);\n                if (result.identical) {\n                    return undefined;\n                }\n                return new InlineEdit(LineRange.fromRangeInclusive(range), removeIndentation(newLines), result.changes);\n            });\n        });\n        this._fetchStore = this._register(new DisposableStore());\n        this._inlineEditsFetchResult = disposableObservableValue(this, undefined);\n        this._inlineEdits = derivedOpts({ owner: this, equalsFn: structuralEquals }, reader => {\n            return this._inlineEditsFetchResult.read(reader)?.completions.map(c => new InlineEditData(c)) ?? [];\n        });\n        this._fetchInlineEditsPromise = derivedHandleChanges({\n            owner: this,\n            createEmptyChangeSummary: () => ({\n                inlineCompletionTriggerKind: InlineCompletionTriggerKind.Automatic\n            }),\n            handleChange: (ctx, changeSummary) => {\n                /** @description fetch inline completions */\n                if (ctx.didChange(this._forceUpdateExplicitlySignal)) {\n                    changeSummary.inlineCompletionTriggerKind = InlineCompletionTriggerKind.Explicit;\n                }\n                return true;\n            },\n        }, async (reader, changeSummary) => {\n            this._fetchStore.clear();\n            this._forceUpdateExplicitlySignal.read(reader);\n            /*if (!this._isActive.read(reader)) {\n                return undefined;\n            }*/\n            this._textModelVersionId.read(reader);\n            function mapValue(value, fn) {\n                return fn(value);\n            }\n            const selection = this._pinnedRange.range.read(reader) ?? mapValue(this._selection.read(reader), v => v.isEmpty() ? undefined : v);\n            if (!selection) {\n                this._inlineEditsFetchResult.set(undefined, undefined);\n                this.userPrompt.set(undefined, undefined);\n                return undefined;\n            }\n            const context = {\n                triggerKind: changeSummary.inlineCompletionTriggerKind,\n                selectedSuggestionInfo: undefined,\n                userPrompt: this.userPrompt.read(reader),\n            };\n            const token = cancelOnDispose(this._fetchStore);\n            await timeout(200, token);\n            const result = await provideInlineCompletions(this.languageFeaturesService.inlineCompletionsProvider, selection, this.textModel, context, token);\n            if (token.isCancellationRequested) {\n                return;\n            }\n            this._inlineEditsFetchResult.set(result, undefined);\n        });\n        this._filteredInlineEditItems = derivedOpts({ owner: this, equalsFn: itemsEquals() }, reader => {\n            return this._inlineEdits.read(reader);\n        });\n        this.selectedInlineCompletionIndex = derived(this, (reader) => {\n            const selectedInlineCompletionId = this._selectedInlineCompletionId.read(reader);\n            const filteredCompletions = this._filteredInlineEditItems.read(reader);\n            const idx = this._selectedInlineCompletionId === undefined ? -1\n                : filteredCompletions.findIndex(v => v.semanticId === selectedInlineCompletionId);\n            if (idx === -1) {\n                // Reset the selection so that the selection does not jump back when it appears again\n                this._selectedInlineCompletionId.set(undefined, undefined);\n                return 0;\n            }\n            return idx;\n        });\n        this.selectedInlineEdit = derived(this, (reader) => {\n            const filteredCompletions = this._filteredInlineEditItems.read(reader);\n            const idx = this.selectedInlineCompletionIndex.read(reader);\n            return filteredCompletions[idx];\n        });\n        this._register(recomputeInitiallyAndOnChange(this._fetchInlineEditsPromise));\n    }\n    async triggerExplicitly(tx) {\n        subtransaction(tx, tx => {\n            this._isActive.set(true, tx);\n            this._forceUpdateExplicitlySignal.trigger(tx);\n        });\n        await this._fetchInlineEditsPromise.get();\n    }\n    stop(tx) {\n        subtransaction(tx, tx => {\n            this.userPrompt.set(undefined, tx);\n            this._isActive.set(false, tx);\n            this._inlineEditsFetchResult.set(undefined, tx);\n            this._pinnedRange.setRange(undefined, tx);\n            //this._source.clear(tx);\n        });\n    }\n    async _deltaSelectedInlineCompletionIndex(delta) {\n        await this.triggerExplicitly();\n        const completions = this._filteredInlineEditItems.get() || [];\n        if (completions.length > 0) {\n            const newIdx = (this.selectedInlineCompletionIndex.get() + delta + completions.length) % completions.length;\n            this._selectedInlineCompletionId.set(completions[newIdx].semanticId, undefined);\n        }\n        else {\n            this._selectedInlineCompletionId.set(undefined, undefined);\n        }\n    }\n    async next() {\n        await this._deltaSelectedInlineCompletionIndex(1);\n    }\n    async previous() {\n        await this._deltaSelectedInlineCompletionIndex(-1);\n    }\n    async accept(editor) {\n        if (editor.getModel() !== this.textModel) {\n            throw new BugIndicatingError();\n        }\n        const edit = this.selectedInlineEdit.get();\n        if (!edit) {\n            return;\n        }\n        editor.pushUndoStop();\n        editor.executeEdits('inlineSuggestion.accept', [\n            edit.inlineCompletion.toSingleTextEdit().toSingleEditOperation()\n        ]);\n        this.stop();\n    }\n};\nInlineEditsModel = InlineEditsModel_1 = __decorate([\n    __param(4, ILanguageFeaturesService),\n    __param(5, IDiffProviderFactoryService),\n    __param(6, IModelService)\n], InlineEditsModel);\nexport { InlineEditsModel };\nclass InlineEditData {\n    constructor(inlineCompletion) {\n        this.inlineCompletion = inlineCompletion;\n        this.semanticId = this.inlineCompletion.hash();\n    }\n}\nclass TrackedRange extends Disposable {\n    constructor(_textModel, _versionId) {\n        super();\n        this._textModel = _textModel;\n        this._versionId = _versionId;\n        this._decorations = observableValue(this, []);\n        this.range = derived(this, reader => {\n            this._versionId.read(reader);\n            const deco = this._decorations.read(reader)[0];\n            if (!deco) {\n                return null;\n            }\n            return this._textModel.getDecorationRange(deco) ?? null;\n        });\n        this._register(toDisposable(() => {\n            this._textModel.deltaDecorations(this._decorations.get(), []);\n        }));\n    }\n    setRange(range, tx) {\n        this._decorations.set(this._textModel.deltaDecorations(this._decorations.get(), range ? [{ range, options: { description: 'trackedRange' } }] : []), tx);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12529, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineEdits/browser/inlineEditsController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar InlineEditsController_1;\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { derived, derivedObservableWithCache, observableValue } from '../../../../base/common/observable.js';\nimport { derivedDisposable, derivedWithSetter } from '../../../../base/common/observableInternal/derived.js';\nimport { observableCodeEditor } from '../../../browser/observableCodeEditor.js';\nimport { readHotReloadableExport } from '../../../../base/common/hotReloadHelpers.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { inlineEditVisible, isPinnedContextKey } from './consts.js';\nimport { InlineEditsModel } from './inlineEditsModel.js';\nimport { InlineEditsWidget } from './inlineEditsWidget.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { bindContextKey, observableConfigValue } from '../../../../platform/observable/common/platformObservableUtils.js';\nlet InlineEditsController = class InlineEditsController extends Disposable {\n    static { InlineEditsController_1 = this; }\n    static { this.ID = 'editor.contrib.inlineEditsController'; }\n    static get(editor) {\n        return editor.getContribution(InlineEditsController_1.ID);\n    }\n    constructor(editor, _instantiationService, _contextKeyService, _debounceService, _languageFeaturesService, _configurationService) {\n        super();\n        this.editor = editor;\n        this._instantiationService = _instantiationService;\n        this._contextKeyService = _contextKeyService;\n        this._debounceService = _debounceService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._configurationService = _configurationService;\n        this._enabled = observableConfigValue('editor.inlineEdits.enabled', false, this._configurationService);\n        this._editorObs = observableCodeEditor(this.editor);\n        this._selection = derived(this, reader => this._editorObs.cursorSelection.read(reader) ?? new Selection(1, 1, 1, 1));\n        this._debounceValue = this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider, 'InlineEditsDebounce', { min: 50, max: 50 });\n        this.model = derivedDisposable(this, reader => {\n            if (!this._enabled.read(reader)) {\n                return undefined;\n            }\n            if (this._editorObs.isReadonly.read(reader)) {\n                return undefined;\n            }\n            const textModel = this._editorObs.model.read(reader);\n            if (!textModel) {\n                return undefined;\n            }\n            const model = this._instantiationService.createInstance(readHotReloadableExport(InlineEditsModel, reader), textModel, this._editorObs.versionId, this._selection, this._debounceValue);\n            return model;\n        });\n        this._hadInlineEdit = derivedObservableWithCache(this, (reader, lastValue) => lastValue || this.model.read(reader)?.inlineEdit.read(reader) !== undefined);\n        this._widget = derivedDisposable(this, reader => {\n            if (!this._hadInlineEdit.read(reader)) {\n                return undefined;\n            }\n            return this._instantiationService.createInstance(readHotReloadableExport(InlineEditsWidget, reader), this.editor, this.model.map((m, reader) => m?.inlineEdit.read(reader)), flattenSettableObservable((reader) => this.model.read(reader)?.userPrompt ?? observableValue('empty', '')));\n        });\n        this._register(bindContextKey(inlineEditVisible, this._contextKeyService, r => !!this.model.read(r)?.inlineEdit.read(r)));\n        this._register(bindContextKey(isPinnedContextKey, this._contextKeyService, r => !!this.model.read(r)?.isPinned.read(r)));\n        this.model.recomputeInitiallyAndOnChange(this._store);\n        this._widget.recomputeInitiallyAndOnChange(this._store);\n    }\n};\nInlineEditsController = InlineEditsController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, IContextKeyService),\n    __param(3, ILanguageFeatureDebounceService),\n    __param(4, ILanguageFeaturesService),\n    __param(5, IConfigurationService)\n], InlineEditsController);\nexport { InlineEditsController };\nfunction flattenSettableObservable(fn) {\n    return derivedWithSetter(undefined, reader => {\n        const obs = fn(reader);\n        return obs.read(reader);\n    }, (value, tx) => {\n        fn(undefined).set(value, tx);\n    });\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12662, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineEdits/browser/commands.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { transaction } from '../../../../base/common/observable.js';\nimport { asyncTransaction } from '../../../../base/common/observableInternal/base.js';\nimport { EditorAction } from '../../../browser/editorExtensions.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { inlineEditAcceptId, inlineEditVisible, showNextInlineEditActionId, showPreviousInlineEditActionId } from './consts.js';\nimport { InlineEditsController } from './inlineEditsController.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nfunction labelAndAlias(str) {\n    return {\n        label: str.value,\n        alias: str.original,\n    };\n}\nexport class ShowNextInlineEditAction extends EditorAction {\n    static { this.ID = showNextInlineEditActionId; }\n    constructor() {\n        super({\n            id: ShowNextInlineEditAction.ID,\n            ...labelAndAlias(nls.localize2('action.inlineEdits.showNext', \"Show Next Inline Edit\")),\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, inlineEditVisible),\n            kbOpts: {\n                weight: 100,\n                primary: 512 /* KeyMod.Alt */ | 94 /* KeyCode.BracketRight */,\n            },\n        });\n    }\n    async run(accessor, editor) {\n        const controller = InlineEditsController.get(editor);\n        controller?.model.get()?.next();\n    }\n}\nexport class ShowPreviousInlineEditAction extends EditorAction {\n    static { this.ID = showPreviousInlineEditActionId; }\n    constructor() {\n        super({\n            id: ShowPreviousInlineEditAction.ID,\n            ...labelAndAlias(nls.localize2('action.inlineEdits.showPrevious', \"Show Previous Inline Edit\")),\n            precondition: ContextKeyExpr.and(EditorContextKeys.writable, inlineEditVisible),\n            kbOpts: {\n                weight: 100,\n                primary: 512 /* KeyMod.Alt */ | 92 /* KeyCode.BracketLeft */,\n            },\n        });\n    }\n    async run(accessor, editor) {\n        const controller = InlineEditsController.get(editor);\n        controller?.model.get()?.previous();\n    }\n}\nexport class TriggerInlineEditAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.inlineEdits.trigger',\n            ...labelAndAlias(nls.localize2('action.inlineEdits.trigger', \"Trigger Inline Edit\")),\n            precondition: EditorContextKeys.writable\n        });\n    }\n    async run(accessor, editor) {\n        const controller = InlineEditsController.get(editor);\n        await asyncTransaction(async (tx) => {\n            /** @description triggerExplicitly from command */\n            await controller?.model.get()?.triggerExplicitly(tx);\n        });\n    }\n}\nexport class AcceptInlineEdit extends EditorAction {\n    constructor() {\n        super({\n            id: inlineEditAcceptId,\n            ...labelAndAlias(nls.localize2('action.inlineEdits.accept', \"Accept Inline Edit\")),\n            precondition: inlineEditVisible,\n            menuOpts: {\n                menuId: MenuId.InlineEditsActions,\n                title: nls.localize('inlineEditsActions', \"Accept Inline Edit\"),\n                group: 'primary',\n                order: 1,\n                icon: Codicon.check,\n            },\n            kbOpts: {\n                primary: 2048 /* KeyMod.CtrlCmd */ | 10 /* KeyCode.Space */,\n                weight: 20000,\n                kbExpr: inlineEditVisible,\n            }\n        });\n    }\n    async run(accessor, editor) {\n        if (editor instanceof EmbeddedCodeEditorWidget) {\n            editor = editor.getParentEditor();\n        }\n        const controller = InlineEditsController.get(editor);\n        if (controller) {\n            controller.model.get()?.accept(controller.editor);\n            controller.editor.focus();\n        }\n    }\n}\n/*\nTODO@hediet\nexport class PinInlineEdit extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.inlineEdits.pin',\n            ...labelAndAlias(nls.localize2('action.inlineEdits.pin', \"Pin Inline Edit\")),\n            precondition: undefined,\n            kbOpts: {\n                primary: KeyMod.Shift | KeyCode.Space,\n                weight: 20000,\n            }\n        });\n    }\n\n    public async run(accessor: ServicesAccessor | undefined, editor: ICodeEditor): Promise<void> {\n        const controller = InlineEditsController.get(editor);\n        if (controller) {\n            controller.model.get()?.togglePin();\n        }\n    }\n}\n\nMenuRegistry.appendMenuItem(MenuId.InlineEditsActions, {\n    command: {\n        id: 'editor.action.inlineEdits.pin',\n        title: nls.localize('Pin', \"Pin\"),\n        icon: Codicon.pin,\n    },\n    group: 'primary',\n    order: 1,\n    when: isPinnedContextKey.negate(),\n});\n\nMenuRegistry.appendMenuItem(MenuId.InlineEditsActions, {\n    command: {\n        id: 'editor.action.inlineEdits.unpin',\n        title: nls.localize('Unpin', \"Unpin\"),\n        icon: Codicon.pinned,\n    },\n    group: 'primary',\n    order: 1,\n    when: isPinnedContextKey,\n});*/\nexport class HideInlineEdit extends EditorAction {\n    static { this.ID = 'editor.action.inlineEdits.hide'; }\n    constructor() {\n        super({\n            id: HideInlineEdit.ID,\n            ...labelAndAlias(nls.localize2('action.inlineEdits.hide', \"Hide Inline Edit\")),\n            precondition: inlineEditVisible,\n            kbOpts: {\n                weight: 100,\n                primary: 9 /* KeyCode.Escape */,\n            }\n        });\n    }\n    async run(accessor, editor) {\n        const controller = InlineEditsController.get(editor);\n        transaction(tx => {\n            controller?.model.get()?.stop(tx);\n        });\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12812, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/inlineEdits/browser/inlineEdits.contribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { TriggerInlineEditAction, ShowNextInlineEditAction, ShowPreviousInlineEditAction, AcceptInlineEdit, HideInlineEdit } from './commands.js';\nimport { InlineEditsController } from './inlineEditsController.js';\nregisterEditorContribution(InlineEditsController.ID, InlineEditsController, 3 /* EditorContributionInstantiation.Eventually */);\nregisterEditorAction(TriggerInlineEditAction);\nregisterEditorAction(ShowNextInlineEditAction);\nregisterEditorAction(ShowPreviousInlineEditAction);\nregisterEditorAction(AcceptInlineEdit);\nregisterEditorAction(HideInlineEdit);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;;;;AACA,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,sRAAA,CAAA,wBAAqB,CAAC,EAAE,EAAE,sRAAA,CAAA,wBAAqB,EAAE,EAAE,8CAA8C;AAC5H,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE,yQAAA,CAAA,0BAAuB;AAC5C,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE,yQAAA,CAAA,2BAAwB;AAC7C,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE,yQAAA,CAAA,+BAA4B;AACjD,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE,yQAAA,CAAA,mBAAgB;AACrC,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE,yQAAA,CAAA,iBAAc","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12832, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/placeholderText/browser/placeholderTextContribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { h } from '../../../../base/browser/dom.js';\nimport { structuralEquals } from '../../../../base/common/equals.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, constObservable, derivedObservableWithCache, derivedOpts } from '../../../../base/common/observable.js';\nimport { derivedWithStore } from '../../../../base/common/observableInternal/derived.js';\nimport { observableCodeEditor } from '../../../browser/observableCodeEditor.js';\n/**\n * Use the editor option to set the placeholder text.\n*/\nexport class PlaceholderTextContribution extends Disposable {\n    static { this.ID = 'editor.contrib.placeholderText'; }\n    constructor(_editor) {\n        super();\n        this._editor = _editor;\n        this._editorObs = observableCodeEditor(this._editor);\n        this._placeholderText = this._editorObs.getOption(88 /* EditorOption.placeholder */);\n        this._state = derivedOpts({ owner: this, equalsFn: structuralEquals }, reader => {\n            const p = this._placeholderText.read(reader);\n            if (!p) {\n                return undefined;\n            }\n            if (!this._editorObs.valueIsEmpty.read(reader)) {\n                return undefined;\n            }\n            return { placeholder: p };\n        });\n        this._shouldViewBeAlive = isOrWasTrue(this, reader => this._state.read(reader)?.placeholder !== undefined);\n        this._view = derivedWithStore((reader, store) => {\n            if (!this._shouldViewBeAlive.read(reader)) {\n                return;\n            }\n            const element = h('div.editorPlaceholder');\n            store.add(autorun(reader => {\n                const data = this._state.read(reader);\n                const shouldBeVisibile = data?.placeholder !== undefined;\n                element.root.style.display = shouldBeVisibile ? 'block' : 'none';\n                element.root.innerText = data?.placeholder ?? '';\n            }));\n            store.add(autorun(reader => {\n                const info = this._editorObs.layoutInfo.read(reader);\n                element.root.style.left = `${info.contentLeft}px`;\n                element.root.style.width = (info.contentWidth - info.verticalScrollbarWidth) + 'px';\n                element.root.style.top = `${this._editor.getTopForLineNumber(0)}px`;\n            }));\n            store.add(autorun(reader => {\n                element.root.style.fontFamily = this._editorObs.getOption(49 /* EditorOption.fontFamily */).read(reader);\n                element.root.style.fontSize = this._editorObs.getOption(52 /* EditorOption.fontSize */).read(reader) + 'px';\n                element.root.style.lineHeight = this._editorObs.getOption(67 /* EditorOption.lineHeight */).read(reader) + 'px';\n            }));\n            store.add(this._editorObs.createOverlayWidget({\n                allowEditorOverflow: false,\n                minContentWidthInPx: constObservable(0),\n                position: constObservable(null),\n                domNode: element.root,\n            }));\n        });\n        this._view.recomputeInitiallyAndOnChange(this._store);\n    }\n}\nfunction isOrWasTrue(owner, fn) {\n    return derivedObservableWithCache(owner, (reader, lastValue) => {\n        if (lastValue === true) {\n            return true;\n        }\n        return fn(reader);\n    });\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12923, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/placeholderText/browser/placeholderText.contribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './placeholderText.css';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ghostTextForeground } from '../../../common/core/editorColorRegistry.js';\nimport { localize } from '../../../../nls.js';\nimport { registerColor } from '../../../../platform/theme/common/colorUtils.js';\nimport { PlaceholderTextContribution } from './placeholderTextContribution.js';\nimport { wrapInReloadableClass1 } from '../../../../platform/observable/common/wrapInReloadableClass.js';\nregisterEditorContribution(PlaceholderTextContribution.ID, wrapInReloadableClass1(() => PlaceholderTextContribution), 0 /* EditorContributionInstantiation.Eager */);\nregisterColor('editor.placeholder.foreground', ghostTextForeground, localize('placeholderForeground', 'Foreground color of the placeholder text in the editor.'));\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAE9F;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;AACA,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,gSAAA,CAAA,8BAA2B,CAAC,EAAE,EAAE,CAAA,GAAA,2QAAA,CAAA,yBAAsB,AAAD,EAAE,IAAM,gSAAA,CAAA,8BAA2B,GAAG,EAAE,yCAAyC;AACjK,CAAA,GAAA,2PAAA,CAAA,gBAAa,AAAD,EAAE,iCAAiC,iQAAA,CAAA,sBAAmB,EAAE,CAAA,GAAA,qOAAA,CAAA,WAAQ,AAAD,EAAE,yBAAyB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12947, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/provideSignatureHelp.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Position } from '../../../common/core/position.js';\nimport * as languages from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nexport const Context = {\n    Visible: new RawContextKey('parameterHintsVisible', false),\n    MultipleSignatures: new RawContextKey('parameterHintsMultipleSignatures', false),\n};\nexport async function provideSignatureHelp(registry, model, position, context, token) {\n    const supports = registry.ordered(model);\n    for (const support of supports) {\n        try {\n            const result = await support.provideSignatureHelp(model, position, token, context);\n            if (result) {\n                return result;\n            }\n        }\n        catch (err) {\n            onUnexpectedExternalError(err);\n        }\n    }\n    return undefined;\n}\nCommandsRegistry.registerCommand('_executeSignatureHelpProvider', async (accessor, ...args) => {\n    const [uri, position, triggerCharacter] = args;\n    assertType(URI.isUri(uri));\n    assertType(Position.isIPosition(position));\n    assertType(typeof triggerCharacter === 'string' || !triggerCharacter);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const ref = await accessor.get(ITextModelService).createModelReference(uri);\n    try {\n        const result = await provideSignatureHelp(languageFeaturesService.signatureHelpProvider, ref.object.textEditorModel, Position.lift(position), {\n            triggerKind: languages.SignatureHelpTriggerKind.Invoke,\n            isRetrigger: false,\n            triggerCharacter,\n        }, CancellationToken.None);\n        if (!result) {\n            return undefined;\n        }\n        setTimeout(() => result.dispose(), 0);\n        return result.value;\n    }\n    finally {\n        ref.dispose();\n    }\n});\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AACO,MAAM,UAAU;IACnB,SAAS,IAAI,gQAAA,CAAA,gBAAa,CAAC,yBAAyB;IACpD,oBAAoB,IAAI,gQAAA,CAAA,gBAAa,CAAC,oCAAoC;AAC9E;AACO,eAAe,qBAAqB,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK;IAChF,MAAM,WAAW,SAAS,OAAO,CAAC;IAClC,KAAK,MAAM,WAAW,SAAU;QAC5B,IAAI;YACA,MAAM,SAAS,MAAM,QAAQ,oBAAoB,CAAC,OAAO,UAAU,OAAO;YAC1E,IAAI,QAAQ;gBACR,OAAO;YACX;QACJ,EACA,OAAO,KAAK;YACR,CAAA,GAAA,0OAAA,CAAA,4BAAyB,AAAD,EAAE;QAC9B;IACJ;IACA,OAAO;AACX;AACA,4PAAA,CAAA,mBAAgB,CAAC,eAAe,CAAC,iCAAiC,eAAO;qCAAa;QAAA;;IAClF,MAAM,CAAC,KAAK,UAAU,iBAAiB,GAAG;IAC1C,CAAA,GAAA,yOAAA,CAAA,aAAU,AAAD,EAAE,uOAAA,CAAA,MAAG,CAAC,KAAK,CAAC;IACrB,CAAA,GAAA,yOAAA,CAAA,aAAU,AAAD,EAAE,sPAAA,CAAA,WAAQ,CAAC,WAAW,CAAC;IAChC,CAAA,GAAA,yOAAA,CAAA,aAAU,AAAD,EAAE,OAAO,qBAAqB,YAAY,CAAC;IACpD,MAAM,0BAA0B,SAAS,GAAG,CAAC,kQAAA,CAAA,2BAAwB;IACrE,MAAM,MAAM,MAAM,SAAS,GAAG,CAAC,iQAAA,CAAA,oBAAiB,EAAE,oBAAoB,CAAC;IACvE,IAAI;QACA,MAAM,SAAS,MAAM,qBAAqB,wBAAwB,qBAAqB,EAAE,IAAI,MAAM,CAAC,eAAe,EAAE,sPAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,WAAW;YAC1I,aAAa,+OAAA,CAAA,2BAAkC,CAAC,MAAM;YACtD,aAAa;YACb;QACJ,GAAG,gPAAA,CAAA,oBAAiB,CAAC,IAAI;QACzB,IAAI,CAAC,QAAQ;YACT,OAAO;QACX;QACA,WAAW,IAAM,OAAO,OAAO,IAAI;QACnC,OAAO,OAAO,KAAK;IACvB,SACQ;QACJ,IAAI,OAAO;IACf;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13021, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createCancelablePromise, Delayer } from '../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { CharacterSet } from '../../../common/core/characterClassifier.js';\nimport * as languages from '../../../common/languages.js';\nimport { provideSignatureHelp } from './provideSignatureHelp.js';\nvar ParameterHintState;\n(function (ParameterHintState) {\n    ParameterHintState.Default = { type: 0 /* Type.Default */ };\n    class Pending {\n        constructor(request, previouslyActiveHints) {\n            this.request = request;\n            this.previouslyActiveHints = previouslyActiveHints;\n            this.type = 2 /* Type.Pending */;\n        }\n    }\n    ParameterHintState.Pending = Pending;\n    class Active {\n        constructor(hints) {\n            this.hints = hints;\n            this.type = 1 /* Type.Active */;\n        }\n    }\n    ParameterHintState.Active = Active;\n})(ParameterHintState || (ParameterHintState = {}));\nexport class ParameterHintsModel extends Disposable {\n    static { this.DEFAULT_DELAY = 120; } // ms\n    constructor(editor, providers, delay = ParameterHintsModel.DEFAULT_DELAY) {\n        super();\n        this._onChangedHints = this._register(new Emitter());\n        this.onChangedHints = this._onChangedHints.event;\n        this.triggerOnType = false;\n        this._state = ParameterHintState.Default;\n        this._pendingTriggers = [];\n        this._lastSignatureHelpResult = this._register(new MutableDisposable());\n        this.triggerChars = new CharacterSet();\n        this.retriggerChars = new CharacterSet();\n        this.triggerId = 0;\n        this.editor = editor;\n        this.providers = providers;\n        this.throttledDelayer = new Delayer(delay);\n        this._register(this.editor.onDidBlurEditorWidget(() => this.cancel()));\n        this._register(this.editor.onDidChangeConfiguration(() => this.onEditorConfigurationChange()));\n        this._register(this.editor.onDidChangeModel(e => this.onModelChanged()));\n        this._register(this.editor.onDidChangeModelLanguage(_ => this.onModelChanged()));\n        this._register(this.editor.onDidChangeCursorSelection(e => this.onCursorChange(e)));\n        this._register(this.editor.onDidChangeModelContent(e => this.onModelContentChange()));\n        this._register(this.providers.onDidChange(this.onModelChanged, this));\n        this._register(this.editor.onDidType(text => this.onDidType(text)));\n        this.onEditorConfigurationChange();\n        this.onModelChanged();\n    }\n    get state() { return this._state; }\n    set state(value) {\n        if (this._state.type === 2 /* ParameterHintState.Type.Pending */) {\n            this._state.request.cancel();\n        }\n        this._state = value;\n    }\n    cancel(silent = false) {\n        this.state = ParameterHintState.Default;\n        this.throttledDelayer.cancel();\n        if (!silent) {\n            this._onChangedHints.fire(undefined);\n        }\n    }\n    trigger(context, delay) {\n        const model = this.editor.getModel();\n        if (!model || !this.providers.has(model)) {\n            return;\n        }\n        const triggerId = ++this.triggerId;\n        this._pendingTriggers.push(context);\n        this.throttledDelayer.trigger(() => {\n            return this.doTrigger(triggerId);\n        }, delay)\n            .catch(onUnexpectedError);\n    }\n    next() {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        const length = this.state.hints.signatures.length;\n        const activeSignature = this.state.hints.activeSignature;\n        const last = (activeSignature % length) === (length - 1);\n        const cycle = this.editor.getOption(86 /* EditorOption.parameterHints */).cycle;\n        // If there is only one signature, or we're on last signature of list\n        if ((length < 2 || last) && !cycle) {\n            this.cancel();\n            return;\n        }\n        this.updateActiveSignature(last && cycle ? 0 : activeSignature + 1);\n    }\n    previous() {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        const length = this.state.hints.signatures.length;\n        const activeSignature = this.state.hints.activeSignature;\n        const first = activeSignature === 0;\n        const cycle = this.editor.getOption(86 /* EditorOption.parameterHints */).cycle;\n        // If there is only one signature, or we're on first signature of list\n        if ((length < 2 || first) && !cycle) {\n            this.cancel();\n            return;\n        }\n        this.updateActiveSignature(first && cycle ? length - 1 : activeSignature - 1);\n    }\n    updateActiveSignature(activeSignature) {\n        if (this.state.type !== 1 /* ParameterHintState.Type.Active */) {\n            return;\n        }\n        this.state = new ParameterHintState.Active({ ...this.state.hints, activeSignature });\n        this._onChangedHints.fire(this.state.hints);\n    }\n    async doTrigger(triggerId) {\n        const isRetrigger = this.state.type === 1 /* ParameterHintState.Type.Active */ || this.state.type === 2 /* ParameterHintState.Type.Pending */;\n        const activeSignatureHelp = this.getLastActiveHints();\n        this.cancel(true);\n        if (this._pendingTriggers.length === 0) {\n            return false;\n        }\n        const context = this._pendingTriggers.reduce(mergeTriggerContexts);\n        this._pendingTriggers = [];\n        const triggerContext = {\n            triggerKind: context.triggerKind,\n            triggerCharacter: context.triggerCharacter,\n            isRetrigger: isRetrigger,\n            activeSignatureHelp: activeSignatureHelp\n        };\n        if (!this.editor.hasModel()) {\n            return false;\n        }\n        const model = this.editor.getModel();\n        const position = this.editor.getPosition();\n        this.state = new ParameterHintState.Pending(createCancelablePromise(token => provideSignatureHelp(this.providers, model, position, triggerContext, token)), activeSignatureHelp);\n        try {\n            const result = await this.state.request;\n            // Check that we are still resolving the correct signature help\n            if (triggerId !== this.triggerId) {\n                result?.dispose();\n                return false;\n            }\n            if (!result || !result.value.signatures || result.value.signatures.length === 0) {\n                result?.dispose();\n                this._lastSignatureHelpResult.clear();\n                this.cancel();\n                return false;\n            }\n            else {\n                this.state = new ParameterHintState.Active(result.value);\n                this._lastSignatureHelpResult.value = result;\n                this._onChangedHints.fire(this.state.hints);\n                return true;\n            }\n        }\n        catch (error) {\n            if (triggerId === this.triggerId) {\n                this.state = ParameterHintState.Default;\n            }\n            onUnexpectedError(error);\n            return false;\n        }\n    }\n    getLastActiveHints() {\n        switch (this.state.type) {\n            case 1 /* ParameterHintState.Type.Active */: return this.state.hints;\n            case 2 /* ParameterHintState.Type.Pending */: return this.state.previouslyActiveHints;\n            default: return undefined;\n        }\n    }\n    get isTriggered() {\n        return this.state.type === 1 /* ParameterHintState.Type.Active */\n            || this.state.type === 2 /* ParameterHintState.Type.Pending */\n            || this.throttledDelayer.isTriggered();\n    }\n    onModelChanged() {\n        this.cancel();\n        this.triggerChars.clear();\n        this.retriggerChars.clear();\n        const model = this.editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const support of this.providers.ordered(model)) {\n            for (const ch of support.signatureHelpTriggerCharacters || []) {\n                if (ch.length) {\n                    const charCode = ch.charCodeAt(0);\n                    this.triggerChars.add(charCode);\n                    // All trigger characters are also considered retrigger characters\n                    this.retriggerChars.add(charCode);\n                }\n            }\n            for (const ch of support.signatureHelpRetriggerCharacters || []) {\n                if (ch.length) {\n                    this.retriggerChars.add(ch.charCodeAt(0));\n                }\n            }\n        }\n    }\n    onDidType(text) {\n        if (!this.triggerOnType) {\n            return;\n        }\n        const lastCharIndex = text.length - 1;\n        const triggerCharCode = text.charCodeAt(lastCharIndex);\n        if (this.triggerChars.has(triggerCharCode) || this.isTriggered && this.retriggerChars.has(triggerCharCode)) {\n            this.trigger({\n                triggerKind: languages.SignatureHelpTriggerKind.TriggerCharacter,\n                triggerCharacter: text.charAt(lastCharIndex),\n            });\n        }\n    }\n    onCursorChange(e) {\n        if (e.source === 'mouse') {\n            this.cancel();\n        }\n        else if (this.isTriggered) {\n            this.trigger({ triggerKind: languages.SignatureHelpTriggerKind.ContentChange });\n        }\n    }\n    onModelContentChange() {\n        if (this.isTriggered) {\n            this.trigger({ triggerKind: languages.SignatureHelpTriggerKind.ContentChange });\n        }\n    }\n    onEditorConfigurationChange() {\n        this.triggerOnType = this.editor.getOption(86 /* EditorOption.parameterHints */).enabled;\n        if (!this.triggerOnType) {\n            this.cancel();\n        }\n    }\n    dispose() {\n        this.cancel(true);\n        super.dispose();\n    }\n}\nfunction mergeTriggerContexts(previous, current) {\n    switch (current.triggerKind) {\n        case languages.SignatureHelpTriggerKind.Invoke:\n            // Invoke overrides previous triggers.\n            return current;\n        case languages.SignatureHelpTriggerKind.ContentChange:\n            // Ignore content changes triggers\n            return previous;\n        case languages.SignatureHelpTriggerKind.TriggerCharacter:\n        default:\n            return current;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13298, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHintsWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsWidget_1;\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters } from '../../../../base/common/strings.js';\nimport { assertIsDefined } from '../../../../base/common/types.js';\nimport './parameterHints.css';\nimport { EDITOR_FONT_DEFAULTS } from '../../../common/config/editorOptions.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { listHighlightForeground, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nconst $ = dom.$;\nconst parameterHintsNextIcon = registerIcon('parameter-hints-next', Codicon.chevronDown, nls.localize('parameterHintsNextIcon', 'Icon for show next parameter hint.'));\nconst parameterHintsPreviousIcon = registerIcon('parameter-hints-previous', Codicon.chevronUp, nls.localize('parameterHintsPreviousIcon', 'Icon for show previous parameter hint.'));\nlet ParameterHintsWidget = class ParameterHintsWidget extends Disposable {\n    static { ParameterHintsWidget_1 = this; }\n    static { this.ID = 'editor.widget.parameterHintsWidget'; }\n    constructor(editor, model, contextKeyService, openerService, languageService, telemetryService) {\n        super();\n        this.editor = editor;\n        this.model = model;\n        this.telemetryService = telemetryService;\n        this.renderDisposeables = this._register(new DisposableStore());\n        this.visible = false;\n        this.announcedLabel = null;\n        // Editor.IContentWidget.allowEditorOverflow\n        this.allowEditorOverflow = true;\n        this.markdownRenderer = this._register(new MarkdownRenderer({ editor }, languageService, openerService));\n        this.keyVisible = Context.Visible.bindTo(contextKeyService);\n        this.keyMultipleSignatures = Context.MultipleSignatures.bindTo(contextKeyService);\n    }\n    createParameterHintDOMNodes() {\n        const element = $('.editor-widget.parameter-hints-widget');\n        const wrapper = dom.append(element, $('.phwrapper'));\n        wrapper.tabIndex = -1;\n        const controls = dom.append(wrapper, $('.controls'));\n        const previous = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsPreviousIcon)));\n        const overloads = dom.append(controls, $('.overloads'));\n        const next = dom.append(controls, $('.button' + ThemeIcon.asCSSSelector(parameterHintsNextIcon)));\n        this._register(dom.addDisposableListener(previous, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.previous();\n        }));\n        this._register(dom.addDisposableListener(next, 'click', e => {\n            dom.EventHelper.stop(e);\n            this.next();\n        }));\n        const body = $('.body');\n        const scrollbar = new DomScrollableElement(body, {\n            alwaysConsumeMouseWheel: true,\n        });\n        this._register(scrollbar);\n        wrapper.appendChild(scrollbar.getDomNode());\n        const signature = dom.append(body, $('.signature'));\n        const docs = dom.append(body, $('.docs'));\n        element.style.userSelect = 'text';\n        this.domNodes = {\n            element,\n            signature,\n            overloads,\n            docs,\n            scrollbar,\n        };\n        this.editor.addContentWidget(this);\n        this.hide();\n        this._register(this.editor.onDidChangeCursorSelection(e => {\n            if (this.visible) {\n                this.editor.layoutContentWidget(this);\n            }\n        }));\n        const updateFont = () => {\n            if (!this.domNodes) {\n                return;\n            }\n            const fontInfo = this.editor.getOption(50 /* EditorOption.fontInfo */);\n            const element = this.domNodes.element;\n            element.style.fontSize = `${fontInfo.fontSize}px`;\n            element.style.lineHeight = `${fontInfo.lineHeight / fontInfo.fontSize}`;\n            element.style.setProperty('--vscode-parameterHintsWidget-editorFontFamily', fontInfo.fontFamily);\n            element.style.setProperty('--vscode-parameterHintsWidget-editorFontFamilyDefault', EDITOR_FONT_DEFAULTS.fontFamily);\n        };\n        updateFont();\n        this._register(Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor), $ => $.filter(e => e.hasChanged(50 /* EditorOption.fontInfo */)))(updateFont));\n        this._register(this.editor.onDidLayoutChange(e => this.updateMaxHeight()));\n        this.updateMaxHeight();\n    }\n    show() {\n        if (this.visible) {\n            return;\n        }\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        this.keyVisible.set(true);\n        this.visible = true;\n        setTimeout(() => {\n            this.domNodes?.element.classList.add('visible');\n        }, 100);\n        this.editor.layoutContentWidget(this);\n    }\n    hide() {\n        this.renderDisposeables.clear();\n        if (!this.visible) {\n            return;\n        }\n        this.keyVisible.reset();\n        this.visible = false;\n        this.announcedLabel = null;\n        this.domNodes?.element.classList.remove('visible');\n        this.editor.layoutContentWidget(this);\n    }\n    getPosition() {\n        if (this.visible) {\n            return {\n                position: this.editor.getPosition(),\n                preference: [1 /* ContentWidgetPositionPreference.ABOVE */, 2 /* ContentWidgetPositionPreference.BELOW */]\n            };\n        }\n        return null;\n    }\n    render(hints) {\n        this.renderDisposeables.clear();\n        if (!this.domNodes) {\n            return;\n        }\n        const multiple = hints.signatures.length > 1;\n        this.domNodes.element.classList.toggle('multiple', multiple);\n        this.keyMultipleSignatures.set(multiple);\n        this.domNodes.signature.innerText = '';\n        this.domNodes.docs.innerText = '';\n        const signature = hints.signatures[hints.activeSignature];\n        if (!signature) {\n            return;\n        }\n        const code = dom.append(this.domNodes.signature, $('.code'));\n        const hasParameters = signature.parameters.length > 0;\n        const activeParameterIndex = signature.activeParameter ?? hints.activeParameter;\n        if (!hasParameters) {\n            const label = dom.append(code, $('span'));\n            label.textContent = signature.label;\n        }\n        else {\n            this.renderParameters(code, signature, activeParameterIndex);\n        }\n        const activeParameter = signature.parameters[activeParameterIndex];\n        if (activeParameter?.documentation) {\n            const documentation = $('span.documentation');\n            if (typeof activeParameter.documentation === 'string') {\n                documentation.textContent = activeParameter.documentation;\n            }\n            else {\n                const renderedContents = this.renderMarkdownDocs(activeParameter.documentation);\n                documentation.appendChild(renderedContents.element);\n            }\n            dom.append(this.domNodes.docs, $('p', {}, documentation));\n        }\n        if (signature.documentation === undefined) {\n            /** no op */\n        }\n        else if (typeof signature.documentation === 'string') {\n            dom.append(this.domNodes.docs, $('p', {}, signature.documentation));\n        }\n        else {\n            const renderedContents = this.renderMarkdownDocs(signature.documentation);\n            dom.append(this.domNodes.docs, renderedContents.element);\n        }\n        const hasDocs = this.hasDocs(signature, activeParameter);\n        this.domNodes.signature.classList.toggle('has-docs', hasDocs);\n        this.domNodes.docs.classList.toggle('empty', !hasDocs);\n        this.domNodes.overloads.textContent =\n            String(hints.activeSignature + 1).padStart(hints.signatures.length.toString().length, '0') + '/' + hints.signatures.length;\n        if (activeParameter) {\n            let labelToAnnounce = '';\n            const param = signature.parameters[activeParameterIndex];\n            if (Array.isArray(param.label)) {\n                labelToAnnounce = signature.label.substring(param.label[0], param.label[1]);\n            }\n            else {\n                labelToAnnounce = param.label;\n            }\n            if (param.documentation) {\n                labelToAnnounce += typeof param.documentation === 'string' ? `, ${param.documentation}` : `, ${param.documentation.value}`;\n            }\n            if (signature.documentation) {\n                labelToAnnounce += typeof signature.documentation === 'string' ? `, ${signature.documentation}` : `, ${signature.documentation.value}`;\n            }\n            // Select method gets called on every user type while parameter hints are visible.\n            // We do not want to spam the user with same announcements, so we only announce if the current parameter changed.\n            if (this.announcedLabel !== labelToAnnounce) {\n                aria.alert(nls.localize('hint', \"{0}, hint\", labelToAnnounce));\n                this.announcedLabel = labelToAnnounce;\n            }\n        }\n        this.editor.layoutContentWidget(this);\n        this.domNodes.scrollbar.scanDomNode();\n    }\n    renderMarkdownDocs(markdown) {\n        const stopWatch = new StopWatch();\n        const renderedContents = this.renderDisposeables.add(this.markdownRenderer.render(markdown, {\n            asyncRenderCallback: () => {\n                this.domNodes?.scrollbar.scanDomNode();\n            }\n        }));\n        renderedContents.element.classList.add('markdown-docs');\n        const renderDuration = stopWatch.elapsed();\n        if (renderDuration > 300) {\n            this.telemetryService.publicLog2('parameterHints.parseMarkdown', {\n                renderDuration\n            });\n        }\n        return renderedContents;\n    }\n    hasDocs(signature, activeParameter) {\n        if (activeParameter && typeof activeParameter.documentation === 'string' && assertIsDefined(activeParameter.documentation).length > 0) {\n            return true;\n        }\n        if (activeParameter && typeof activeParameter.documentation === 'object' && assertIsDefined(activeParameter.documentation).value.length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'string' && assertIsDefined(signature.documentation).length > 0) {\n            return true;\n        }\n        if (signature.documentation && typeof signature.documentation === 'object' && assertIsDefined(signature.documentation.value).length > 0) {\n            return true;\n        }\n        return false;\n    }\n    renderParameters(parent, signature, activeParameterIndex) {\n        const [start, end] = this.getParameterLabelOffsets(signature, activeParameterIndex);\n        const beforeSpan = document.createElement('span');\n        beforeSpan.textContent = signature.label.substring(0, start);\n        const paramSpan = document.createElement('span');\n        paramSpan.textContent = signature.label.substring(start, end);\n        paramSpan.className = 'parameter active';\n        const afterSpan = document.createElement('span');\n        afterSpan.textContent = signature.label.substring(end);\n        dom.append(parent, beforeSpan, paramSpan, afterSpan);\n    }\n    getParameterLabelOffsets(signature, paramIdx) {\n        const param = signature.parameters[paramIdx];\n        if (!param) {\n            return [0, 0];\n        }\n        else if (Array.isArray(param.label)) {\n            return param.label;\n        }\n        else if (!param.label.length) {\n            return [0, 0];\n        }\n        else {\n            const regex = new RegExp(`(\\\\W|^)${escapeRegExpCharacters(param.label)}(?=\\\\W|$)`, 'g');\n            regex.test(signature.label);\n            const idx = regex.lastIndex - param.label.length;\n            return idx >= 0\n                ? [idx, regex.lastIndex]\n                : [0, 0];\n        }\n    }\n    next() {\n        this.editor.focus();\n        this.model.next();\n    }\n    previous() {\n        this.editor.focus();\n        this.model.previous();\n    }\n    getDomNode() {\n        if (!this.domNodes) {\n            this.createParameterHintDOMNodes();\n        }\n        return this.domNodes.element;\n    }\n    getId() {\n        return ParameterHintsWidget_1.ID;\n    }\n    updateMaxHeight() {\n        if (!this.domNodes) {\n            return;\n        }\n        const height = Math.max(this.editor.getLayoutInfo().height / 4, 250);\n        const maxHeight = `${height}px`;\n        this.domNodes.element.style.maxHeight = maxHeight;\n        const wrapper = this.domNodes.element.getElementsByClassName('phwrapper');\n        if (wrapper.length) {\n            wrapper[0].style.maxHeight = maxHeight;\n        }\n    }\n};\nParameterHintsWidget = ParameterHintsWidget_1 = __decorate([\n    __param(2, IContextKeyService),\n    __param(3, IOpenerService),\n    __param(4, ILanguageService),\n    __param(5, ITelemetryService)\n], ParameterHintsWidget);\nexport { ParameterHintsWidget };\nregisterColor('editorHoverWidget.highlightForeground', listHighlightForeground, nls.localize('editorHoverWidgetHighlightForeground', 'Foreground color of the active item in the parameter hint.'));\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13657, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/parameterHints/browser/parameterHints.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ParameterHintsController_1;\nimport { Lazy } from '../../../../base/common/lazy.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport * as languages from '../../../common/languages.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ParameterHintsModel } from './parameterHintsModel.js';\nimport { Context } from './provideSignatureHelp.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ParameterHintsWidget } from './parameterHintsWidget.js';\nlet ParameterHintsController = class ParameterHintsController extends Disposable {\n    static { ParameterHintsController_1 = this; }\n    static { this.ID = 'editor.controller.parameterHints'; }\n    static get(editor) {\n        return editor.getContribution(ParameterHintsController_1.ID);\n    }\n    constructor(editor, instantiationService, languageFeaturesService) {\n        super();\n        this.editor = editor;\n        this.model = this._register(new ParameterHintsModel(editor, languageFeaturesService.signatureHelpProvider));\n        this._register(this.model.onChangedHints(newParameterHints => {\n            if (newParameterHints) {\n                this.widget.value.show();\n                this.widget.value.render(newParameterHints);\n            }\n            else {\n                this.widget.rawValue?.hide();\n            }\n        }));\n        this.widget = new Lazy(() => this._register(instantiationService.createInstance(ParameterHintsWidget, this.editor, this.model)));\n    }\n    cancel() {\n        this.model.cancel();\n    }\n    previous() {\n        this.widget.rawValue?.previous();\n    }\n    next() {\n        this.widget.rawValue?.next();\n    }\n    trigger(context) {\n        this.model.trigger(context, 0);\n    }\n};\nParameterHintsController = ParameterHintsController_1 = __decorate([\n    __param(1, IInstantiationService),\n    __param(2, ILanguageFeaturesService)\n], ParameterHintsController);\nexport { ParameterHintsController };\nexport class TriggerParameterHintsAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.triggerParameterHints',\n            label: nls.localize('parameterHints.trigger.label', \"Trigger Parameter Hints\"),\n            alias: 'Trigger Parameter Hints',\n            precondition: EditorContextKeys.hasSignatureHelpProvider,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 10 /* KeyCode.Space */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    run(accessor, editor) {\n        const controller = ParameterHintsController.get(editor);\n        controller?.trigger({\n            triggerKind: languages.SignatureHelpTriggerKind.Invoke\n        });\n    }\n}\nregisterEditorContribution(ParameterHintsController.ID, ParameterHintsController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\nregisterEditorAction(TriggerParameterHintsAction);\nconst weight = 100 /* KeybindingWeight.EditorContrib */ + 75;\nconst ParameterHintsCommand = EditorCommand.bindToContribution(ParameterHintsController.get);\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'closeParameterHints',\n    precondition: Context.Visible,\n    handler: x => x.cancel(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 9 /* KeyCode.Escape */,\n        secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */]\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showPrevParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: x => x.previous(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 16 /* KeyCode.UpArrow */,\n        secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */],\n        mac: { primary: 16 /* KeyCode.UpArrow */, secondary: [512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */, 256 /* KeyMod.WinCtrl */ | 46 /* KeyCode.KeyP */] }\n    }\n}));\nregisterEditorCommand(new ParameterHintsCommand({\n    id: 'showNextParameterHint',\n    precondition: ContextKeyExpr.and(Context.Visible, Context.MultipleSignatures),\n    handler: x => x.next(),\n    kbOpts: {\n        weight: weight,\n        kbExpr: EditorContextKeys.focus,\n        primary: 18 /* KeyCode.DownArrow */,\n        secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */],\n        mac: { primary: 18 /* KeyCode.DownArrow */, secondary: [512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */, 256 /* KeyMod.WinCtrl */ | 44 /* KeyCode.KeyN */] }\n    }\n}));\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AAW9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;AArBA,IAAI,aAAa,4CAAS,yCAAK,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACjF,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,4CAAS,yCAAK,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IACnE,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;AACA,IAAI;;;;;;;;;;;;;AAaJ,IAAI,wDAA2B,MAAM,iCAAiC,6OAAA,CAAA,aAAU;IAG5E,OAAO,IAAI,MAAM,EAAE;QACf,OAAO,OAAO,eAAe,CAAC,2BAA2B,EAAE;IAC/D;IAgBA,SAAS;QACL,IAAI,CAAC,KAAK,CAAC,MAAM;IACrB;IACA,WAAW;YACP;SAAA,wBAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,cAApB,4CAAA,sBAAsB,QAAQ;IAClC;IACA,OAAO;YACH;SAAA,wBAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,cAApB,4CAAA,sBAAsB,IAAI;IAC9B;IACA,QAAQ,OAAO,EAAE;QACb,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS;IAChC;IA1BA,YAAY,MAAM,EAAE,oBAAoB,EAAE,uBAAuB,CAAE;QAC/D,KAAK;QACL,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,uRAAA,CAAA,sBAAmB,CAAC,QAAQ,wBAAwB,qBAAqB;QACzG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAA;YACrC,IAAI,mBAAmB;gBACnB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI;gBACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC;YAC7B,OACK;oBACD;iBAAA,wBAAA,IAAI,CAAC,MAAM,CAAC,QAAQ,cAApB,4CAAA,sBAAsB,IAAI;YAC9B;QACJ;QACA,IAAI,CAAC,MAAM,GAAG,IAAI,wOAAA,CAAA,OAAI,CAAC,IAAM,IAAI,CAAC,SAAS,CAAC,qBAAqB,cAAc,CAAC,wRAAA,CAAA,uBAAoB,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK;IACjI;AAaJ,GAhCa,wDACA,0BAAK,EAAE,GAAG;AAgCvB,2BAA2B,6BAA6B,WAAW;IAC/D,QAAQ,GAAG,sQAAA,CAAA,wBAAqB;IAChC,QAAQ,GAAG,kQAAA,CAAA,2BAAwB;CACtC,EAAE;;AAEI,MAAM,oCAAoC,uPAAA,CAAA,eAAY;IAczD,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,MAAM,aAAa,yBAAyB,GAAG,CAAC;QAChD,uBAAA,iCAAA,WAAY,OAAO,CAAC;YAChB,aAAa,+OAAA,CAAA,2BAAkC,CAAC,MAAM;QAC1D;IACJ;IAlBA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,gCAAgC;YACpD,OAAO;YACP,cAAc,uPAAA,CAAA,oBAAiB,CAAC,wBAAwB;YACxD,QAAQ;gBACJ,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,eAAe;gBACzC,SAAS,KAAK,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,iBAAiB;gBACnF,QAAQ,IAAI,kCAAkC;YAClD;QACJ;IACJ;AAOJ;AACA,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,yBAAyB,EAAE,EAAE,0BAA0B,EAAE,0DAA0D;AAC9I,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE;AACrB,MAAM,SAAS,IAAI,kCAAkC,MAAK;AAC1D,MAAM,wBAAwB,uPAAA,CAAA,gBAAa,CAAC,kBAAkB,CAAC,yBAAyB,GAAG;AAC3F,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI,sBAAsB;IAC5C,IAAI;IACJ,cAAc,wRAAA,CAAA,UAAO,CAAC,OAAO;IAC7B,SAAS,CAAA,IAAK,EAAE,MAAM;IACtB,QAAQ;QACJ,QAAQ;QACR,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,KAAK;QAC/B,SAAS,EAAE,kBAAkB;QAC7B,WAAW;YAAC,KAAK,gBAAgB,MAAK,EAAE,kBAAkB;SAAG;IACjE;AACJ;AACA,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI,sBAAsB;IAC5C,IAAI;IACJ,cAAc,gQAAA,CAAA,iBAAc,CAAC,GAAG,CAAC,wRAAA,CAAA,UAAO,CAAC,OAAO,EAAE,wRAAA,CAAA,UAAO,CAAC,kBAAkB;IAC5E,SAAS,CAAA,IAAK,EAAE,QAAQ;IACxB,QAAQ;QACJ,QAAQ;QACR,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,KAAK;QAC/B,SAAS,GAAG,mBAAmB;QAC/B,WAAW;YAAC,IAAI,cAAc,MAAK,GAAG,mBAAmB;SAAG;QAC5D,KAAK;YAAE,SAAS,GAAG,mBAAmB;YAAI,WAAW;gBAAC,IAAI,cAAc,MAAK,GAAG,mBAAmB;gBAAI,IAAI,kBAAkB,MAAK,GAAG,gBAAgB;aAAG;QAAC;IAC7J;AACJ;AACA,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI,sBAAsB;IAC5C,IAAI;IACJ,cAAc,gQAAA,CAAA,iBAAc,CAAC,GAAG,CAAC,wRAAA,CAAA,UAAO,CAAC,OAAO,EAAE,wRAAA,CAAA,UAAO,CAAC,kBAAkB;IAC5E,SAAS,CAAA,IAAK,EAAE,IAAI;IACpB,QAAQ;QACJ,QAAQ;QACR,QAAQ,uPAAA,CAAA,oBAAiB,CAAC,KAAK;QAC/B,SAAS,GAAG,qBAAqB;QACjC,WAAW;YAAC,IAAI,cAAc,MAAK,GAAG,qBAAqB;SAAG;QAC9D,KAAK;YAAE,SAAS,GAAG,qBAAqB;YAAI,WAAW;gBAAC,IAAI,cAAc,MAAK,GAAG,qBAAqB;gBAAI,IAAI,kBAAkB,MAAK,GAAG,gBAAgB;aAAG;QAAC;IACjK;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13823, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/sectionHeaders/browser/sectionHeaders.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nlet SectionHeaderDetector = class SectionHeaderDetector extends Disposable {\n    static { this.ID = 'editor.sectionHeaderDetector'; }\n    constructor(editor, languageConfigurationService, editorWorkerService) {\n        super();\n        this.editor = editor;\n        this.languageConfigurationService = languageConfigurationService;\n        this.editorWorkerService = editorWorkerService;\n        this.decorations = this.editor.createDecorationsCollection();\n        this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n        this.computePromise = null;\n        this.currentOccurrences = {};\n        this._register(editor.onDidChangeModel((e) => {\n            this.currentOccurrences = {};\n            this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n            this.stop();\n            this.computeSectionHeaders.schedule(0);\n        }));\n        this._register(editor.onDidChangeModelLanguage((e) => {\n            this.currentOccurrences = {};\n            this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n            this.stop();\n            this.computeSectionHeaders.schedule(0);\n        }));\n        this._register(languageConfigurationService.onDidChange((e) => {\n            const editorLanguageId = this.editor.getModel()?.getLanguageId();\n            if (editorLanguageId && e.affects(editorLanguageId)) {\n                this.currentOccurrences = {};\n                this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n                this.stop();\n                this.computeSectionHeaders.schedule(0);\n            }\n        }));\n        this._register(editor.onDidChangeConfiguration(e => {\n            if (this.options && !e.hasChanged(73 /* EditorOption.minimap */)) {\n                return;\n            }\n            this.options = this.createOptions(editor.getOption(73 /* EditorOption.minimap */));\n            // Remove any links (for the getting disabled case)\n            this.updateDecorations([]);\n            // Stop any computation (for the getting disabled case)\n            this.stop();\n            // Start computing (for the getting enabled case)\n            this.computeSectionHeaders.schedule(0);\n        }));\n        this._register(this.editor.onDidChangeModelContent(e => {\n            this.computeSectionHeaders.schedule();\n        }));\n        this._register(editor.onDidChangeModelTokens((e) => {\n            if (!this.computeSectionHeaders.isScheduled()) {\n                this.computeSectionHeaders.schedule(1000);\n            }\n        }));\n        this.computeSectionHeaders = this._register(new RunOnceScheduler(() => {\n            this.findSectionHeaders();\n        }, 250));\n        this.computeSectionHeaders.schedule(0);\n    }\n    createOptions(minimap) {\n        if (!minimap || !this.editor.hasModel()) {\n            return undefined;\n        }\n        const languageId = this.editor.getModel().getLanguageId();\n        if (!languageId) {\n            return undefined;\n        }\n        const commentsConfiguration = this.languageConfigurationService.getLanguageConfiguration(languageId).comments;\n        const foldingRules = this.languageConfigurationService.getLanguageConfiguration(languageId).foldingRules;\n        if (!commentsConfiguration && !foldingRules?.markers) {\n            return undefined;\n        }\n        return {\n            foldingRules,\n            findMarkSectionHeaders: minimap.showMarkSectionHeaders,\n            findRegionSectionHeaders: minimap.showRegionSectionHeaders,\n        };\n    }\n    findSectionHeaders() {\n        if (!this.editor.hasModel()\n            || (!this.options?.findMarkSectionHeaders && !this.options?.findRegionSectionHeaders)) {\n            return;\n        }\n        const model = this.editor.getModel();\n        if (model.isDisposed() || model.isTooLargeForSyncing()) {\n            return;\n        }\n        const modelVersionId = model.getVersionId();\n        this.editorWorkerService.findSectionHeaders(model.uri, this.options)\n            .then((sectionHeaders) => {\n            if (model.isDisposed() || model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this.updateDecorations(sectionHeaders);\n        });\n    }\n    updateDecorations(sectionHeaders) {\n        const model = this.editor.getModel();\n        if (model) {\n            // Remove all section headers that should be in comments and are not in comments\n            sectionHeaders = sectionHeaders.filter((sectionHeader) => {\n                if (!sectionHeader.shouldBeInComments) {\n                    return true;\n                }\n                const validRange = model.validateRange(sectionHeader.range);\n                const tokens = model.tokenization.getLineTokens(validRange.startLineNumber);\n                const idx = tokens.findTokenIndexAtOffset(validRange.startColumn - 1);\n                const tokenType = tokens.getStandardTokenType(idx);\n                const languageId = tokens.getLanguageId(idx);\n                return (languageId === model.getLanguageId() && tokenType === 1 /* StandardTokenType.Comment */);\n            });\n        }\n        const oldDecorations = Object.values(this.currentOccurrences).map(occurrence => occurrence.decorationId);\n        const newDecorations = sectionHeaders.map(sectionHeader => decoration(sectionHeader));\n        this.editor.changeDecorations((changeAccessor) => {\n            const decorations = changeAccessor.deltaDecorations(oldDecorations, newDecorations);\n            this.currentOccurrences = {};\n            for (let i = 0, len = decorations.length; i < len; i++) {\n                const occurrence = { sectionHeader: sectionHeaders[i], decorationId: decorations[i] };\n                this.currentOccurrences[occurrence.decorationId] = occurrence;\n            }\n        });\n    }\n    stop() {\n        this.computeSectionHeaders.cancel();\n        if (this.computePromise) {\n            this.computePromise.cancel();\n            this.computePromise = null;\n        }\n    }\n    dispose() {\n        super.dispose();\n        this.stop();\n        this.decorations.clear();\n    }\n};\nSectionHeaderDetector = __decorate([\n    __param(1, ILanguageConfigurationService),\n    __param(2, IEditorWorkerService)\n], SectionHeaderDetector);\nexport { SectionHeaderDetector };\nfunction decoration(sectionHeader) {\n    return {\n        range: sectionHeader.range,\n        options: ModelDecorationOptions.createDynamic({\n            description: 'section-header',\n            stickiness: 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */,\n            collapseOnReplaceEdit: true,\n            minimap: {\n                color: undefined,\n                position: 1 /* MinimapPosition.Inline */,\n                sectionHeaderStyle: sectionHeader.hasSeparatorLine ? 2 /* MinimapSectionHeaderStyle.Underlined */ : 1 /* MinimapSectionHeaderStyle.Normal */,\n                sectionHeaderText: sectionHeader.text,\n            },\n        })\n    };\n}\nregisterEditorContribution(SectionHeaderDetector.ID, SectionHeaderDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14016, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/semanticTokens/common/getSemanticTokens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { encodeSemanticTokensDto } from '../../../common/services/semanticTokensDto.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nexport function isSemanticTokens(v) {\n    return v && !!(v.data);\n}\nexport function isSemanticTokensEdits(v) {\n    return v && Array.isArray(v.edits);\n}\nexport class DocumentSemanticTokensResult {\n    constructor(provider, tokens, error) {\n        this.provider = provider;\n        this.tokens = tokens;\n        this.error = error;\n    }\n}\nexport function hasDocumentSemanticTokensProvider(registry, model) {\n    return registry.has(model);\n}\nfunction getDocumentSemanticTokensProviders(registry, model) {\n    const groups = registry.orderedGroups(model);\n    return (groups.length > 0 ? groups[0] : []);\n}\nexport async function getDocumentSemanticTokens(registry, model, lastProvider, lastResultId, token) {\n    const providers = getDocumentSemanticTokensProviders(registry, model);\n    // Get tokens from all providers at the same time.\n    const results = await Promise.all(providers.map(async (provider) => {\n        let result;\n        let error = null;\n        try {\n            result = await provider.provideDocumentSemanticTokens(model, (provider === lastProvider ? lastResultId : null), token);\n        }\n        catch (err) {\n            error = err;\n            result = null;\n        }\n        if (!result || (!isSemanticTokens(result) && !isSemanticTokensEdits(result))) {\n            result = null;\n        }\n        return new DocumentSemanticTokensResult(provider, result, error);\n    }));\n    // Try to return the first result with actual tokens or\n    // the first result which threw an error (!!)\n    for (const result of results) {\n        if (result.error) {\n            throw result.error;\n        }\n        if (result.tokens) {\n            return result;\n        }\n    }\n    // Return the first result, even if it doesn't have tokens\n    if (results.length > 0) {\n        return results[0];\n    }\n    return null;\n}\nfunction _getDocumentSemanticTokensProviderHighestGroup(registry, model) {\n    const result = registry.orderedGroups(model);\n    return (result.length > 0 ? result[0] : null);\n}\nclass DocumentRangeSemanticTokensResult {\n    constructor(provider, tokens) {\n        this.provider = provider;\n        this.tokens = tokens;\n    }\n}\nexport function hasDocumentRangeSemanticTokensProvider(providers, model) {\n    return providers.has(model);\n}\nfunction getDocumentRangeSemanticTokensProviders(providers, model) {\n    const groups = providers.orderedGroups(model);\n    return (groups.length > 0 ? groups[0] : []);\n}\nexport async function getDocumentRangeSemanticTokens(registry, model, range, token) {\n    const providers = getDocumentRangeSemanticTokensProviders(registry, model);\n    // Get tokens from all providers at the same time.\n    const results = await Promise.all(providers.map(async (provider) => {\n        let result;\n        try {\n            result = await provider.provideDocumentRangeSemanticTokens(model, range, token);\n        }\n        catch (err) {\n            onUnexpectedExternalError(err);\n            result = null;\n        }\n        if (!result || !isSemanticTokens(result)) {\n            result = null;\n        }\n        return new DocumentRangeSemanticTokensResult(provider, result);\n    }));\n    // Try to return the first result with actual tokens\n    for (const result of results) {\n        if (result.tokens) {\n            return result;\n        }\n    }\n    // Return the first result, even if it doesn't have tokens\n    if (results.length > 0) {\n        return results[0];\n    }\n    return null;\n}\nCommandsRegistry.registerCommand('_provideDocumentSemanticTokensLegend', async (accessor, ...args) => {\n    const [uri] = args;\n    assertType(uri instanceof URI);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    const providers = _getDocumentSemanticTokensProviderHighestGroup(documentSemanticTokensProvider, model);\n    if (!providers) {\n        // there is no provider => fall back to a document range semantic tokens provider\n        return accessor.get(ICommandService).executeCommand('_provideDocumentRangeSemanticTokensLegend', uri);\n    }\n    return providers[0].getLegend();\n});\nCommandsRegistry.registerCommand('_provideDocumentSemanticTokens', async (accessor, ...args) => {\n    const [uri] = args;\n    assertType(uri instanceof URI);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    if (!hasDocumentSemanticTokensProvider(documentSemanticTokensProvider, model)) {\n        // there is no provider => fall back to a document range semantic tokens provider\n        return accessor.get(ICommandService).executeCommand('_provideDocumentRangeSemanticTokens', uri, model.getFullModelRange());\n    }\n    const r = await getDocumentSemanticTokens(documentSemanticTokensProvider, model, null, null, CancellationToken.None);\n    if (!r) {\n        return undefined;\n    }\n    const { provider, tokens } = r;\n    if (!tokens || !isSemanticTokens(tokens)) {\n        return undefined;\n    }\n    const buff = encodeSemanticTokensDto({\n        id: 0,\n        type: 'full',\n        data: tokens.data\n    });\n    if (tokens.resultId) {\n        provider.releaseDocumentSemanticTokens(tokens.resultId);\n    }\n    return buff;\n});\nCommandsRegistry.registerCommand('_provideDocumentRangeSemanticTokensLegend', async (accessor, ...args) => {\n    const [uri, range] = args;\n    assertType(uri instanceof URI);\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentRangeSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    const providers = getDocumentRangeSemanticTokensProviders(documentRangeSemanticTokensProvider, model);\n    if (providers.length === 0) {\n        // no providers\n        return undefined;\n    }\n    if (providers.length === 1) {\n        // straight forward case, just a single provider\n        return providers[0].getLegend();\n    }\n    if (!range || !Range.isIRange(range)) {\n        // if no range is provided, we cannot support multiple providers\n        // as we cannot fall back to the one which would give results\n        // => return the first legend for backwards compatibility and print a warning\n        console.warn(`provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in`);\n        return providers[0].getLegend();\n    }\n    const result = await getDocumentRangeSemanticTokens(documentRangeSemanticTokensProvider, model, Range.lift(range), CancellationToken.None);\n    if (!result) {\n        return undefined;\n    }\n    return result.provider.getLegend();\n});\nCommandsRegistry.registerCommand('_provideDocumentRangeSemanticTokens', async (accessor, ...args) => {\n    const [uri, range] = args;\n    assertType(uri instanceof URI);\n    assertType(Range.isIRange(range));\n    const model = accessor.get(IModelService).getModel(uri);\n    if (!model) {\n        return undefined;\n    }\n    const { documentRangeSemanticTokensProvider } = accessor.get(ILanguageFeaturesService);\n    const result = await getDocumentRangeSemanticTokens(documentRangeSemanticTokensProvider, model, Range.lift(range), CancellationToken.None);\n    if (!result || !result.tokens) {\n        // there is no provider or it didn't return tokens\n        return undefined;\n    }\n    return encodeSemanticTokensDto({\n        id: 0,\n        type: 'full',\n        data: result.tokens.data\n    });\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14255, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/semanticTokens/common/semanticTokensConfig.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport const SEMANTIC_HIGHLIGHTING_SETTING_ID = 'editor.semanticHighlighting';\nexport function isSemanticColoringEnabled(model, themeService, configurationService) {\n    const setting = configurationService.getValue(SEMANTIC_HIGHLIGHTING_SETTING_ID, { overrideIdentifier: model.getLanguageId(), resource: model.uri })?.enabled;\n    if (typeof setting === 'boolean') {\n        return setting;\n    }\n    return themeService.getColorTheme().semanticHighlighting;\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;AACvF,MAAM,mCAAmC;AACzC,SAAS,0BAA0B,KAAK,EAAE,YAAY,EAAE,oBAAoB;QAC/D;IAAhB,MAAM,WAAU,iCAAA,qBAAqB,QAAQ,CAAC,kCAAkC;QAAE,oBAAoB,MAAM,aAAa;QAAI,UAAU,MAAM,GAAG;IAAC,gBAAjI,qDAAA,+BAAqI,OAAO;IAC5J,IAAI,OAAO,YAAY,WAAW;QAC9B,OAAO;IACX;IACA,OAAO,aAAa,aAAa,GAAG,oBAAoB;AAC5D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14278, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/semanticTokens/browser/documentSemanticTokens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ModelSemanticColoring_1;\nimport { Disposable, dispose } from '../../../../base/common/lifecycle.js';\nimport * as errors from '../../../../base/common/errors.js';\nimport { IModelService } from '../../../common/services/model.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { toMultilineTokens2 } from '../../../common/services/semanticTokensProviderStyling.js';\nimport { getDocumentSemanticTokens, hasDocumentSemanticTokensProvider, isSemanticTokens, isSemanticTokensEdits } from '../common/getSemanticTokens.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ISemanticTokensStylingService } from '../../../common/services/semanticTokensStyling.js';\nimport { registerEditorFeature } from '../../../common/editorFeatures.js';\nimport { SEMANTIC_HIGHLIGHTING_SETTING_ID, isSemanticColoringEnabled } from '../common/semanticTokensConfig.js';\nlet DocumentSemanticTokensFeature = class DocumentSemanticTokensFeature extends Disposable {\n    constructor(semanticTokensStylingService, modelService, themeService, configurationService, languageFeatureDebounceService, languageFeaturesService) {\n        super();\n        this._watchers = Object.create(null);\n        const register = (model) => {\n            this._watchers[model.uri.toString()] = new ModelSemanticColoring(model, semanticTokensStylingService, themeService, languageFeatureDebounceService, languageFeaturesService);\n        };\n        const deregister = (model, modelSemanticColoring) => {\n            modelSemanticColoring.dispose();\n            delete this._watchers[model.uri.toString()];\n        };\n        const handleSettingOrThemeChange = () => {\n            for (const model of modelService.getModels()) {\n                const curr = this._watchers[model.uri.toString()];\n                if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n                    if (!curr) {\n                        register(model);\n                    }\n                }\n                else {\n                    if (curr) {\n                        deregister(model, curr);\n                    }\n                }\n            }\n        };\n        modelService.getModels().forEach(model => {\n            if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n                register(model);\n            }\n        });\n        this._register(modelService.onModelAdded((model) => {\n            if (isSemanticColoringEnabled(model, themeService, configurationService)) {\n                register(model);\n            }\n        }));\n        this._register(modelService.onModelRemoved((model) => {\n            const curr = this._watchers[model.uri.toString()];\n            if (curr) {\n                deregister(model, curr);\n            }\n        }));\n        this._register(configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)) {\n                handleSettingOrThemeChange();\n            }\n        }));\n        this._register(themeService.onDidColorThemeChange(handleSettingOrThemeChange));\n    }\n    dispose() {\n        // Dispose all watchers\n        for (const watcher of Object.values(this._watchers)) {\n            watcher.dispose();\n        }\n        super.dispose();\n    }\n};\nDocumentSemanticTokensFeature = __decorate([\n    __param(0, ISemanticTokensStylingService),\n    __param(1, IModelService),\n    __param(2, IThemeService),\n    __param(3, IConfigurationService),\n    __param(4, ILanguageFeatureDebounceService),\n    __param(5, ILanguageFeaturesService)\n], DocumentSemanticTokensFeature);\nexport { DocumentSemanticTokensFeature };\nlet ModelSemanticColoring = class ModelSemanticColoring extends Disposable {\n    static { ModelSemanticColoring_1 = this; }\n    static { this.REQUEST_MIN_DELAY = 300; }\n    static { this.REQUEST_MAX_DELAY = 2000; }\n    constructor(model, _semanticTokensStylingService, themeService, languageFeatureDebounceService, languageFeaturesService) {\n        super();\n        this._semanticTokensStylingService = _semanticTokensStylingService;\n        this._isDisposed = false;\n        this._model = model;\n        this._provider = languageFeaturesService.documentSemanticTokensProvider;\n        this._debounceInformation = languageFeatureDebounceService.for(this._provider, 'DocumentSemanticTokens', { min: ModelSemanticColoring_1.REQUEST_MIN_DELAY, max: ModelSemanticColoring_1.REQUEST_MAX_DELAY });\n        this._fetchDocumentSemanticTokens = this._register(new RunOnceScheduler(() => this._fetchDocumentSemanticTokensNow(), ModelSemanticColoring_1.REQUEST_MIN_DELAY));\n        this._currentDocumentResponse = null;\n        this._currentDocumentRequestCancellationTokenSource = null;\n        this._documentProvidersChangeListeners = [];\n        this._providersChangedDuringRequest = false;\n        this._register(this._model.onDidChangeContent(() => {\n            if (!this._fetchDocumentSemanticTokens.isScheduled()) {\n                this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n            }\n        }));\n        this._register(this._model.onDidChangeAttached(() => {\n            if (!this._fetchDocumentSemanticTokens.isScheduled()) {\n                this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n            }\n        }));\n        this._register(this._model.onDidChangeLanguage(() => {\n            // clear any outstanding state\n            if (this._currentDocumentResponse) {\n                this._currentDocumentResponse.dispose();\n                this._currentDocumentResponse = null;\n            }\n            if (this._currentDocumentRequestCancellationTokenSource) {\n                this._currentDocumentRequestCancellationTokenSource.cancel();\n                this._currentDocumentRequestCancellationTokenSource = null;\n            }\n            this._setDocumentSemanticTokens(null, null, null, []);\n            this._fetchDocumentSemanticTokens.schedule(0);\n        }));\n        const bindDocumentChangeListeners = () => {\n            dispose(this._documentProvidersChangeListeners);\n            this._documentProvidersChangeListeners = [];\n            for (const provider of this._provider.all(model)) {\n                if (typeof provider.onDidChange === 'function') {\n                    this._documentProvidersChangeListeners.push(provider.onDidChange(() => {\n                        if (this._currentDocumentRequestCancellationTokenSource) {\n                            // there is already a request running,\n                            this._providersChangedDuringRequest = true;\n                            return;\n                        }\n                        this._fetchDocumentSemanticTokens.schedule(0);\n                    }));\n                }\n            }\n        };\n        bindDocumentChangeListeners();\n        this._register(this._provider.onDidChange(() => {\n            bindDocumentChangeListeners();\n            this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n        }));\n        this._register(themeService.onDidColorThemeChange(_ => {\n            // clear out existing tokens\n            this._setDocumentSemanticTokens(null, null, null, []);\n            this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n        }));\n        this._fetchDocumentSemanticTokens.schedule(0);\n    }\n    dispose() {\n        if (this._currentDocumentResponse) {\n            this._currentDocumentResponse.dispose();\n            this._currentDocumentResponse = null;\n        }\n        if (this._currentDocumentRequestCancellationTokenSource) {\n            this._currentDocumentRequestCancellationTokenSource.cancel();\n            this._currentDocumentRequestCancellationTokenSource = null;\n        }\n        dispose(this._documentProvidersChangeListeners);\n        this._documentProvidersChangeListeners = [];\n        this._setDocumentSemanticTokens(null, null, null, []);\n        this._isDisposed = true;\n        super.dispose();\n    }\n    _fetchDocumentSemanticTokensNow() {\n        if (this._currentDocumentRequestCancellationTokenSource) {\n            // there is already a request running, let it finish...\n            return;\n        }\n        if (!hasDocumentSemanticTokensProvider(this._provider, this._model)) {\n            // there is no provider\n            if (this._currentDocumentResponse) {\n                // there are semantic tokens set\n                this._model.tokenization.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        if (!this._model.isAttachedToEditor()) {\n            // this document is not visible, there is no need to fetch semantic tokens for it\n            return;\n        }\n        const cancellationTokenSource = new CancellationTokenSource();\n        const lastProvider = this._currentDocumentResponse ? this._currentDocumentResponse.provider : null;\n        const lastResultId = this._currentDocumentResponse ? this._currentDocumentResponse.resultId || null : null;\n        const request = getDocumentSemanticTokens(this._provider, this._model, lastProvider, lastResultId, cancellationTokenSource.token);\n        this._currentDocumentRequestCancellationTokenSource = cancellationTokenSource;\n        this._providersChangedDuringRequest = false;\n        const pendingChanges = [];\n        const contentChangeListener = this._model.onDidChangeContent((e) => {\n            pendingChanges.push(e);\n        });\n        const sw = new StopWatch(false);\n        request.then((res) => {\n            this._debounceInformation.update(this._model, sw.elapsed());\n            this._currentDocumentRequestCancellationTokenSource = null;\n            contentChangeListener.dispose();\n            if (!res) {\n                this._setDocumentSemanticTokens(null, null, null, pendingChanges);\n            }\n            else {\n                const { provider, tokens } = res;\n                const styling = this._semanticTokensStylingService.getStyling(provider);\n                this._setDocumentSemanticTokens(provider, tokens || null, styling, pendingChanges);\n            }\n        }, (err) => {\n            const isExpectedError = err && (errors.isCancellationError(err) || (typeof err.message === 'string' && err.message.indexOf('busy') !== -1));\n            if (!isExpectedError) {\n                errors.onUnexpectedError(err);\n            }\n            // Semantic tokens eats up all errors and considers errors to mean that the result is temporarily not available\n            // The API does not have a special error kind to express this...\n            this._currentDocumentRequestCancellationTokenSource = null;\n            contentChangeListener.dispose();\n            if (pendingChanges.length > 0 || this._providersChangedDuringRequest) {\n                // More changes occurred while the request was running\n                if (!this._fetchDocumentSemanticTokens.isScheduled()) {\n                    this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n                }\n            }\n        });\n    }\n    static _copy(src, srcOffset, dest, destOffset, length) {\n        // protect against overflows\n        length = Math.min(length, dest.length - destOffset, src.length - srcOffset);\n        for (let i = 0; i < length; i++) {\n            dest[destOffset + i] = src[srcOffset + i];\n        }\n    }\n    _setDocumentSemanticTokens(provider, tokens, styling, pendingChanges) {\n        const currentResponse = this._currentDocumentResponse;\n        const rescheduleIfNeeded = () => {\n            if ((pendingChanges.length > 0 || this._providersChangedDuringRequest) && !this._fetchDocumentSemanticTokens.isScheduled()) {\n                this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model));\n            }\n        };\n        if (this._currentDocumentResponse) {\n            this._currentDocumentResponse.dispose();\n            this._currentDocumentResponse = null;\n        }\n        if (this._isDisposed) {\n            // disposed!\n            if (provider && tokens) {\n                provider.releaseDocumentSemanticTokens(tokens.resultId);\n            }\n            return;\n        }\n        if (!provider || !styling) {\n            this._model.tokenization.setSemanticTokens(null, false);\n            return;\n        }\n        if (!tokens) {\n            this._model.tokenization.setSemanticTokens(null, true);\n            rescheduleIfNeeded();\n            return;\n        }\n        if (isSemanticTokensEdits(tokens)) {\n            if (!currentResponse) {\n                // not possible!\n                this._model.tokenization.setSemanticTokens(null, true);\n                return;\n            }\n            if (tokens.edits.length === 0) {\n                // nothing to do!\n                tokens = {\n                    resultId: tokens.resultId,\n                    data: currentResponse.data\n                };\n            }\n            else {\n                let deltaLength = 0;\n                for (const edit of tokens.edits) {\n                    deltaLength += (edit.data ? edit.data.length : 0) - edit.deleteCount;\n                }\n                const srcData = currentResponse.data;\n                const destData = new Uint32Array(srcData.length + deltaLength);\n                let srcLastStart = srcData.length;\n                let destLastStart = destData.length;\n                for (let i = tokens.edits.length - 1; i >= 0; i--) {\n                    const edit = tokens.edits[i];\n                    if (edit.start > srcData.length) {\n                        styling.warnInvalidEditStart(currentResponse.resultId, tokens.resultId, i, edit.start, srcData.length);\n                        // The edits are invalid and there's no way to recover\n                        this._model.tokenization.setSemanticTokens(null, true);\n                        return;\n                    }\n                    const copyCount = srcLastStart - (edit.start + edit.deleteCount);\n                    if (copyCount > 0) {\n                        ModelSemanticColoring_1._copy(srcData, srcLastStart - copyCount, destData, destLastStart - copyCount, copyCount);\n                        destLastStart -= copyCount;\n                    }\n                    if (edit.data) {\n                        ModelSemanticColoring_1._copy(edit.data, 0, destData, destLastStart - edit.data.length, edit.data.length);\n                        destLastStart -= edit.data.length;\n                    }\n                    srcLastStart = edit.start;\n                }\n                if (srcLastStart > 0) {\n                    ModelSemanticColoring_1._copy(srcData, 0, destData, 0, srcLastStart);\n                }\n                tokens = {\n                    resultId: tokens.resultId,\n                    data: destData\n                };\n            }\n        }\n        if (isSemanticTokens(tokens)) {\n            this._currentDocumentResponse = new SemanticTokensResponse(provider, tokens.resultId, tokens.data);\n            const result = toMultilineTokens2(tokens, styling, this._model.getLanguageId());\n            // Adjust incoming semantic tokens\n            if (pendingChanges.length > 0) {\n                // More changes occurred while the request was running\n                // We need to:\n                // 1. Adjust incoming semantic tokens\n                // 2. Request them again\n                for (const change of pendingChanges) {\n                    for (const area of result) {\n                        for (const singleChange of change.changes) {\n                            area.applyEdit(singleChange.range, singleChange.text);\n                        }\n                    }\n                }\n            }\n            this._model.tokenization.setSemanticTokens(result, true);\n        }\n        else {\n            this._model.tokenization.setSemanticTokens(null, true);\n        }\n        rescheduleIfNeeded();\n    }\n};\nModelSemanticColoring = ModelSemanticColoring_1 = __decorate([\n    __param(1, ISemanticTokensStylingService),\n    __param(2, IThemeService),\n    __param(3, ILanguageFeatureDebounceService),\n    __param(4, ILanguageFeaturesService)\n], ModelSemanticColoring);\nclass SemanticTokensResponse {\n    constructor(provider, resultId, data) {\n        this.provider = provider;\n        this.resultId = resultId;\n        this.data = data;\n    }\n    dispose() {\n        this.provider.releaseDocumentSemanticTokens(this.resultId);\n    }\n}\nregisterEditorFeature(DocumentSemanticTokensFeature);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14658, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { createCancelablePromise, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { getDocumentRangeSemanticTokens, hasDocumentRangeSemanticTokensProvider } from '../common/getSemanticTokens.js';\nimport { isSemanticColoringEnabled, SEMANTIC_HIGHLIGHTING_SETTING_ID } from '../common/semanticTokensConfig.js';\nimport { toMultilineTokens2 } from '../../../common/services/semanticTokensProviderStyling.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ISemanticTokensStylingService } from '../../../common/services/semanticTokensStyling.js';\nlet ViewportSemanticTokensContribution = class ViewportSemanticTokensContribution extends Disposable {\n    static { this.ID = 'editor.contrib.viewportSemanticTokens'; }\n    constructor(editor, _semanticTokensStylingService, _themeService, _configurationService, languageFeatureDebounceService, languageFeaturesService) {\n        super();\n        this._semanticTokensStylingService = _semanticTokensStylingService;\n        this._themeService = _themeService;\n        this._configurationService = _configurationService;\n        this._editor = editor;\n        this._provider = languageFeaturesService.documentRangeSemanticTokensProvider;\n        this._debounceInformation = languageFeatureDebounceService.for(this._provider, 'DocumentRangeSemanticTokens', { min: 100, max: 500 });\n        this._tokenizeViewport = this._register(new RunOnceScheduler(() => this._tokenizeViewportNow(), 100));\n        this._outstandingRequests = [];\n        const scheduleTokenizeViewport = () => {\n            if (this._editor.hasModel()) {\n                this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()));\n            }\n        };\n        this._register(this._editor.onDidScrollChange(() => {\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._provider.onDidChange(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        this._register(this._configurationService.onDidChangeConfiguration(e => {\n            if (e.affectsConfiguration(SEMANTIC_HIGHLIGHTING_SETTING_ID)) {\n                this._cancelAll();\n                scheduleTokenizeViewport();\n            }\n        }));\n        this._register(this._themeService.onDidColorThemeChange(() => {\n            this._cancelAll();\n            scheduleTokenizeViewport();\n        }));\n        scheduleTokenizeViewport();\n    }\n    _cancelAll() {\n        for (const request of this._outstandingRequests) {\n            request.cancel();\n        }\n        this._outstandingRequests = [];\n    }\n    _removeOutstandingRequest(req) {\n        for (let i = 0, len = this._outstandingRequests.length; i < len; i++) {\n            if (this._outstandingRequests[i] === req) {\n                this._outstandingRequests.splice(i, 1);\n                return;\n            }\n        }\n    }\n    _tokenizeViewportNow() {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (model.tokenization.hasCompleteSemanticTokens()) {\n            return;\n        }\n        if (!isSemanticColoringEnabled(model, this._themeService, this._configurationService)) {\n            if (model.tokenization.hasSomeSemanticTokens()) {\n                model.tokenization.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        if (!hasDocumentRangeSemanticTokensProvider(this._provider, model)) {\n            if (model.tokenization.hasSomeSemanticTokens()) {\n                model.tokenization.setSemanticTokens(null, false);\n            }\n            return;\n        }\n        const visibleRanges = this._editor.getVisibleRangesPlusViewportAboveBelow();\n        this._outstandingRequests = this._outstandingRequests.concat(visibleRanges.map(range => this._requestRange(model, range)));\n    }\n    _requestRange(model, range) {\n        const requestVersionId = model.getVersionId();\n        const request = createCancelablePromise(token => Promise.resolve(getDocumentRangeSemanticTokens(this._provider, model, range, token)));\n        const sw = new StopWatch(false);\n        request.then((r) => {\n            this._debounceInformation.update(model, sw.elapsed());\n            if (!r || !r.tokens || model.isDisposed() || model.getVersionId() !== requestVersionId) {\n                return;\n            }\n            const { provider, tokens: result } = r;\n            const styling = this._semanticTokensStylingService.getStyling(provider);\n            model.tokenization.setPartialSemanticTokens(range, toMultilineTokens2(result, styling, model.getLanguageId()));\n        }).then(() => this._removeOutstandingRequest(request), () => this._removeOutstandingRequest(request));\n        return request;\n    }\n};\nViewportSemanticTokensContribution = __decorate([\n    __param(1, ISemanticTokensStylingService),\n    __param(2, IThemeService),\n    __param(3, IConfigurationService),\n    __param(4, ILanguageFeatureDebounceService),\n    __param(5, ILanguageFeaturesService)\n], ViewportSemanticTokensContribution);\nexport { ViewportSemanticTokensContribution };\nregisterEditorContribution(ViewportSemanticTokensContribution.ID, ViewportSemanticTokensContribution, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14812, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/tokenization/browser/tokenization.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { EditorAction, registerEditorAction } from '../../../browser/editorExtensions.js';\nimport * as nls from '../../../../nls.js';\nclass ForceRetokenizeAction extends EditorAction {\n    constructor() {\n        super({\n            id: 'editor.action.forceRetokenize',\n            label: nls.localize('forceRetokenize', \"Developer: Force Retokenize\"),\n            alias: 'Developer: Force Retokenize',\n            precondition: undefined\n        });\n    }\n    run(accessor, editor) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const model = editor.getModel();\n        model.tokenization.resetTokenization();\n        const sw = new StopWatch();\n        model.tokenization.forceTokenization(model.getLineCount());\n        sw.stop();\n        console.log(`tokenization took ${sw.elapsed()}`);\n    }\n}\nregisterEditorAction(ForceRetokenizeAction);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;AAAA;;;;AACA,MAAM,8BAA8B,uPAAA,CAAA,eAAY;IAS5C,IAAI,QAAQ,EAAE,MAAM,EAAE;QAClB,IAAI,CAAC,OAAO,QAAQ,IAAI;YACpB;QACJ;QACA,MAAM,QAAQ,OAAO,QAAQ;QAC7B,MAAM,YAAY,CAAC,iBAAiB;QACpC,MAAM,KAAK,IAAI,6OAAA,CAAA,YAAS;QACxB,MAAM,YAAY,CAAC,iBAAiB,CAAC,MAAM,YAAY;QACvD,GAAG,IAAI;QACP,QAAQ,GAAG,CAAC,AAAC,qBAAiC,OAAb,GAAG,OAAO;IAC/C;IAlBA,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,qOAAA,CAAA,WAAY,CAAC,mBAAmB;YACvC,OAAO;YACP,cAAc;QAClB;IACJ;AAYJ;AACA,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14849, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { TabFocus } from '../../../browser/config/tabFocus.js';\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nexport class ToggleTabFocusModeAction extends Action2 {\n    static { this.ID = 'editor.action.toggleTabFocusMode'; }\n    constructor() {\n        super({\n            id: ToggleTabFocusModeAction.ID,\n            title: nls.localize2({ key: 'toggle.tabMovesFocus', comment: ['Turn on/off use of tab key for moving focus around VS Code'] }, 'Toggle Tab Key Moves Focus'),\n            precondition: undefined,\n            keybinding: {\n                primary: 2048 /* KeyMod.CtrlCmd */ | 43 /* KeyCode.KeyM */,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 43 /* KeyCode.KeyM */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            metadata: {\n                description: nls.localize2('tabMovesFocusDescriptions', \"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.\"),\n            },\n            f1: true\n        });\n    }\n    run() {\n        const oldValue = TabFocus.getTabFocusMode();\n        const newValue = !oldValue;\n        TabFocus.setTabFocusMode(newValue);\n        if (newValue) {\n            alert(nls.localize('toggle.tabMovesFocus.on', \"Pressing Tab will now move focus to the next focusable element\"));\n        }\n        else {\n            alert(nls.localize('toggle.tabMovesFocus.off', \"Pressing Tab will now insert the tab character\"));\n        }\n    }\n}\nregisterAction2(ToggleTabFocusModeAction);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;AAAA;AACA;;;;;AACO,MAAM,iCAAiC,0PAAA,CAAA,UAAO;IAkBjD,MAAM;QACF,MAAM,WAAW,yPAAA,CAAA,WAAQ,CAAC,eAAe;QACzC,MAAM,WAAW,CAAC;QAClB,yPAAA,CAAA,WAAQ,CAAC,eAAe,CAAC;QACzB,IAAI,UAAU;YACV,CAAA,GAAA,uPAAA,CAAA,QAAK,AAAD,EAAE,qOAAA,CAAA,WAAY,CAAC,2BAA2B;QAClD,OACK;YACD,CAAA,GAAA,uPAAA,CAAA,QAAK,AAAD,EAAE,qOAAA,CAAA,WAAY,CAAC,4BAA4B;QACnD;IACJ;IA1BA,aAAc;QACV,KAAK,CAAC;YACF,IAAI,yBAAyB,EAAE;YAC/B,OAAO,qOAAA,CAAA,YAAa,CAAC;gBAAE,KAAK;gBAAwB,SAAS;oBAAC;iBAA6D;YAAC,GAAG;YAC/H,cAAc;YACd,YAAY;gBACR,SAAS,KAAK,kBAAkB,MAAK,GAAG,gBAAgB;gBACxD,KAAK;oBAAE,SAAS,IAAI,kBAAkB,MAAK,KAAK,gBAAgB,MAAK,GAAG,gBAAgB;gBAAG;gBAC3F,QAAQ,IAAI,kCAAkC;YAClD;YACA,UAAU;gBACN,aAAa,qOAAA,CAAA,YAAa,CAAC,6BAA6B;YAC5D;YACA,IAAI;QACR;IACJ;AAYJ;AA7Ba,yBACK,EAAE,GAAG;AA6BvB,CAAA,GAAA,0PAAA,CAAA,kBAAe,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14905, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/bannerController.js"],"sourcesContent":["var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport './bannerController.css';\nimport { $, append, clearNode } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { MarkdownRenderer } from '../../../browser/widget/markdownRenderer/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nconst BANNER_ELEMENT_HEIGHT = 26;\nlet BannerController = class BannerController extends Disposable {\n    constructor(_editor, instantiationService) {\n        super();\n        this._editor = _editor;\n        this.instantiationService = instantiationService;\n        this.banner = this._register(this.instantiationService.createInstance(Banner));\n    }\n    hide() {\n        this._editor.setBanner(null, 0);\n        this.banner.clear();\n    }\n    show(item) {\n        this.banner.show({\n            ...item,\n            onClose: () => {\n                this.hide();\n                item.onClose?.();\n            }\n        });\n        this._editor.setBanner(this.banner.element, BANNER_ELEMENT_HEIGHT);\n    }\n};\nBannerController = __decorate([\n    __param(1, IInstantiationService)\n], BannerController);\nexport { BannerController };\n// TODO@hediet: Investigate if this can be reused by the workspace banner (bannerPart.ts).\nlet Banner = class Banner extends Disposable {\n    constructor(instantiationService) {\n        super();\n        this.instantiationService = instantiationService;\n        this.markdownRenderer = this.instantiationService.createInstance(MarkdownRenderer, {});\n        this.element = $('div.editor-banner');\n        this.element.tabIndex = 0;\n    }\n    getAriaLabel(item) {\n        if (item.ariaLabel) {\n            return item.ariaLabel;\n        }\n        if (typeof item.message === 'string') {\n            return item.message;\n        }\n        return undefined;\n    }\n    getBannerMessage(message) {\n        if (typeof message === 'string') {\n            const element = $('span');\n            element.innerText = message;\n            return element;\n        }\n        return this.markdownRenderer.render(message).element;\n    }\n    clear() {\n        clearNode(this.element);\n    }\n    show(item) {\n        // Clear previous item\n        clearNode(this.element);\n        // Banner aria label\n        const ariaLabel = this.getAriaLabel(item);\n        if (ariaLabel) {\n            this.element.setAttribute('aria-label', ariaLabel);\n        }\n        // Icon\n        const iconContainer = append(this.element, $('div.icon-container'));\n        iconContainer.setAttribute('aria-hidden', 'true');\n        if (item.icon) {\n            iconContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n        }\n        // Message\n        const messageContainer = append(this.element, $('div.message-container'));\n        messageContainer.setAttribute('aria-hidden', 'true');\n        messageContainer.appendChild(this.getBannerMessage(item.message));\n        // Message Actions\n        this.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n        if (item.actions) {\n            for (const action of item.actions) {\n                this._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, { ...action, tabIndex: -1 }, {}));\n            }\n        }\n        // Action\n        const actionBarContainer = append(this.element, $('div.action-container'));\n        this.actionBar = this._register(new ActionBar(actionBarContainer));\n        this.actionBar.push(this._register(new Action('banner.close', 'Close Banner', ThemeIcon.asClassName(widgetClose), true, () => {\n            if (typeof item.onClose === 'function') {\n                item.onClose();\n            }\n        })), { icon: true, label: false });\n        this.actionBar.setFocusable(false);\n    }\n};\nBanner = __decorate([\n    __param(0, IInstantiationService)\n], Banner);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15044, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { InvisibleCharacters, isBasicASCII } from '../../../../base/common/strings.js';\nimport './unicodeHighlighter.css';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { inUntrustedWorkspace, unicodeHighlightConfigKeys } from '../../../common/config/editorOptions.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { UnicodeTextModelHighlighter } from '../../../common/services/unicodeTextModelHighlighter.js';\nimport { IEditorWorkerService } from '../../../common/services/editorWorker.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { isModelDecorationInComment, isModelDecorationInString, isModelDecorationVisible } from '../../../common/viewModel/viewModelDecorations.js';\nimport { HoverParticipantRegistry } from '../../hover/browser/hoverTypes.js';\nimport { MarkdownHover, renderMarkdownHovers } from '../../hover/browser/markdownHoverParticipant.js';\nimport { BannerController } from './bannerController.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IWorkspaceTrustManagementService } from '../../../../platform/workspace/common/workspaceTrust.js';\nexport const warningIcon = registerIcon('extensions-warning-message', Codicon.warning, nls.localize('warningIcon', 'Icon shown with a warning message in the extensions editor.'));\nlet UnicodeHighlighter = class UnicodeHighlighter extends Disposable {\n    static { this.ID = 'editor.contrib.unicodeHighlighter'; }\n    constructor(_editor, _editorWorkerService, _workspaceTrustService, instantiationService) {\n        super();\n        this._editor = _editor;\n        this._editorWorkerService = _editorWorkerService;\n        this._workspaceTrustService = _workspaceTrustService;\n        this._highlighter = null;\n        this._bannerClosed = false;\n        this._updateState = (state) => {\n            if (state && state.hasMore) {\n                if (this._bannerClosed) {\n                    return;\n                }\n                // This document contains many non-basic ASCII characters.\n                const max = Math.max(state.ambiguousCharacterCount, state.nonBasicAsciiCharacterCount, state.invisibleCharacterCount);\n                let data;\n                if (state.nonBasicAsciiCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters', 'This document contains many non-basic ASCII unicode characters'),\n                        command: new DisableHighlightingOfNonBasicAsciiCharactersAction(),\n                    };\n                }\n                else if (state.ambiguousCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters', 'This document contains many ambiguous unicode characters'),\n                        command: new DisableHighlightingOfAmbiguousCharactersAction(),\n                    };\n                }\n                else if (state.invisibleCharacterCount >= max) {\n                    data = {\n                        message: nls.localize('unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters', 'This document contains many invisible unicode characters'),\n                        command: new DisableHighlightingOfInvisibleCharactersAction(),\n                    };\n                }\n                else {\n                    throw new Error('Unreachable');\n                }\n                this._bannerController.show({\n                    id: 'unicodeHighlightBanner',\n                    message: data.message,\n                    icon: warningIcon,\n                    actions: [\n                        {\n                            label: data.command.shortLabel,\n                            href: `command:${data.command.id}`\n                        }\n                    ],\n                    onClose: () => {\n                        this._bannerClosed = true;\n                    },\n                });\n            }\n            else {\n                this._bannerController.hide();\n            }\n        };\n        this._bannerController = this._register(instantiationService.createInstance(BannerController, _editor));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._bannerClosed = false;\n            this._updateHighlighter();\n        }));\n        this._options = _editor.getOption(126 /* EditorOption.unicodeHighlighting */);\n        this._register(_workspaceTrustService.onDidChangeTrust(e => {\n            this._updateHighlighter();\n        }));\n        this._register(_editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(126 /* EditorOption.unicodeHighlighting */)) {\n                this._options = _editor.getOption(126 /* EditorOption.unicodeHighlighting */);\n                this._updateHighlighter();\n            }\n        }));\n        this._updateHighlighter();\n    }\n    dispose() {\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        super.dispose();\n    }\n    _updateHighlighter() {\n        this._updateState(null);\n        if (this._highlighter) {\n            this._highlighter.dispose();\n            this._highlighter = null;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const options = resolveOptions(this._workspaceTrustService.isWorkspaceTrusted(), this._options);\n        if ([\n            options.nonBasicASCII,\n            options.ambiguousCharacters,\n            options.invisibleCharacters,\n        ].every((option) => option === false)) {\n            // Don't do anything if the feature is fully disabled\n            return;\n        }\n        const highlightOptions = {\n            nonBasicASCII: options.nonBasicASCII,\n            ambiguousCharacters: options.ambiguousCharacters,\n            invisibleCharacters: options.invisibleCharacters,\n            includeComments: options.includeComments,\n            includeStrings: options.includeStrings,\n            allowedCodePoints: Object.keys(options.allowedCharacters).map(c => c.codePointAt(0)),\n            allowedLocales: Object.keys(options.allowedLocales).map(locale => {\n                if (locale === '_os') {\n                    const osLocale = new Intl.NumberFormat().resolvedOptions().locale;\n                    return osLocale;\n                }\n                else if (locale === '_vscode') {\n                    return platform.language;\n                }\n                return locale;\n            }),\n        };\n        if (this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)) {\n            this._highlighter = new DocumentUnicodeHighlighter(this._editor, highlightOptions, this._updateState, this._editorWorkerService);\n        }\n        else {\n            this._highlighter = new ViewportUnicodeHighlighter(this._editor, highlightOptions, this._updateState);\n        }\n    }\n    getDecorationInfo(decoration) {\n        if (this._highlighter) {\n            return this._highlighter.getDecorationInfo(decoration);\n        }\n        return null;\n    }\n};\nUnicodeHighlighter = __decorate([\n    __param(1, IEditorWorkerService),\n    __param(2, IWorkspaceTrustManagementService),\n    __param(3, IInstantiationService)\n], UnicodeHighlighter);\nexport { UnicodeHighlighter };\nfunction resolveOptions(trusted, options) {\n    return {\n        nonBasicASCII: options.nonBasicASCII === inUntrustedWorkspace ? !trusted : options.nonBasicASCII,\n        ambiguousCharacters: options.ambiguousCharacters,\n        invisibleCharacters: options.invisibleCharacters,\n        includeComments: options.includeComments === inUntrustedWorkspace ? !trusted : options.includeComments,\n        includeStrings: options.includeStrings === inUntrustedWorkspace ? !trusted : options.includeStrings,\n        allowedCharacters: options.allowedCharacters,\n        allowedLocales: options.allowedLocales,\n    };\n}\nlet DocumentUnicodeHighlighter = class DocumentUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState, _editorWorkerService) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._editorWorkerService = _editorWorkerService;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const modelVersionId = this._model.getVersionId();\n        this._editorWorkerService\n            .computedUnicodeHighlights(this._model.uri, this._options)\n            .then((info) => {\n            if (this._model.isDisposed()) {\n                return;\n            }\n            if (this._model.getVersionId() !== modelVersionId) {\n                // model changed in the meantime\n                return;\n            }\n            this._updateState(info);\n            const decorations = [];\n            if (!info.hasMore) {\n                // Don't show decoration if there are too many.\n                // In this case, a banner is shown.\n                for (const range of info.ranges) {\n                    decorations.push({\n                        range: range,\n                        options: Decorations.instance.getDecorationFromOptions(this._options),\n                    });\n                }\n            }\n            this._decorations.set(decorations);\n        });\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        const text = model.getValueInRange(decoration.range);\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n};\nDocumentUnicodeHighlighter = __decorate([\n    __param(3, IEditorWorkerService)\n], DocumentUnicodeHighlighter);\nclass ViewportUnicodeHighlighter extends Disposable {\n    constructor(_editor, _options, _updateState) {\n        super();\n        this._editor = _editor;\n        this._options = _options;\n        this._updateState = _updateState;\n        this._model = this._editor.getModel();\n        this._decorations = this._editor.createDecorationsCollection();\n        this._updateSoon = this._register(new RunOnceScheduler(() => this._update(), 250));\n        this._register(this._editor.onDidLayoutChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidScrollChange(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeHiddenAreas(() => {\n            this._updateSoon.schedule();\n        }));\n        this._register(this._editor.onDidChangeModelContent(() => {\n            this._updateSoon.schedule();\n        }));\n        this._updateSoon.schedule();\n    }\n    dispose() {\n        this._decorations.clear();\n        super.dispose();\n    }\n    _update() {\n        if (this._model.isDisposed()) {\n            return;\n        }\n        if (!this._model.mightContainNonBasicASCII()) {\n            this._decorations.clear();\n            return;\n        }\n        const ranges = this._editor.getVisibleRanges();\n        const decorations = [];\n        const totalResult = {\n            ranges: [],\n            ambiguousCharacterCount: 0,\n            invisibleCharacterCount: 0,\n            nonBasicAsciiCharacterCount: 0,\n            hasMore: false,\n        };\n        for (const range of ranges) {\n            const result = UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model, this._options, range);\n            for (const r of result.ranges) {\n                totalResult.ranges.push(r);\n            }\n            totalResult.ambiguousCharacterCount += totalResult.ambiguousCharacterCount;\n            totalResult.invisibleCharacterCount += totalResult.invisibleCharacterCount;\n            totalResult.nonBasicAsciiCharacterCount += totalResult.nonBasicAsciiCharacterCount;\n            totalResult.hasMore = totalResult.hasMore || result.hasMore;\n        }\n        if (!totalResult.hasMore) {\n            // Don't show decorations if there are too many.\n            // A banner will be shown instead.\n            for (const range of totalResult.ranges) {\n                decorations.push({ range, options: Decorations.instance.getDecorationFromOptions(this._options) });\n            }\n        }\n        this._updateState(totalResult);\n        this._decorations.set(decorations);\n    }\n    getDecorationInfo(decoration) {\n        if (!this._decorations.has(decoration)) {\n            return null;\n        }\n        const model = this._editor.getModel();\n        const text = model.getValueInRange(decoration.range);\n        if (!isModelDecorationVisible(model, decoration)) {\n            return null;\n        }\n        return {\n            reason: computeReason(text, this._options),\n            inComment: isModelDecorationInComment(model, decoration),\n            inString: isModelDecorationInString(model, decoration),\n        };\n    }\n}\nconst configureUnicodeHighlightOptionsStr = nls.localize('unicodeHighlight.configureUnicodeHighlightOptions', 'Configure Unicode Highlight Options');\nlet UnicodeHighlighterHoverParticipant = class UnicodeHighlighterHoverParticipant {\n    constructor(_editor, _languageService, _openerService) {\n        this._editor = _editor;\n        this._languageService = _languageService;\n        this._openerService = _openerService;\n        this.hoverOrdinal = 5;\n    }\n    computeSync(anchor, lineDecorations) {\n        if (!this._editor.hasModel() || anchor.type !== 1 /* HoverAnchorType.Range */) {\n            return [];\n        }\n        const model = this._editor.getModel();\n        const unicodeHighlighter = this._editor.getContribution(UnicodeHighlighter.ID);\n        if (!unicodeHighlighter) {\n            return [];\n        }\n        const result = [];\n        const existedReason = new Set();\n        let index = 300;\n        for (const d of lineDecorations) {\n            const highlightInfo = unicodeHighlighter.getDecorationInfo(d);\n            if (!highlightInfo) {\n                continue;\n            }\n            const char = model.getValueInRange(d.range);\n            // text refers to a single character.\n            const codePoint = char.codePointAt(0);\n            const codePointStr = formatCodePointMarkdown(codePoint);\n            let reason;\n            switch (highlightInfo.reason.kind) {\n                case 0 /* UnicodeHighlighterReasonKind.Ambiguous */: {\n                    if (isBasicASCII(highlightInfo.reason.confusableWith)) {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguousASCII', 'The character {0} could be confused with the ASCII character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    else {\n                        reason = nls.localize('unicodeHighlight.characterIsAmbiguous', 'The character {0} could be confused with the character {1}, which is more common in source code.', codePointStr, formatCodePointMarkdown(highlightInfo.reason.confusableWith.codePointAt(0)));\n                    }\n                    break;\n                }\n                case 1 /* UnicodeHighlighterReasonKind.Invisible */:\n                    reason = nls.localize('unicodeHighlight.characterIsInvisible', 'The character {0} is invisible.', codePointStr);\n                    break;\n                case 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */:\n                    reason = nls.localize('unicodeHighlight.characterIsNonBasicAscii', 'The character {0} is not a basic ASCII character.', codePointStr);\n                    break;\n            }\n            if (existedReason.has(reason)) {\n                continue;\n            }\n            existedReason.add(reason);\n            const adjustSettingsArgs = {\n                codePoint: codePoint,\n                reason: highlightInfo.reason,\n                inComment: highlightInfo.inComment,\n                inString: highlightInfo.inString,\n            };\n            const adjustSettings = nls.localize('unicodeHighlight.adjustSettings', 'Adjust settings');\n            const uri = `command:${ShowExcludeOptions.ID}?${encodeURIComponent(JSON.stringify(adjustSettingsArgs))}`;\n            const markdown = new MarkdownString('', true)\n                .appendMarkdown(reason)\n                .appendText(' ')\n                .appendLink(uri, adjustSettings, configureUnicodeHighlightOptionsStr);\n            result.push(new MarkdownHover(this, d.range, [markdown], false, index++));\n        }\n        return result;\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderMarkdownHovers(context, hoverParts, this._editor, this._languageService, this._openerService);\n    }\n};\nUnicodeHighlighterHoverParticipant = __decorate([\n    __param(1, ILanguageService),\n    __param(2, IOpenerService)\n], UnicodeHighlighterHoverParticipant);\nexport { UnicodeHighlighterHoverParticipant };\nfunction codePointToHex(codePoint) {\n    return `U+${codePoint.toString(16).padStart(4, '0')}`;\n}\nfunction formatCodePointMarkdown(codePoint) {\n    let value = `\\`${codePointToHex(codePoint)}\\``;\n    if (!InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n        // Don't render any control characters or any invisible characters, as they cannot be seen anyways.\n        value += ` \"${`${renderCodePointAsInlineCode(codePoint)}`}\"`;\n    }\n    return value;\n}\nfunction renderCodePointAsInlineCode(codePoint) {\n    if (codePoint === 96 /* CharCode.BackTick */) {\n        return '`` ` ``';\n    }\n    return '`' + String.fromCodePoint(codePoint) + '`';\n}\nfunction computeReason(char, options) {\n    return UnicodeTextModelHighlighter.computeUnicodeHighlightReason(char, options);\n}\nclass Decorations {\n    constructor() {\n        this.map = new Map();\n    }\n    static { this.instance = new Decorations(); }\n    getDecorationFromOptions(options) {\n        return this.getDecoration(!options.includeComments, !options.includeStrings);\n    }\n    getDecoration(hideInComments, hideInStrings) {\n        const key = `${hideInComments}${hideInStrings}`;\n        let options = this.map.get(key);\n        if (!options) {\n            options = ModelDecorationOptions.createDynamic({\n                description: 'unicode-highlight',\n                stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n                className: 'unicode-highlight',\n                showIfCollapsed: true,\n                overviewRuler: null,\n                minimap: null,\n                hideInCommentTokens: hideInComments,\n                hideInStringTokens: hideInStrings,\n            });\n            this.map.set(key, options);\n        }\n        return options;\n    }\n}\nexport class DisableHighlightingInCommentsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInComments', 'Disable highlighting of characters in comments'),\n            alias: 'Disable highlighting of characters in comments',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInComments.shortLabel', 'Disable Highlight In Comments');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor?.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.includeComments, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class DisableHighlightingInStringsAction extends EditorAction {\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingInStrings', 'Disable highlighting of characters in strings'),\n            alias: 'Disable highlighting of characters in strings',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingInStrings.shortLabel', 'Disable Highlight In Strings');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor?.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.includeStrings, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class DisableHighlightingOfAmbiguousCharactersAction extends EditorAction {\n    static { this.ID = 'editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters'; }\n    constructor() {\n        super({\n            id: DisableHighlightingOfAmbiguousCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters', 'Disable highlighting of ambiguous characters'),\n            alias: 'Disable highlighting of ambiguous characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel', 'Disable Ambiguous Highlight');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor?.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.ambiguousCharacters, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class DisableHighlightingOfInvisibleCharactersAction extends EditorAction {\n    static { this.ID = 'editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters'; }\n    constructor() {\n        super({\n            id: DisableHighlightingOfInvisibleCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfInvisibleCharacters', 'Disable highlighting of invisible characters'),\n            alias: 'Disable highlighting of invisible characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel', 'Disable Invisible Highlight');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor?.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.invisibleCharacters, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class DisableHighlightingOfNonBasicAsciiCharactersAction extends EditorAction {\n    static { this.ID = 'editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters'; }\n    constructor() {\n        super({\n            id: DisableHighlightingOfNonBasicAsciiCharactersAction.ID,\n            label: nls.localize('action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters', 'Disable highlighting of non basic ASCII characters'),\n            alias: 'Disable highlighting of non basic ASCII characters',\n            precondition: undefined\n        });\n        this.shortLabel = nls.localize('unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel', 'Disable Non ASCII Highlight');\n    }\n    async run(accessor, editor, args) {\n        const configurationService = accessor?.get(IConfigurationService);\n        if (configurationService) {\n            this.runAction(configurationService);\n        }\n    }\n    async runAction(configurationService) {\n        await configurationService.updateValue(unicodeHighlightConfigKeys.nonBasicASCII, false, 2 /* ConfigurationTarget.USER */);\n    }\n}\nexport class ShowExcludeOptions extends EditorAction {\n    static { this.ID = 'editor.action.unicodeHighlight.showExcludeOptions'; }\n    constructor() {\n        super({\n            id: ShowExcludeOptions.ID,\n            label: nls.localize('action.unicodeHighlight.showExcludeOptions', \"Show Exclude Options\"),\n            alias: 'Show Exclude Options',\n            precondition: undefined\n        });\n    }\n    async run(accessor, editor, args) {\n        const { codePoint, reason, inString, inComment } = args;\n        const char = String.fromCodePoint(codePoint);\n        const quickPickService = accessor.get(IQuickInputService);\n        const configurationService = accessor.get(IConfigurationService);\n        function getExcludeCharFromBeingHighlightedLabel(codePoint) {\n            if (InvisibleCharacters.isInvisibleCharacter(codePoint)) {\n                return nls.localize('unicodeHighlight.excludeInvisibleCharFromBeingHighlighted', 'Exclude {0} (invisible character) from being highlighted', codePointToHex(codePoint));\n            }\n            return nls.localize('unicodeHighlight.excludeCharFromBeingHighlighted', 'Exclude {0} from being highlighted', `${codePointToHex(codePoint)} \"${char}\"`);\n        }\n        const options = [];\n        if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n            for (const locale of reason.notAmbiguousInLocales) {\n                options.push({\n                    label: nls.localize(\"unicodeHighlight.allowCommonCharactersInLanguage\", \"Allow unicode characters that are more common in the language \\\"{0}\\\".\", locale),\n                    run: async () => {\n                        excludeLocaleFromBeingHighlighted(configurationService, [locale]);\n                    },\n                });\n            }\n        }\n        options.push({\n            label: getExcludeCharFromBeingHighlightedLabel(codePoint),\n            run: () => excludeCharFromBeingHighlighted(configurationService, [codePoint])\n        });\n        if (inComment) {\n            const action = new DisableHighlightingInCommentsAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else if (inString) {\n            const action = new DisableHighlightingInStringsAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        if (reason.kind === 0 /* UnicodeHighlighterReasonKind.Ambiguous */) {\n            const action = new DisableHighlightingOfAmbiguousCharactersAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else if (reason.kind === 1 /* UnicodeHighlighterReasonKind.Invisible */) {\n            const action = new DisableHighlightingOfInvisibleCharactersAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else if (reason.kind === 2 /* UnicodeHighlighterReasonKind.NonBasicAscii */) {\n            const action = new DisableHighlightingOfNonBasicAsciiCharactersAction();\n            options.push({ label: action.label, run: async () => action.runAction(configurationService) });\n        }\n        else {\n            expectNever(reason);\n        }\n        const result = await quickPickService.pick(options, { title: configureUnicodeHighlightOptionsStr });\n        if (result) {\n            await result.run();\n        }\n    }\n}\nasync function excludeCharFromBeingHighlighted(configurationService, charCodes) {\n    const existingValue = configurationService.getValue(unicodeHighlightConfigKeys.allowedCharacters);\n    let value;\n    if ((typeof existingValue === 'object') && existingValue) {\n        value = existingValue;\n    }\n    else {\n        value = {};\n    }\n    for (const charCode of charCodes) {\n        value[String.fromCodePoint(charCode)] = true;\n    }\n    await configurationService.updateValue(unicodeHighlightConfigKeys.allowedCharacters, value, 2 /* ConfigurationTarget.USER */);\n}\nasync function excludeLocaleFromBeingHighlighted(configurationService, locales) {\n    const existingValue = configurationService.inspect(unicodeHighlightConfigKeys.allowedLocales).user?.value;\n    let value;\n    if ((typeof existingValue === 'object') && existingValue) {\n        // Copy value, as the existing value is read only\n        value = Object.assign({}, existingValue);\n    }\n    else {\n        value = {};\n    }\n    for (const locale of locales) {\n        value[locale] = true;\n    }\n    await configurationService.updateValue(unicodeHighlightConfigKeys.allowedLocales, value, 2 /* ConfigurationTarget.USER */);\n}\nfunction expectNever(value) {\n    throw new Error(`Unexpected value: ${value}`);\n}\nregisterEditorAction(DisableHighlightingOfAmbiguousCharactersAction);\nregisterEditorAction(DisableHighlightingOfInvisibleCharactersAction);\nregisterEditorAction(DisableHighlightingOfNonBasicAsciiCharactersAction);\nregisterEditorAction(ShowExcludeOptions);\nregisterEditorContribution(UnicodeHighlighter.ID, UnicodeHighlighter, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nHoverParticipantRegistry.register(UnicodeHighlighterHoverParticipant);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15761, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nconst ignoreUnusualLineTerminators = 'ignoreUnusualLineTerminators';\nfunction writeIgnoreState(codeEditorService, model, state) {\n    codeEditorService.setModelProperty(model.uri, ignoreUnusualLineTerminators, state);\n}\nfunction readIgnoreState(codeEditorService, model) {\n    return codeEditorService.getModelProperty(model.uri, ignoreUnusualLineTerminators);\n}\nlet UnusualLineTerminatorsDetector = class UnusualLineTerminatorsDetector extends Disposable {\n    static { this.ID = 'editor.contrib.unusualLineTerminatorsDetector'; }\n    constructor(_editor, _dialogService, _codeEditorService) {\n        super();\n        this._editor = _editor;\n        this._dialogService = _dialogService;\n        this._codeEditorService = _codeEditorService;\n        this._isPresentingDialog = false;\n        this._config = this._editor.getOption(127 /* EditorOption.unusualLineTerminators */);\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(127 /* EditorOption.unusualLineTerminators */)) {\n                this._config = this._editor.getOption(127 /* EditorOption.unusualLineTerminators */);\n                this._checkForUnusualLineTerminators();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            this._checkForUnusualLineTerminators();\n        }));\n        this._register(this._editor.onDidChangeModelContent((e) => {\n            if (e.isUndoing) {\n                // skip checking in case of undoing\n                return;\n            }\n            this._checkForUnusualLineTerminators();\n        }));\n        this._checkForUnusualLineTerminators();\n    }\n    async _checkForUnusualLineTerminators() {\n        if (this._config === 'off') {\n            return;\n        }\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (!model.mightContainUnusualLineTerminators()) {\n            return;\n        }\n        const ignoreState = readIgnoreState(this._codeEditorService, model);\n        if (ignoreState === true) {\n            // this model should be ignored\n            return;\n        }\n        if (this._editor.getOption(92 /* EditorOption.readOnly */)) {\n            // read only editor => sorry!\n            return;\n        }\n        if (this._config === 'auto') {\n            // just do it!\n            model.removeUnusualLineTerminators(this._editor.getSelections());\n            return;\n        }\n        if (this._isPresentingDialog) {\n            // we're currently showing the dialog, which is async.\n            // avoid spamming the user\n            return;\n        }\n        let result;\n        try {\n            this._isPresentingDialog = true;\n            result = await this._dialogService.confirm({\n                title: nls.localize('unusualLineTerminators.title', \"Unusual Line Terminators\"),\n                message: nls.localize('unusualLineTerminators.message', \"Detected unusual line terminators\"),\n                detail: nls.localize('unusualLineTerminators.detail', \"The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\\n\\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.\", basename(model.uri)),\n                primaryButton: nls.localize({ key: 'unusualLineTerminators.fix', comment: ['&& denotes a mnemonic'] }, \"&&Remove Unusual Line Terminators\"),\n                cancelButton: nls.localize('unusualLineTerminators.ignore', \"Ignore\")\n            });\n        }\n        finally {\n            this._isPresentingDialog = false;\n        }\n        if (!result.confirmed) {\n            // this model should be ignored\n            writeIgnoreState(this._codeEditorService, model, true);\n            return;\n        }\n        model.removeUnusualLineTerminators(this._editor.getSelections());\n    }\n};\nUnusualLineTerminatorsDetector = __decorate([\n    __param(1, IDialogService),\n    __param(2, ICodeEditorService)\n], UnusualLineTerminatorsDetector);\nexport { UnusualLineTerminatorsDetector };\nregisterEditorContribution(UnusualLineTerminatorsDetector.ID, UnusualLineTerminatorsDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15891, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/wordOperations/browser/wordOperations.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction, EditorCommand, registerEditorAction, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ReplaceCommand } from '../../../common/commands/replaceCommand.js';\nimport { EditorOptions } from '../../../common/config/editorOptions.js';\nimport { CursorState } from '../../../common/cursorCommon.js';\nimport { WordOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport * as nls from '../../../../nls.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IsWindowsContext } from '../../../../platform/contextkey/common/contextkeys.js';\nexport class MoveWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._inSelectionMode = opts.inSelectionMode;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(132 /* EditorOption.wordSeparators */), editor.getOption(131 /* EditorOption.wordSegmenterLocales */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const hasMulticursor = selections.length > 1;\n        const result = selections.map((sel) => {\n            const inPosition = new Position(sel.positionLineNumber, sel.positionColumn);\n            const outPosition = this._move(wordSeparators, model, inPosition, this._wordNavigationType, hasMulticursor);\n            return this._moveTo(sel, outPosition, this._inSelectionMode);\n        });\n        model.pushStackElement();\n        editor._getViewModel().setCursorStates('moveWordCommand', 3 /* CursorChangeReason.Explicit */, result.map(r => CursorState.fromModelSelection(r)));\n        if (result.length === 1) {\n            const pos = new Position(result[0].positionLineNumber, result[0].positionColumn);\n            editor.revealPosition(pos, 0 /* ScrollType.Smooth */);\n        }\n    }\n    _moveTo(from, to, inSelectionMode) {\n        if (inSelectionMode) {\n            // move just position\n            return new Selection(from.selectionStartLineNumber, from.selectionStartColumn, to.lineNumber, to.column);\n        }\n        else {\n            // move everything\n            return new Selection(to.lineNumber, to.column, to.lineNumber, to.column);\n        }\n    }\n}\nexport class WordLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType, hasMulticursor) {\n        return WordOperations.moveWordLeft(wordSeparators, model, position, wordNavigationType, hasMulticursor);\n    }\n}\nexport class WordRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType, hasMulticursor) {\n        return WordOperations.moveWordRight(wordSeparators, model, position, wordNavigationType);\n    }\n}\nexport class CursorWordStartLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeft',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)?.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordStartLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndLeftSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 1 /* WordNavigationType.WordStartFast */,\n            id: 'cursorWordLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)?.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Accessibility navigation commands should only be enabled on windows since they are tuned to what NVDA expects\nexport class CursorWordAccessibilityLeft extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeft',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType, hasMulticursor) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType, hasMulticursor);\n    }\n}\nexport class CursorWordAccessibilityLeftSelect extends WordLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityLeftSelect',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType, hasMulticursor) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType, hasMulticursor);\n    }\n}\nexport class CursorWordStartRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)?.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRight',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordStartRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordStartRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordEndRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordEndRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: ContextKeyExpr.and(EditorContextKeys.textInputFocus, ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, IsWindowsContext)?.negate()),\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordRightSelect',\n            precondition: undefined\n        });\n    }\n}\nexport class CursorWordAccessibilityRight extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRight',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType, hasMulticursor) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType, hasMulticursor);\n    }\n}\nexport class CursorWordAccessibilityRightSelect extends WordRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 3 /* WordNavigationType.WordAccessibility */,\n            id: 'cursorWordAccessibilityRightSelect',\n            precondition: undefined\n        });\n    }\n    _move(wordCharacterClassifier, model, position, wordNavigationType, hasMulticursor) {\n        return super._move(getMapForWordSeparators(EditorOptions.wordSeparators.defaultValue, wordCharacterClassifier.intlSegmenterLocales), model, position, wordNavigationType, hasMulticursor);\n    }\n}\nexport class DeleteWordCommand extends EditorCommand {\n    constructor(opts) {\n        super(opts);\n        this._whitespaceHeuristics = opts.whitespaceHeuristics;\n        this._wordNavigationType = opts.wordNavigationType;\n    }\n    runEditorCommand(accessor, editor, args) {\n        const languageConfigurationService = accessor.get(ILanguageConfigurationService);\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(132 /* EditorOption.wordSeparators */), editor.getOption(131 /* EditorOption.wordSegmenterLocales */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const autoClosingBrackets = editor.getOption(6 /* EditorOption.autoClosingBrackets */);\n        const autoClosingQuotes = editor.getOption(11 /* EditorOption.autoClosingQuotes */);\n        const autoClosingPairs = languageConfigurationService.getLanguageConfiguration(model.getLanguageId()).getAutoClosingPairs();\n        const viewModel = editor._getViewModel();\n        const commands = selections.map((sel) => {\n            const deleteRange = this._delete({\n                wordSeparators,\n                model,\n                selection: sel,\n                whitespaceHeuristics: this._whitespaceHeuristics,\n                autoClosingDelete: editor.getOption(9 /* EditorOption.autoClosingDelete */),\n                autoClosingBrackets,\n                autoClosingQuotes,\n                autoClosingPairs,\n                autoClosedCharacters: viewModel.getCursorAutoClosedCharacters(),\n            }, this._wordNavigationType);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nexport class DeleteWordLeftCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordLeft(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordRightCommand extends DeleteWordCommand {\n    _delete(ctx, wordNavigationType) {\n        const r = WordOperations.deleteWordRight(ctx, wordNavigationType);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class DeleteWordStartLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndLeft',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordLeft extends DeleteWordLeftCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1 /* KeyCode.Backspace */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteWordStartRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordStartRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordEndRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordEndRight',\n            precondition: EditorContextKeys.writable\n        });\n    }\n}\nexport class DeleteWordRight extends DeleteWordRightCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 20 /* KeyCode.Delete */,\n                mac: { primary: 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class DeleteInsideWord extends EditorAction {\n    constructor() {\n        super({\n            id: 'deleteInsideWord',\n            precondition: EditorContextKeys.writable,\n            label: nls.localize('deleteInsideWord', \"Delete Word\"),\n            alias: 'Delete Word'\n        });\n    }\n    run(accessor, editor, args) {\n        if (!editor.hasModel()) {\n            return;\n        }\n        const wordSeparators = getMapForWordSeparators(editor.getOption(132 /* EditorOption.wordSeparators */), editor.getOption(131 /* EditorOption.wordSegmenterLocales */));\n        const model = editor.getModel();\n        const selections = editor.getSelections();\n        const commands = selections.map((sel) => {\n            const deleteRange = WordOperations.deleteInsideWord(wordSeparators, model, sel);\n            return new ReplaceCommand(deleteRange, '');\n        });\n        editor.pushUndoStop();\n        editor.executeCommands(this.id, commands);\n        editor.pushUndoStop();\n    }\n}\nregisterEditorCommand(new CursorWordStartLeft());\nregisterEditorCommand(new CursorWordEndLeft());\nregisterEditorCommand(new CursorWordLeft());\nregisterEditorCommand(new CursorWordStartLeftSelect());\nregisterEditorCommand(new CursorWordEndLeftSelect());\nregisterEditorCommand(new CursorWordLeftSelect());\nregisterEditorCommand(new CursorWordStartRight());\nregisterEditorCommand(new CursorWordEndRight());\nregisterEditorCommand(new CursorWordRight());\nregisterEditorCommand(new CursorWordStartRightSelect());\nregisterEditorCommand(new CursorWordEndRightSelect());\nregisterEditorCommand(new CursorWordRightSelect());\nregisterEditorCommand(new CursorWordAccessibilityLeft());\nregisterEditorCommand(new CursorWordAccessibilityLeftSelect());\nregisterEditorCommand(new CursorWordAccessibilityRight());\nregisterEditorCommand(new CursorWordAccessibilityRightSelect());\nregisterEditorCommand(new DeleteWordStartLeft());\nregisterEditorCommand(new DeleteWordEndLeft());\nregisterEditorCommand(new DeleteWordLeft());\nregisterEditorCommand(new DeleteWordStartRight());\nregisterEditorCommand(new DeleteWordEndRight());\nregisterEditorCommand(new DeleteWordRight());\nregisterEditorAction(DeleteInsideWord);\n"],"names":[],"mappings":"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C1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,wBAAqB,AAAD,EAAE,IAAI;AAC1B,CAAA,GAAA,uPAAA,CAAA,uBAAoB,AAAD,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16395, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/wordPartOperations/browser/wordPartOperations.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { WordPartOperations } from '../../../common/cursor/cursorWordOperations.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { DeleteWordCommand, MoveWordCommand } from '../../wordOperations/browser/wordOperations.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nexport class DeleteWordPartLeft extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'deleteWordPartLeft',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1 /* KeyCode.Backspace */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartLeft(ctx);\n        if (r) {\n            return r;\n        }\n        return new Range(1, 1, 1, 1);\n    }\n}\nexport class DeleteWordPartRight extends DeleteWordCommand {\n    constructor() {\n        super({\n            whitespaceHeuristics: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'deleteWordPartRight',\n            precondition: EditorContextKeys.writable,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 20 /* KeyCode.Delete */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n    _delete(ctx, wordNavigationType) {\n        const r = WordPartOperations.deleteWordPartRight(ctx);\n        if (r) {\n            return r;\n        }\n        const lineCount = ctx.model.getLineCount();\n        const maxColumn = ctx.model.getLineMaxColumn(lineCount);\n        return new Range(lineCount, maxColumn, lineCount, maxColumn);\n    }\n}\nexport class WordPartLeftCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType, hasMulticursor) {\n        return WordPartOperations.moveWordPartLeft(wordSeparators, model, position, hasMulticursor);\n    }\n}\nexport class CursorWordPartLeft extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeft',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeft', 'cursorWordPartLeft');\nexport class CursorWordPartLeftSelect extends WordPartLeftCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 0 /* WordNavigationType.WordStart */,\n            id: 'cursorWordPartLeftSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\n// Register previous id for compatibility purposes\nCommandsRegistry.registerCommandAlias('cursorWordPartStartLeftSelect', 'cursorWordPartLeftSelect');\nexport class WordPartRightCommand extends MoveWordCommand {\n    _move(wordSeparators, model, position, wordNavigationType, hasMulticursor) {\n        return WordPartOperations.moveWordPartRight(wordSeparators, model, position);\n    }\n}\nexport class CursorWordPartRight extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: false,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRight',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nexport class CursorWordPartRightSelect extends WordPartRightCommand {\n    constructor() {\n        super({\n            inSelectionMode: true,\n            wordNavigationType: 2 /* WordNavigationType.WordEnd */,\n            id: 'cursorWordPartRightSelect',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.textInputFocus,\n                primary: 0,\n                mac: { primary: 256 /* KeyMod.WinCtrl */ | 512 /* KeyMod.Alt */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            }\n        });\n    }\n}\nregisterEditorCommand(new DeleteWordPartLeft());\nregisterEditorCommand(new DeleteWordPartRight());\nregisterEditorCommand(new CursorWordPartLeft());\nregisterEditorCommand(new CursorWordPartLeftSelect());\nregisterEditorCommand(new CursorWordPartRight());\nregisterEditorCommand(new CursorWordPartRightSelect());\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16568, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/readOnlyMessage/browser/contribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport * as nls from '../../../../nls.js';\nexport class ReadOnlyMessageController extends Disposable {\n    static { this.ID = 'editor.contrib.readOnlyMessageController'; }\n    constructor(editor) {\n        super();\n        this.editor = editor;\n        this._register(this.editor.onDidAttemptReadOnlyEdit(() => this._onDidAttemptReadOnlyEdit()));\n    }\n    _onDidAttemptReadOnlyEdit() {\n        const messageController = MessageController.get(this.editor);\n        if (messageController && this.editor.hasModel()) {\n            let message = this.editor.getOptions().get(93 /* EditorOption.readOnlyMessage */);\n            if (!message) {\n                if (this.editor.isSimpleWidget) {\n                    message = new MarkdownString(nls.localize('editor.simple.readonly', \"Cannot edit in read-only input\"));\n                }\n                else {\n                    message = new MarkdownString(nls.localize('editor.readonly', \"Cannot edit in read-only editor\"));\n                }\n            }\n            messageController.showMessage(message, this.editor.getPosition());\n        }\n    }\n}\nregisterEditorContribution(ReadOnlyMessageController.ID, ReadOnlyMessageController, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;AACA;AACA;AAAA;;;;;;AACO,MAAM,kCAAkC,6OAAA,CAAA,aAAU;IAOrD,4BAA4B;QACxB,MAAM,oBAAoB,8QAAA,CAAA,oBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM;QAC3D,IAAI,qBAAqB,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI;YAC7C,IAAI,UAAU,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC,GAAG,gCAAgC;YAC9E,IAAI,CAAC,SAAS;gBACV,IAAI,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE;oBAC5B,UAAU,IAAI,+OAAA,CAAA,iBAAc,CAAC,qOAAA,CAAA,WAAY,CAAC,0BAA0B;gBACxE,OACK;oBACD,UAAU,IAAI,+OAAA,CAAA,iBAAc,CAAC,qOAAA,CAAA,WAAY,CAAC,mBAAmB;gBACjE;YACJ;YACA,kBAAkB,WAAW,CAAC,SAAS,IAAI,CAAC,MAAM,CAAC,WAAW;QAClE;IACJ;IAnBA,YAAY,MAAM,CAAE;QAChB,KAAK;QACL,IAAI,CAAC,MAAM,GAAG;QACd,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,wBAAwB,CAAC,IAAM,IAAI,CAAC,yBAAyB;IAC5F;AAgBJ;AAtBa,0BACK,EAAE,GAAG;AAsBvB,CAAA,GAAA,uPAAA,CAAA,6BAA0B,AAAD,EAAE,0BAA0B,EAAE,EAAE,2BAA2B,EAAE,0DAA0D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16612, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { reverseOrder, compareBy, numberComparator } from '../../../../base/common/arrays.js';\nimport { observableValue, observableSignalFromEvent, autorunWithStore } from '../../../../base/common/observable.js';\nimport { HideUnchangedRegionsFeature } from '../../../browser/widget/diffEditor/features/hideUnchangedRegionsFeature.js';\nimport { DisposableCancellationTokenSource } from '../../../browser/widget/diffEditor/utils.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { IOutlineModelService } from '../../documentSymbols/browser/outlineModel.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Event } from '../../../../base/common/event.js';\nlet DiffEditorBreadcrumbsSource = class DiffEditorBreadcrumbsSource extends Disposable {\n    constructor(_textModel, _languageFeaturesService, _outlineModelService) {\n        super();\n        this._textModel = _textModel;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._outlineModelService = _outlineModelService;\n        this._currentModel = observableValue(this, undefined);\n        const documentSymbolProviderChanged = observableSignalFromEvent('documentSymbolProvider.onDidChange', this._languageFeaturesService.documentSymbolProvider.onDidChange);\n        const textModelChanged = observableSignalFromEvent('_textModel.onDidChangeContent', Event.debounce(e => this._textModel.onDidChangeContent(e), () => undefined, 100));\n        this._register(autorunWithStore(async (reader, store) => {\n            documentSymbolProviderChanged.read(reader);\n            textModelChanged.read(reader);\n            const src = store.add(new DisposableCancellationTokenSource());\n            const model = await this._outlineModelService.getOrCreate(this._textModel, src.token);\n            if (store.isDisposed) {\n                return;\n            }\n            this._currentModel.set(model, undefined);\n        }));\n    }\n    getBreadcrumbItems(startRange, reader) {\n        const m = this._currentModel.read(reader);\n        if (!m) {\n            return [];\n        }\n        const symbols = m.asListOfDocumentSymbols()\n            .filter(s => startRange.contains(s.range.startLineNumber) && !startRange.contains(s.range.endLineNumber));\n        symbols.sort(reverseOrder(compareBy(s => s.range.endLineNumber - s.range.startLineNumber, numberComparator)));\n        return symbols.map(s => ({ name: s.name, kind: s.kind, startLineNumber: s.range.startLineNumber }));\n    }\n};\nDiffEditorBreadcrumbsSource = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, IOutlineModelService)\n], DiffEditorBreadcrumbsSource);\nHideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((textModel, instantiationService) => {\n    return instantiationService.createInstance(DiffEditorBreadcrumbsSource, textModel);\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16691, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createSingleCallFunction } from '../../../../base/common/functional.js';\nimport { DisposableStore, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { getCodeEditor, isDiffEditor } from '../../../browser/editorBrowser.js';\nimport { OverviewRulerLane } from '../../../common/model.js';\nimport { overviewRulerRangeHighlight } from '../../../common/core/editorColorRegistry.js';\nimport { themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nimport { status } from '../../../../base/browser/ui/aria/aria.js';\n/**\n * A reusable quick access provider for the editor with support\n * for adding decorations for navigating in the currently active file\n * (for example \"Go to line\", \"Go to symbol\").\n */\nexport class AbstractEditorNavigationQuickAccessProvider {\n    constructor(options) {\n        this.options = options;\n        //#endregion\n        //#region Decorations Utils\n        this.rangeHighlightDecorationId = undefined;\n    }\n    //#region Provider methods\n    provide(picker, token, runOptions) {\n        const disposables = new DisposableStore();\n        // Apply options if any\n        picker.canAcceptInBackground = !!this.options?.canAcceptInBackground;\n        // Disable filtering & sorting, we control the results\n        picker.matchOnLabel = picker.matchOnDescription = picker.matchOnDetail = picker.sortByLabel = false;\n        // Provide based on current active editor\n        const pickerDisposable = disposables.add(new MutableDisposable());\n        pickerDisposable.value = this.doProvide(picker, token, runOptions);\n        // Re-create whenever the active editor changes\n        disposables.add(this.onDidActiveTextEditorControlChange(() => {\n            // Clear old\n            pickerDisposable.value = undefined;\n            // Add new\n            pickerDisposable.value = this.doProvide(picker, token);\n        }));\n        return disposables;\n    }\n    doProvide(picker, token, runOptions) {\n        const disposables = new DisposableStore();\n        // With text control\n        const editor = this.activeTextEditorControl;\n        if (editor && this.canProvideWithTextEditor(editor)) {\n            const context = { editor };\n            // Restore any view state if this picker was closed\n            // without actually going to a line\n            const codeEditor = getCodeEditor(editor);\n            if (codeEditor) {\n                // Remember view state and update it when the cursor position\n                // changes even later because it could be that the user has\n                // configured quick access to remain open when focus is lost and\n                // we always want to restore the current location.\n                let lastKnownEditorViewState = editor.saveViewState() ?? undefined;\n                disposables.add(codeEditor.onDidChangeCursorPosition(() => {\n                    lastKnownEditorViewState = editor.saveViewState() ?? undefined;\n                }));\n                context.restoreViewState = () => {\n                    if (lastKnownEditorViewState && editor === this.activeTextEditorControl) {\n                        editor.restoreViewState(lastKnownEditorViewState);\n                    }\n                };\n                disposables.add(createSingleCallFunction(token.onCancellationRequested)(() => context.restoreViewState?.()));\n            }\n            // Clean up decorations on dispose\n            disposables.add(toDisposable(() => this.clearDecorations(editor)));\n            // Ask subclass for entries\n            disposables.add(this.provideWithTextEditor(context, picker, token, runOptions));\n        }\n        // Without text control\n        else {\n            disposables.add(this.provideWithoutTextEditor(picker, token));\n        }\n        return disposables;\n    }\n    /**\n     * Subclasses to implement if they can operate on the text editor.\n     */\n    canProvideWithTextEditor(editor) {\n        return true;\n    }\n    gotoLocation({ editor }, options) {\n        editor.setSelection(options.range, \"code.jump\" /* TextEditorSelectionSource.JUMP */);\n        editor.revealRangeInCenter(options.range, 0 /* ScrollType.Smooth */);\n        if (!options.preserveFocus) {\n            editor.focus();\n        }\n        const model = editor.getModel();\n        if (model && 'getLineContent' in model) {\n            status(`${model.getLineContent(options.range.startLineNumber)}`);\n        }\n    }\n    getModel(editor) {\n        return isDiffEditor(editor) ?\n            editor.getModel()?.modified :\n            editor.getModel();\n    }\n    addDecorations(editor, range) {\n        editor.changeDecorations(changeAccessor => {\n            // Reset old decorations if any\n            const deleteDecorations = [];\n            if (this.rangeHighlightDecorationId) {\n                deleteDecorations.push(this.rangeHighlightDecorationId.overviewRulerDecorationId);\n                deleteDecorations.push(this.rangeHighlightDecorationId.rangeHighlightId);\n                this.rangeHighlightDecorationId = undefined;\n            }\n            // Add new decorations for the range\n            const newDecorations = [\n                // highlight the entire line on the range\n                {\n                    range,\n                    options: {\n                        description: 'quick-access-range-highlight',\n                        className: 'rangeHighlight',\n                        isWholeLine: true\n                    }\n                },\n                // also add overview ruler highlight\n                {\n                    range,\n                    options: {\n                        description: 'quick-access-range-highlight-overview',\n                        overviewRuler: {\n                            color: themeColorFromId(overviewRulerRangeHighlight),\n                            position: OverviewRulerLane.Full\n                        }\n                    }\n                }\n            ];\n            const [rangeHighlightId, overviewRulerDecorationId] = changeAccessor.deltaDecorations(deleteDecorations, newDecorations);\n            this.rangeHighlightDecorationId = { rangeHighlightId, overviewRulerDecorationId };\n        });\n    }\n    clearDecorations(editor) {\n        const rangeHighlightDecorationId = this.rangeHighlightDecorationId;\n        if (rangeHighlightDecorationId) {\n            editor.changeDecorations(changeAccessor => {\n                changeAccessor.deltaDecorations([\n                    rangeHighlightDecorationId.overviewRulerDecorationId,\n                    rangeHighlightDecorationId.rangeHighlightId\n                ], []);\n            });\n            this.rangeHighlightDecorationId = undefined;\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16856, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { getCodeEditor } from '../../../browser/editorBrowser.js';\nimport { AbstractEditorNavigationQuickAccessProvider } from './editorNavigationQuickAccess.js';\nimport { localize } from '../../../../nls.js';\nexport class AbstractGotoLineQuickAccessProvider extends AbstractEditorNavigationQuickAccessProvider {\n    static { this.PREFIX = ':'; }\n    constructor() {\n        super({ canAcceptInBackground: true });\n    }\n    provideWithoutTextEditor(picker) {\n        const label = localize('cannotRunGotoLine', \"Open a text editor first to go to a line.\");\n        picker.items = [{ label }];\n        picker.ariaLabel = label;\n        return Disposable.None;\n    }\n    provideWithTextEditor(context, picker, token) {\n        const editor = context.editor;\n        const disposables = new DisposableStore();\n        // Goto line once picked\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (item) {\n                if (!this.isValidLineNumber(editor, item.lineNumber)) {\n                    return;\n                }\n                this.gotoLocation(context, { range: this.toRange(item.lineNumber, item.column), keyMods: picker.keyMods, preserveFocus: event.inBackground });\n                if (!event.inBackground) {\n                    picker.hide();\n                }\n            }\n        }));\n        // React to picker changes\n        const updatePickerAndEditor = () => {\n            const position = this.parsePosition(editor, picker.value.trim().substr(AbstractGotoLineQuickAccessProvider.PREFIX.length));\n            const label = this.getPickLabel(editor, position.lineNumber, position.column);\n            // Picker\n            picker.items = [{\n                    lineNumber: position.lineNumber,\n                    column: position.column,\n                    label\n                }];\n            // ARIA Label\n            picker.ariaLabel = label;\n            // Clear decorations for invalid range\n            if (!this.isValidLineNumber(editor, position.lineNumber)) {\n                this.clearDecorations(editor);\n                return;\n            }\n            // Reveal\n            const range = this.toRange(position.lineNumber, position.column);\n            editor.revealRangeInCenter(range, 0 /* ScrollType.Smooth */);\n            // Decorate\n            this.addDecorations(editor, range);\n        };\n        updatePickerAndEditor();\n        disposables.add(picker.onDidChangeValue(() => updatePickerAndEditor()));\n        // Adjust line number visibility as needed\n        const codeEditor = getCodeEditor(editor);\n        if (codeEditor) {\n            const options = codeEditor.getOptions();\n            const lineNumbers = options.get(68 /* EditorOption.lineNumbers */);\n            if (lineNumbers.renderType === 2 /* RenderLineNumbersType.Relative */) {\n                codeEditor.updateOptions({ lineNumbers: 'on' });\n                disposables.add(toDisposable(() => codeEditor.updateOptions({ lineNumbers: 'relative' })));\n            }\n        }\n        return disposables;\n    }\n    toRange(lineNumber = 1, column = 1) {\n        return {\n            startLineNumber: lineNumber,\n            startColumn: column,\n            endLineNumber: lineNumber,\n            endColumn: column\n        };\n    }\n    parsePosition(editor, value) {\n        // Support line-col formats of `line,col`, `line:col`, `line#col`\n        const numbers = value.split(/,|:|#/).map(part => parseInt(part, 10)).filter(part => !isNaN(part));\n        const endLine = this.lineCount(editor) + 1;\n        return {\n            lineNumber: numbers[0] > 0 ? numbers[0] : endLine + numbers[0],\n            column: numbers[1]\n        };\n    }\n    getPickLabel(editor, lineNumber, column) {\n        // Location valid: indicate this as picker label\n        if (this.isValidLineNumber(editor, lineNumber)) {\n            if (this.isValidColumn(editor, lineNumber, column)) {\n                return localize('gotoLineColumnLabel', \"Go to line {0} and character {1}.\", lineNumber, column);\n            }\n            return localize('gotoLineLabel', \"Go to line {0}.\", lineNumber);\n        }\n        // Location invalid: show generic label\n        const position = editor.getPosition() || { lineNumber: 1, column: 1 };\n        const lineCount = this.lineCount(editor);\n        if (lineCount > 1) {\n            return localize('gotoLineLabelEmptyWithLimit', \"Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.\", position.lineNumber, position.column, lineCount);\n        }\n        return localize('gotoLineLabelEmpty', \"Current Line: {0}, Character: {1}. Type a line number to navigate to.\", position.lineNumber, position.column);\n    }\n    isValidLineNumber(editor, lineNumber) {\n        if (!lineNumber || typeof lineNumber !== 'number') {\n            return false;\n        }\n        return lineNumber > 0 && lineNumber <= this.lineCount(editor);\n    }\n    isValidColumn(editor, lineNumber, column) {\n        if (!column || typeof column !== 'number') {\n            return false;\n        }\n        const model = this.getModel(editor);\n        if (!model) {\n            return false;\n        }\n        const positionCandidate = { lineNumber, column };\n        return model.validatePosition(positionCandidate).equals(positionCandidate);\n    }\n    lineCount(editor) {\n        return this.getModel(editor)?.getLineCount() ?? 0;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17018, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar AbstractGotoSymbolQuickAccessProvider_1;\nimport { DeferredPromise } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { pieceToQuery, prepareQuery, scoreFuzzy2 } from '../../../../base/common/fuzzyScorer.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { format, trim } from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nimport { SymbolKinds, getAriaLabelForSymbol } from '../../../common/languages.js';\nimport { IOutlineModelService } from '../../documentSymbols/browser/outlineModel.js';\nimport { AbstractEditorNavigationQuickAccessProvider } from './editorNavigationQuickAccess.js';\nimport { localize } from '../../../../nls.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { findLast } from '../../../../base/common/arraysFind.js';\nlet AbstractGotoSymbolQuickAccessProvider = class AbstractGotoSymbolQuickAccessProvider extends AbstractEditorNavigationQuickAccessProvider {\n    static { AbstractGotoSymbolQuickAccessProvider_1 = this; }\n    static { this.PREFIX = '@'; }\n    static { this.SCOPE_PREFIX = ':'; }\n    static { this.PREFIX_BY_CATEGORY = `${this.PREFIX}${this.SCOPE_PREFIX}`; }\n    constructor(_languageFeaturesService, _outlineModelService, options = Object.create(null)) {\n        super(options);\n        this._languageFeaturesService = _languageFeaturesService;\n        this._outlineModelService = _outlineModelService;\n        this.options = options;\n        this.options.canAcceptInBackground = true;\n    }\n    provideWithoutTextEditor(picker) {\n        this.provideLabelPick(picker, localize('cannotRunGotoSymbolWithoutEditor', \"To go to a symbol, first open a text editor with symbol information.\"));\n        return Disposable.None;\n    }\n    provideWithTextEditor(context, picker, token, runOptions) {\n        const editor = context.editor;\n        const model = this.getModel(editor);\n        if (!model) {\n            return Disposable.None;\n        }\n        // Provide symbols from model if available in registry\n        if (this._languageFeaturesService.documentSymbolProvider.has(model)) {\n            return this.doProvideWithEditorSymbols(context, model, picker, token, runOptions);\n        }\n        // Otherwise show an entry for a model without registry\n        // But give a chance to resolve the symbols at a later\n        // point if possible\n        return this.doProvideWithoutEditorSymbols(context, model, picker, token);\n    }\n    doProvideWithoutEditorSymbols(context, model, picker, token) {\n        const disposables = new DisposableStore();\n        // Generic pick for not having any symbol information\n        this.provideLabelPick(picker, localize('cannotRunGotoSymbolWithoutSymbolProvider', \"The active text editor does not provide symbol information.\"));\n        // Wait for changes to the registry and see if eventually\n        // we do get symbols. This can happen if the picker is opened\n        // very early after the model has loaded but before the\n        // language registry is ready.\n        // https://github.com/microsoft/vscode/issues/70607\n        (async () => {\n            const result = await this.waitForLanguageSymbolRegistry(model, disposables);\n            if (!result || token.isCancellationRequested) {\n                return;\n            }\n            disposables.add(this.doProvideWithEditorSymbols(context, model, picker, token));\n        })();\n        return disposables;\n    }\n    provideLabelPick(picker, label) {\n        picker.items = [{ label, index: 0, kind: 14 /* SymbolKind.String */ }];\n        picker.ariaLabel = label;\n    }\n    async waitForLanguageSymbolRegistry(model, disposables) {\n        if (this._languageFeaturesService.documentSymbolProvider.has(model)) {\n            return true;\n        }\n        const symbolProviderRegistryPromise = new DeferredPromise();\n        // Resolve promise when registry knows model\n        const symbolProviderListener = disposables.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(() => {\n            if (this._languageFeaturesService.documentSymbolProvider.has(model)) {\n                symbolProviderListener.dispose();\n                symbolProviderRegistryPromise.complete(true);\n            }\n        }));\n        // Resolve promise when we get disposed too\n        disposables.add(toDisposable(() => symbolProviderRegistryPromise.complete(false)));\n        return symbolProviderRegistryPromise.p;\n    }\n    doProvideWithEditorSymbols(context, model, picker, token, runOptions) {\n        const editor = context.editor;\n        const disposables = new DisposableStore();\n        // Goto symbol once picked\n        disposables.add(picker.onDidAccept(event => {\n            const [item] = picker.selectedItems;\n            if (item && item.range) {\n                this.gotoLocation(context, { range: item.range.selection, keyMods: picker.keyMods, preserveFocus: event.inBackground });\n                runOptions?.handleAccept?.(item);\n                if (!event.inBackground) {\n                    picker.hide();\n                }\n            }\n        }));\n        // Goto symbol side by side if enabled\n        disposables.add(picker.onDidTriggerItemButton(({ item }) => {\n            if (item && item.range) {\n                this.gotoLocation(context, { range: item.range.selection, keyMods: picker.keyMods, forceSideBySide: true });\n                picker.hide();\n            }\n        }));\n        // Resolve symbols from document once and reuse this\n        // request for all filtering and typing then on\n        const symbolsPromise = this.getDocumentSymbols(model, token);\n        // Set initial picks and update on type\n        let picksCts = undefined;\n        const updatePickerItems = async (positionToEnclose) => {\n            // Cancel any previous ask for picks and busy\n            picksCts?.dispose(true);\n            picker.busy = false;\n            // Create new cancellation source for this run\n            picksCts = new CancellationTokenSource(token);\n            // Collect symbol picks\n            picker.busy = true;\n            try {\n                const query = prepareQuery(picker.value.substr(AbstractGotoSymbolQuickAccessProvider_1.PREFIX.length).trim());\n                const items = await this.doGetSymbolPicks(symbolsPromise, query, undefined, picksCts.token, model);\n                if (token.isCancellationRequested) {\n                    return;\n                }\n                if (items.length > 0) {\n                    picker.items = items;\n                    if (positionToEnclose && query.original.length === 0) {\n                        const candidate = findLast(items, item => Boolean(item.type !== 'separator' && item.range && Range.containsPosition(item.range.decoration, positionToEnclose)));\n                        if (candidate) {\n                            picker.activeItems = [candidate];\n                        }\n                    }\n                }\n                else {\n                    if (query.original.length > 0) {\n                        this.provideLabelPick(picker, localize('noMatchingSymbolResults', \"No matching editor symbols\"));\n                    }\n                    else {\n                        this.provideLabelPick(picker, localize('noSymbolResults', \"No editor symbols\"));\n                    }\n                }\n            }\n            finally {\n                if (!token.isCancellationRequested) {\n                    picker.busy = false;\n                }\n            }\n        };\n        disposables.add(picker.onDidChangeValue(() => updatePickerItems(undefined)));\n        updatePickerItems(editor.getSelection()?.getPosition());\n        // Reveal and decorate when active item changes\n        disposables.add(picker.onDidChangeActive(() => {\n            const [item] = picker.activeItems;\n            if (item && item.range) {\n                // Reveal\n                editor.revealRangeInCenter(item.range.selection, 0 /* ScrollType.Smooth */);\n                // Decorate\n                this.addDecorations(editor, item.range.decoration);\n            }\n        }));\n        return disposables;\n    }\n    async doGetSymbolPicks(symbolsPromise, query, options, token, model) {\n        const symbols = await symbolsPromise;\n        if (token.isCancellationRequested) {\n            return [];\n        }\n        const filterBySymbolKind = query.original.indexOf(AbstractGotoSymbolQuickAccessProvider_1.SCOPE_PREFIX) === 0;\n        const filterPos = filterBySymbolKind ? 1 : 0;\n        // Split between symbol and container query\n        let symbolQuery;\n        let containerQuery;\n        if (query.values && query.values.length > 1) {\n            symbolQuery = pieceToQuery(query.values[0]); // symbol: only match on first part\n            containerQuery = pieceToQuery(query.values.slice(1)); // container: match on all but first parts\n        }\n        else {\n            symbolQuery = query;\n        }\n        // Convert to symbol picks and apply filtering\n        let buttons;\n        const openSideBySideDirection = this.options?.openSideBySideDirection?.();\n        if (openSideBySideDirection) {\n            buttons = [{\n                    iconClass: openSideBySideDirection === 'right' ? ThemeIcon.asClassName(Codicon.splitHorizontal) : ThemeIcon.asClassName(Codicon.splitVertical),\n                    tooltip: openSideBySideDirection === 'right' ? localize('openToSide', \"Open to the Side\") : localize('openToBottom', \"Open to the Bottom\")\n                }];\n        }\n        const filteredSymbolPicks = [];\n        for (let index = 0; index < symbols.length; index++) {\n            const symbol = symbols[index];\n            const symbolLabel = trim(symbol.name);\n            const symbolLabelWithIcon = `$(${SymbolKinds.toIcon(symbol.kind).id}) ${symbolLabel}`;\n            const symbolLabelIconOffset = symbolLabelWithIcon.length - symbolLabel.length;\n            let containerLabel = symbol.containerName;\n            if (options?.extraContainerLabel) {\n                if (containerLabel) {\n                    containerLabel = `${options.extraContainerLabel}  ${containerLabel}`;\n                }\n                else {\n                    containerLabel = options.extraContainerLabel;\n                }\n            }\n            let symbolScore = undefined;\n            let symbolMatches = undefined;\n            let containerScore = undefined;\n            let containerMatches = undefined;\n            if (query.original.length > filterPos) {\n                // First: try to score on the entire query, it is possible that\n                // the symbol matches perfectly (e.g. searching for \"change log\"\n                // can be a match on a markdown symbol \"change log\"). In that\n                // case we want to skip the container query altogether.\n                let skipContainerQuery = false;\n                if (symbolQuery !== query) {\n                    [symbolScore, symbolMatches] = scoreFuzzy2(symbolLabelWithIcon, { ...query, values: undefined /* disable multi-query support */ }, filterPos, symbolLabelIconOffset);\n                    if (typeof symbolScore === 'number') {\n                        skipContainerQuery = true; // since we consumed the query, skip any container matching\n                    }\n                }\n                // Otherwise: score on the symbol query and match on the container later\n                if (typeof symbolScore !== 'number') {\n                    [symbolScore, symbolMatches] = scoreFuzzy2(symbolLabelWithIcon, symbolQuery, filterPos, symbolLabelIconOffset);\n                    if (typeof symbolScore !== 'number') {\n                        continue;\n                    }\n                }\n                // Score by container if specified\n                if (!skipContainerQuery && containerQuery) {\n                    if (containerLabel && containerQuery.original.length > 0) {\n                        [containerScore, containerMatches] = scoreFuzzy2(containerLabel, containerQuery);\n                    }\n                    if (typeof containerScore !== 'number') {\n                        continue;\n                    }\n                    if (typeof symbolScore === 'number') {\n                        symbolScore += containerScore; // boost symbolScore by containerScore\n                    }\n                }\n            }\n            const deprecated = symbol.tags && symbol.tags.indexOf(1 /* SymbolTag.Deprecated */) >= 0;\n            filteredSymbolPicks.push({\n                index,\n                kind: symbol.kind,\n                score: symbolScore,\n                label: symbolLabelWithIcon,\n                ariaLabel: getAriaLabelForSymbol(symbol.name, symbol.kind),\n                description: containerLabel,\n                highlights: deprecated ? undefined : {\n                    label: symbolMatches,\n                    description: containerMatches\n                },\n                range: {\n                    selection: Range.collapseToStart(symbol.selectionRange),\n                    decoration: symbol.range\n                },\n                uri: model.uri,\n                symbolName: symbolLabel,\n                strikethrough: deprecated,\n                buttons\n            });\n        }\n        // Sort by score\n        const sortedFilteredSymbolPicks = filteredSymbolPicks.sort((symbolA, symbolB) => filterBySymbolKind ?\n            this.compareByKindAndScore(symbolA, symbolB) :\n            this.compareByScore(symbolA, symbolB));\n        // Add separator for types\n        // - @  only total number of symbols\n        // - @: grouped by symbol kind\n        let symbolPicks = [];\n        if (filterBySymbolKind) {\n            let lastSymbolKind = undefined;\n            let lastSeparator = undefined;\n            let lastSymbolKindCounter = 0;\n            function updateLastSeparatorLabel() {\n                if (lastSeparator && typeof lastSymbolKind === 'number' && lastSymbolKindCounter > 0) {\n                    lastSeparator.label = format(NLS_SYMBOL_KIND_CACHE[lastSymbolKind] || FALLBACK_NLS_SYMBOL_KIND, lastSymbolKindCounter);\n                }\n            }\n            for (const symbolPick of sortedFilteredSymbolPicks) {\n                // Found new kind\n                if (lastSymbolKind !== symbolPick.kind) {\n                    // Update last separator with number of symbols we found for kind\n                    updateLastSeparatorLabel();\n                    lastSymbolKind = symbolPick.kind;\n                    lastSymbolKindCounter = 1;\n                    // Add new separator for new kind\n                    lastSeparator = { type: 'separator' };\n                    symbolPicks.push(lastSeparator);\n                }\n                // Existing kind, keep counting\n                else {\n                    lastSymbolKindCounter++;\n                }\n                // Add to final result\n                symbolPicks.push(symbolPick);\n            }\n            // Update last separator with number of symbols we found for kind\n            updateLastSeparatorLabel();\n        }\n        else if (sortedFilteredSymbolPicks.length > 0) {\n            symbolPicks = [\n                { label: localize('symbols', \"symbols ({0})\", filteredSymbolPicks.length), type: 'separator' },\n                ...sortedFilteredSymbolPicks\n            ];\n        }\n        return symbolPicks;\n    }\n    compareByScore(symbolA, symbolB) {\n        if (typeof symbolA.score !== 'number' && typeof symbolB.score === 'number') {\n            return 1;\n        }\n        else if (typeof symbolA.score === 'number' && typeof symbolB.score !== 'number') {\n            return -1;\n        }\n        if (typeof symbolA.score === 'number' && typeof symbolB.score === 'number') {\n            if (symbolA.score > symbolB.score) {\n                return -1;\n            }\n            else if (symbolA.score < symbolB.score) {\n                return 1;\n            }\n        }\n        if (symbolA.index < symbolB.index) {\n            return -1;\n        }\n        else if (symbolA.index > symbolB.index) {\n            return 1;\n        }\n        return 0;\n    }\n    compareByKindAndScore(symbolA, symbolB) {\n        const kindA = NLS_SYMBOL_KIND_CACHE[symbolA.kind] || FALLBACK_NLS_SYMBOL_KIND;\n        const kindB = NLS_SYMBOL_KIND_CACHE[symbolB.kind] || FALLBACK_NLS_SYMBOL_KIND;\n        // Sort by type first if scoped search\n        const result = kindA.localeCompare(kindB);\n        if (result === 0) {\n            return this.compareByScore(symbolA, symbolB);\n        }\n        return result;\n    }\n    async getDocumentSymbols(document, token) {\n        const model = await this._outlineModelService.getOrCreate(document, token);\n        return token.isCancellationRequested ? [] : model.asListOfDocumentSymbols();\n    }\n};\nAbstractGotoSymbolQuickAccessProvider = AbstractGotoSymbolQuickAccessProvider_1 = __decorate([\n    __param(0, ILanguageFeaturesService),\n    __param(1, IOutlineModelService)\n], AbstractGotoSymbolQuickAccessProvider);\nexport { AbstractGotoSymbolQuickAccessProvider };\n// #region NLS Helpers\nconst FALLBACK_NLS_SYMBOL_KIND = localize('property', \"properties ({0})\");\nconst NLS_SYMBOL_KIND_CACHE = {\n    [5 /* SymbolKind.Method */]: localize('method', \"methods ({0})\"),\n    [11 /* SymbolKind.Function */]: localize('function', \"functions ({0})\"),\n    [8 /* SymbolKind.Constructor */]: localize('_constructor', \"constructors ({0})\"),\n    [12 /* SymbolKind.Variable */]: localize('variable', \"variables ({0})\"),\n    [4 /* SymbolKind.Class */]: localize('class', \"classes ({0})\"),\n    [22 /* SymbolKind.Struct */]: localize('struct', \"structs ({0})\"),\n    [23 /* SymbolKind.Event */]: localize('event', \"events ({0})\"),\n    [24 /* SymbolKind.Operator */]: localize('operator', \"operators ({0})\"),\n    [10 /* SymbolKind.Interface */]: localize('interface', \"interfaces ({0})\"),\n    [2 /* SymbolKind.Namespace */]: localize('namespace', \"namespaces ({0})\"),\n    [3 /* SymbolKind.Package */]: localize('package', \"packages ({0})\"),\n    [25 /* SymbolKind.TypeParameter */]: localize('typeParameter', \"type parameters ({0})\"),\n    [1 /* SymbolKind.Module */]: localize('modules', \"modules ({0})\"),\n    [6 /* SymbolKind.Property */]: localize('property', \"properties ({0})\"),\n    [9 /* SymbolKind.Enum */]: localize('enum', \"enumerations ({0})\"),\n    [21 /* SymbolKind.EnumMember */]: localize('enumMember', \"enumeration members ({0})\"),\n    [14 /* SymbolKind.String */]: localize('string', \"strings ({0})\"),\n    [0 /* SymbolKind.File */]: localize('file', \"files ({0})\"),\n    [17 /* SymbolKind.Array */]: localize('array', \"arrays ({0})\"),\n    [15 /* SymbolKind.Number */]: localize('number', \"numbers ({0})\"),\n    [16 /* SymbolKind.Boolean */]: localize('boolean', \"booleans ({0})\"),\n    [18 /* SymbolKind.Object */]: localize('object', \"objects ({0})\"),\n    [19 /* SymbolKind.Key */]: localize('key', \"keys ({0})\"),\n    [7 /* SymbolKind.Field */]: localize('field', \"fields ({0})\"),\n    [13 /* SymbolKind.Constant */]: localize('constant', \"constants ({0})\")\n};\n//#endregion\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17447, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/node_modules/.pnpm/monaco-editor%400.52.2/node_modules/monaco-editor/esm/vs/editor/contrib/quickAccess/browser/commandsQuickAccess.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { stripIcons } from '../../../../base/common/iconLabels.js';\nimport { isLocalizedString } from '../../../../platform/action/common/action.js';\nimport { AbstractCommandsQuickAccessProvider } from '../../../../platform/quickinput/browser/commandsQuickAccess.js';\nexport class AbstractEditorCommandsQuickAccessProvider extends AbstractCommandsQuickAccessProvider {\n    constructor(options, instantiationService, keybindingService, commandService, telemetryService, dialogService) {\n        super(options, instantiationService, keybindingService, commandService, telemetryService, dialogService);\n    }\n    getCodeEditorCommandPicks() {\n        const activeTextEditorControl = this.activeTextEditorControl;\n        if (!activeTextEditorControl) {\n            return [];\n        }\n        const editorCommandPicks = [];\n        for (const editorAction of activeTextEditorControl.getSupportedActions()) {\n            let commandDescription;\n            if (editorAction.metadata?.description) {\n                if (isLocalizedString(editorAction.metadata.description)) {\n                    commandDescription = editorAction.metadata.description;\n                }\n                else {\n                    commandDescription = { original: editorAction.metadata.description, value: editorAction.metadata.description };\n                }\n            }\n            editorCommandPicks.push({\n                commandId: editorAction.id,\n                commandAlias: editorAction.alias,\n                commandDescription,\n                label: stripIcons(editorAction.label) || editorAction.id,\n            });\n        }\n        return editorCommandPicks;\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAC9F;AACA;AACA;;;;AACO,MAAM,kDAAkD,0QAAA,CAAA,sCAAmC;IAI9F,4BAA4B;QACxB,MAAM,0BAA0B,IAAI,CAAC,uBAAuB;QAC5D,IAAI,CAAC,yBAAyB;YAC1B,OAAO,EAAE;QACb;QACA,MAAM,qBAAqB,EAAE;QAC7B,KAAK,MAAM,gBAAgB,wBAAwB,mBAAmB,GAAI;gBAElE;YADJ,IAAI;YACJ,KAAI,yBAAA,aAAa,QAAQ,cAArB,6CAAA,uBAAuB,WAAW,EAAE;gBACpC,IAAI,CAAA,GAAA,wPAAA,CAAA,oBAAiB,AAAD,EAAE,aAAa,QAAQ,CAAC,WAAW,GAAG;oBACtD,qBAAqB,aAAa,QAAQ,CAAC,WAAW;gBAC1D,OACK;oBACD,qBAAqB;wBAAE,UAAU,aAAa,QAAQ,CAAC,WAAW;wBAAE,OAAO,aAAa,QAAQ,CAAC,WAAW;oBAAC;gBACjH;YACJ;YACA,mBAAmB,IAAI,CAAC;gBACpB,WAAW,aAAa,EAAE;gBAC1B,cAAc,aAAa,KAAK;gBAChC;gBACA,OAAO,CAAA,GAAA,8OAAA,CAAA,aAAU,AAAD,EAAE,aAAa,KAAK,KAAK,aAAa,EAAE;YAC5D;QACJ;QACA,OAAO;IACX;IA3BA,YAAY,OAAO,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,cAAc,EAAE,gBAAgB,EAAE,aAAa,CAAE;QAC3G,KAAK,CAAC,SAAS,sBAAsB,mBAAmB,gBAAgB,kBAAkB;IAC9F;AA0BJ","ignoreList":[0],"debugId":null}}]
}