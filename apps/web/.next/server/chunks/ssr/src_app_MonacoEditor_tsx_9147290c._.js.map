{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///Users/jloka/Documents/repos/personal/shared-workshop/src/app/MonacoEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport { Editor, useMonaco } from \"@monaco-editor/react\";\nimport { type editor, Uri } from \"monaco-editor\";\nimport { useEffect, useRef, useState } from \"react\";\n\nexport function MonacoEditor() {\n  const [model, setModel] = useState<string>(\n    `console.log('Hello World')\n\nconsole.log('Hello World')\n\nconsole.log('Hello World')\n`,\n  );\n  const [editorValue, setEditorValue] = useState<string>(model);\n  const editorModel = useRef<editor.ITextModel | null>(null);\n\n  const monaco = useMonaco();\n\n  useEffect(() => {\n    if (monaco?.editor) {\n      editorModel.current = monaco.editor.getModel(Uri.file(\"default.ts\"));\n    }\n  }, [monaco?.editor]);\n\n  useEffect(() => {\n    if (editorModel.current && editorValue !== model) {\n      editorModel.current.setValue(editorValue);\n    }\n  }, [editorValue, model]);\n\n  return (\n    <Editor\n      className=\"h-full w-full grow\"\n      path=\"default.ts\"\n      wrapperProps={{\n        className: \"w-full grow flex flex-col\",\n      }}\n      language=\"typescript\"\n      defaultValue={model}\n      value={model}\n      theme=\"vs-dark\"\n      options={{\n        minimap: {\n          enabled: false,\n        },\n        value: model,\n      }}\n      onChange={(value, event) => {\n        console.debug(event);\n\n        const allChangesValid = event.changes.every(\n          (change) =>\n            change.range.startLineNumber > 2 && change.range.endLineNumber < 4,\n        );\n\n        console.debug(allChangesValid);\n        setEditorValue(model);\n\n        if (allChangesValid) {\n          setModel(value ?? \"\");\n        }\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;AACA;AAAA;AACA;AAJA;;;;;AAMO,SAAS;IACd,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAC/B,CAAC;;;;;AAKL,CAAC;IAEC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAU;IACvD,MAAM,cAAc,CAAA,GAAA,oUAAA,CAAA,SAAM,AAAD,EAA4B;IAErD,MAAM,SAAS,CAAA,GAAA,8WAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ,QAAQ;YAClB,YAAY,OAAO,GAAG,OAAO,MAAM,CAAC,QAAQ,CAAC,sOAAA,CAAA,MAAG,CAAC,IAAI,CAAC;QACxD;IACF,GAAG;QAAC,QAAQ;KAAO;IAEnB,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,OAAO,IAAI,gBAAgB,OAAO;YAChD,YAAY,OAAO,CAAC,QAAQ,CAAC;QAC/B;IACF,GAAG;QAAC;QAAa;KAAM;IAEvB,qBACE,6WAAC,8WAAA,CAAA,SAAM;QACL,WAAU;QACV,MAAK;QACL,cAAc;YACZ,WAAW;QACb;QACA,UAAS;QACT,cAAc;QACd,OAAO;QACP,OAAM;QACN,SAAS;YACP,SAAS;gBACP,SAAS;YACX;YACA,OAAO;QACT;QACA,UAAU,CAAC,OAAO;YAChB,QAAQ,KAAK,CAAC;YAEd,MAAM,kBAAkB,MAAM,OAAO,CAAC,KAAK,CACzC,CAAC,SACC,OAAO,KAAK,CAAC,eAAe,GAAG,KAAK,OAAO,KAAK,CAAC,aAAa,GAAG;YAGrE,QAAQ,KAAK,CAAC;YACd,eAAe;YAEf,IAAI,iBAAiB;gBACnB,SAAS,SAAS;YACpB;QACF;;;;;;AAGN","debugId":null}}]
}